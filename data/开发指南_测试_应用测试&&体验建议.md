# 合并文件
合并时间: 2025-05-01 08:15:43

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/app-testing-overview-V14
爬取时间: 2025-05-01 07:34:48
来源: Huawei Developer
本章节介绍HarmonyOS NEXT应用的单元测试、集成测试和专项测试。
单元测试
在HarmonyOS NEXT应用单元测试可以在测试框架下进行，测试框架由核心模块和扩展模块组成。其中核心模块是测试框架的最小集，包含执行必备核心接口和逻辑。扩展模块是在核心模块的基础上增加一些常用能力，例如用例超时控制、用例筛选、数据驱动、压力测试等。核心模块采用插件化机制，提供接入能力和运行时上下文，扩展模块通过插件的方式接入。
UI测试
通过简洁易用的API提供查找和操作界面控件能力，支持开发者编写基于界面操作的自动化测试脚本。
专项测试
专项测试包括兼容性、稳定性、安全、性能、功耗、UX等，开发者可以结合各维度的应用质量建议，通过提供的多种专项测试工具来保障应用质量。

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/ut-V14
爬取时间: 2025-05-01 07:35:24
来源: Huawei Developer

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/arkxtest-guidelines-V14
爬取时间: 2025-05-01 07:35:58
来源: Huawei Developer
概述
自动化测试框架arkxtest，作为工具集的重要组成部分，支持JS/TS语言的单元测试框架（JsUnit）及UI测试框架（UiTest）。
JsUnit提供单元测试用例执行能力，提供用例编写基础接口，生成对应报告，用于测试系统或应用接口。
UiTest通过简洁易用的API提供查找和操作界面控件能力，支持用户开发基于界面操作的自动化测试脚本。
本指南介绍了测试框架的主要功能、实现原理、环境准备，以及测试脚本编写和执行方法。同时，以shell命令方式，对外提供了获取截屏、控件树、录制用户操作、便捷注入UI模拟操作等能力，助力开发者更灵活方便测试和验证。
实现原理
测试框架分为单元测试框架和UI测试框架。
单元测试框架是测试框架的基础底座，提供了最基本的用例识别、调度、执行及结果汇总的能力。
UI测试框架主要对外提供了UiTest API供开发人员在对应测试场景调用，而其脚本的运行基础仍是单元测试框架。
单元测试框架
图1.单元测试框架主要功能
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160402.99660602571257679504067100012245:50001231000000:2800:CD8B73B4A5CD5A7F7AABEF2FF13BEEE7E441A66D42AE92F1E933FB506A7E65C9.png)
图2.脚本基础流程运行图
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160402.90533377612672634419758362532276:50001231000000:2800:20022D512CD921130EDF96C4BA67CC1C36049708A37936823742BB3C3FD950BA.png)
UI测试框架
图3.UI测试框架主要功能
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160402.41180412395949523573952868432015:50001231000000:2800:9AF5ACA82CB790D7C9EB0CA6E8CE10BFFA652585C8D97DBBBA41D9AA4E60221B.png)
基于ArkTS编写和执行测试
搭建环境
DevEco Studio可参考其官网介绍进行下载，并进行相关的配置动作。
新建和编写测试脚本
新建测试脚本
在DevEco Studio中新建应用开发工程，其中ohosTest和test目录均为测试脚本所在的目录，API10及以上版本支持创建Instrument Test和Local Test。
-  Instrument Test：测试用例存放在ohosTest测试目录下，需要运行在设备或模拟器上，支持单元测试和UI测试。
-  Local Test：测试用例存放在test测试目录下，不需要运行在设备或模拟器上，支持单元测试。
Instrument Test和Local Test创建的具体操作，请参考测试框架。
编写单元测试脚本
本章节主要描述单元测试框架支持能力，以及能力的使用方法，具体请参考单元测试框架功能特性。
在单元测试框架，测试脚本需要包含如下基本元素:
1.  依赖导包，以便使用依赖的测试接口。
2.  测试代码编写，主要编写测试代码的相关逻辑，如接口调用等。
3.  断言接口调用，设置测试代码中的检查点，如无检查点，则不可认为一个完整的测试脚本。
如下示例代码实现的场景是：启动测试页面，检查设备当前显示的页面是否为预期页面。
```typescript
import { describe, it, expect } from '@ohos/hypium';
import { abilityDelegatorRegistry } from '@kit.TestKit';
import { UIAbility, Want } from '@kit.AbilityKit';
const delegator = abilityDelegatorRegistry.getAbilityDelegator()
const bundleName = abilityDelegatorRegistry.getArguments().bundleName;
function sleep(time: number) {
return new Promise<void>((resolve: Function) => setTimeout(resolve, time));
}
export default function abilityTest() {
describe('ActsAbilityTest', () =>{
it('testUiExample',0, async (done: Function) => {
console.info("uitest: TestUiExample begin");
//start tested ability
const want: Want = {
bundleName: bundleName,
abilityName: 'EntryAbility'
}
await delegator.startAbility(want);
await sleep(1000);
//check top display ability
const ability: UIAbility = await delegator.getCurrentTopAbility();
console.info("get top ability");
expect(ability.context.abilityInfo.name).assertEqual('EntryAbility');
done();
})
})
}
```
编写UI测试脚本
本章节主要介绍UI测试框架支持能力，以及对应能力API的使用方法。
UI测试基于单元测试，UI测试脚本在单元测试脚本上增加了对UiTest接口，具体请参考API文档。
如下的示例代码是在上面的单元测试脚本基础上增量编写，实现的场景是：在启动的应用页面上进行点击操作，然后检测当前页面变化是否为预期变化。
```typescript
@Entry
@Component
struct Index {
@State message: string = 'Hello World'
build() {
Row() {
Column() {
Text(this.message)
.fontSize(50)
.fontWeight(FontWeight.Bold)
Text("Next")
.fontSize(50)
.margin({top:20})
.fontWeight(FontWeight.Bold)
Text("after click")
.fontSize(50)
.margin({top:20})
.fontWeight(FontWeight.Bold)
}
.width('100%')
}
.height('100%')
}
}
```
```typescript
import { describe, it, expect } from '@ohos/hypium';
// 导入测试依赖kit
import { abilityDelegatorRegistry, Driver, ON } from '@kit.TestKit';
import { UIAbility, Want } from '@kit.AbilityKit';
const delegator: abilityDelegatorRegistry.AbilityDelegator = abilityDelegatorRegistry.getAbilityDelegator()
const bundleName = abilityDelegatorRegistry.getArguments().bundleName;
function sleep(time: number) {
return new Promise<void>((resolve: Function) => setTimeout(resolve, time));
}
export default function abilityTest() {
describe('ActsAbilityTest', () => {
it('testUiExample',0, async (done: Function) => {
console.info("uitest: TestUiExample begin");
//start tested ability
const want: Want = {
bundleName: bundleName,
abilityName: 'EntryAbility'
}
await delegator.startAbility(want);
await sleep(1000);
//check top display ability
const ability: UIAbility = await delegator.getCurrentTopAbility();
console.info("get top ability");
expect(ability.context.abilityInfo.name).assertEqual('EntryAbility');
//ui test code
//init driver
const driver = Driver.create();
await driver.delayMs(1000);
//find button on text 'Next'
const button = await driver.findComponent(ON.text('Next'));
//click button
await button.click();
await driver.delayMs(1000);
//check text
await driver.assertComponentExist(ON.text('after click'));
await driver.pressBack();
done();
})
})
}
```
执行测试脚本
在DevEco Studio执行
脚本执行需要连接硬件设备。通过点击按钮执行，当前支持以下执行方式：
1.  测试包级别执行，即执行测试包内的全部用例。
2.  测试套级别执行，即执行describe方法中定义的全部测试用例。
3.  测试方法级别执行，即执行指定it方法也就是单条测试用例。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160403.47693185952063258276263558767879:50001231000000:2800:9CFC089D8C079BE246120C9CA924BA389D4716DADF81083F64D8916E86A80A40.png)
查看测试结果
测试执行完毕后可直接在DevEco Studio中查看测试结果，如下图示例所示。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160403.16384058040099924098078110151316:50001231000000:2800:32B644628C8C26D91033C8FE7E5E882997FC234EA8CDC24D4BA98CF4EC19BB12.png)
查看测试用例覆盖率
执行完测试用例后可以查看测试用例覆盖率，具体操作请参考代码测试下各章节内的覆盖率统计模式。
在CMD执行
脚本执行需要连接硬件设备，将应用测试包安装到测试设备上，在cmd窗口中执行aa命令，完成对用例测试。
使用cmd的方式，需要配置好hdc相关的环境变量。
aa test命令执行配置参数
| 执行参数全写  | 执行参数缩写  | 执行参数含义  | 执行参数示例  |
| --- | --- | --- | --- |
| --bundleName  | -b  | 应用Bundle名称。  | - b com.test.example  |
| --packageName  | -p  | 应用模块名，适用于FA模型应用。  | - p com.test.example.entry  |
| --moduleName  | -m  | 应用模块名，适用于STAGE模型应用。  | -m entry  |
| NA  | -s  | 特定参数，以<key, value>键值对方式传入。  | - s unittest /ets/testrunner/OpenHarmonyTestRunner  |
执行参数全写
执行参数缩写
执行参数含义
执行参数示例
--bundleName
-b
应用Bundle名称。
- b com.test.example
--packageName
-p
应用模块名，适用于FA模型应用。
- p com.test.example.entry
--moduleName
-m
应用模块名，适用于STAGE模型应用。
-m entry
NA
-s
特定参数，以<key, value>键值对方式传入。
- s unittest /ets/testrunner/OpenHarmonyTestRunner
框架当前支持多种用例执行方式，通过上表中的-s参数后的配置键值对参数传入触发，如下表所示。
| 配置参数名  | 配置参数含义  | 配置参数取值  | 配置参数示例  |
| --- | --- | --- | --- |
| unittest  | 用例执行所使用OpenHarmonyTestRunner对象。  | OpenHarmonyTestRunner或用户自定义runner名称  | - s unittest OpenHarmonyTestRunner  |
| class  | 指定要执行的测试套或测试用例。  | {describeName}#{itName}，{describeName}  | -s class attributeTest#testAttributeIt  |
| notClass  | 指定不需要执行的测试套或测试用例。  | {describeName}#{itName}，{describeName}  | -s notClass attributeTest#testAttributeIt  |
| itName  | 指定要执行的测试用例。  | {itName}  | -s itName testAttributeIt  |
| timeout  | 测试用例执行的超时时间。  | 正整数（单位ms），如不设置默认为 5000  | -s timeout 15000  |
| breakOnError  | 遇错即停模式，当执行用例断言失败或者发生错误时，退出测试执行流程。  | true/false(默认值)  | -s breakOnError true  |
| random  | 测试用例随机顺序执行。  | true/false(默认值)  | -s random true  |
| testType  | 指定要执行用例的用例类型。  | function，performance，power，reliability， security，global，compatibility，user，standard，safety，resilience'  | -s testType function  |
| level  | 指定要执行用例的用例级别。  | 0,1,2,3,4  | -s level 0  |
| size  | 指定要执行用例的用例规模。  | small，medium，large  | -s size small  |
| stress  | 指定要执行用例的执行次数。  | 正整数  | -s stress 1000  |
配置参数名
配置参数含义
配置参数取值
配置参数示例
unittest
用例执行所使用OpenHarmonyTestRunner对象。
OpenHarmonyTestRunner或用户自定义runner名称
- s unittest OpenHarmonyTestRunner
class
指定要执行的测试套或测试用例。
{describeName}#{itName}，{describeName}
-s class attributeTest#testAttributeIt
notClass
指定不需要执行的测试套或测试用例。
{describeName}#{itName}，{describeName}
-s notClass attributeTest#testAttributeIt
itName
指定要执行的测试用例。
{itName}
-s itName testAttributeIt
timeout
测试用例执行的超时时间。
正整数（单位ms），如不设置默认为 5000
-s timeout 15000
breakOnError
遇错即停模式，当执行用例断言失败或者发生错误时，退出测试执行流程。
true/false(默认值)
-s breakOnError true
random
测试用例随机顺序执行。
true/false(默认值)
-s random true
testType
指定要执行用例的用例类型。
function，performance，power，reliability， security，global，compatibility，user，standard，safety，resilience'
-s testType function
level
指定要执行用例的用例级别。
0,1,2,3,4
-s level 0
size
指定要执行用例的用例规模。
small，medium，large
-s size small
stress
指定要执行用例的执行次数。
正整数
-s stress 1000
在cmd窗口执行test命令
参数配置和命令均是基于Stage模型。
示例代码1：执行所有测试用例。
```shell
hdc shell aa test -b xxx -m xxx -s unittest OpenHarmonyTestRunner
```
示例代码2：执行指定的describe测试套用例，指定多个需用逗号隔开。
```shell
hdc shell aa test -b xxx -m xxx -s unittest OpenHarmonyTestRunner -s class s1,s2
```
示例代码3：执行指定测试套中指定的用例，指定多个需用逗号隔开。
```shell
hdc shell aa test -b xxx -m xxx -s unittest OpenHarmonyTestRunner -s class testStop#stop_1,testStop1#stop_0
```
示例代码4：执行指定除配置以外的所有的用例，设置不执行多个测试套需用逗号隔开。
```shell
hdc shell aa test -b xxx -m xxx -s unittest OpenHarmonyTestRunner -s notClass testStop
```
示例代码5：执行指定it名称的所有用例，指定多个需用逗号隔开。
```shell
hdc shell aa test -b xxx -m xxx -s unittest OpenHarmonyTestRunner -s itName stop_0
```
示例代码6：用例执行超时时长配置。
```shell
hdc shell aa test -b xxx -m xxx -s unittest OpenHarmonyTestRunner -s timeout 15000
```
示例代码7：用例以breakOnError模式执行用例。
```shell
hdc shell aa test -b xxx -m xxx -s unittest OpenHarmonyTestRunner -s breakOnError true
```
示例代码8：执行测试类型匹配的测试用例。
```shell
hdc shell aa test -b xxx -m xxx -s unittest OpenHarmonyTestRunner -s testType function
```
示例代码9：执行测试级别匹配的测试用例。
```shell
hdc shell aa test -b xxx -m xxx -s unittest OpenHarmonyTestRunner -s level 0
```
示例代码10：执行测试规模匹配的测试用例。
```shell
hdc shell aa test -b xxx -m xxx -s unittest OpenHarmonyTestRunner -s size small
```
示例代码11：执行测试用例指定次数。
```shell
hdc shell aa test -b xxx -m xxx -s unittest OpenHarmonyTestRunner -s stress 1000
```
查看测试结果
| 日志输出字段  | 日志输出字段含义  |
| --- | --- |
| OHOS_REPORT_SUM  | 当前测试套用例总数。  |
| OHOS_REPORT_STATUS: class  | 当前执行用例测试套名称。  |
| OHOS_REPORT_STATUS: id  | 用例执行语言，默认JS。  |
| OHOS_REPORT_STATUS: numtests  | 测试包中测试用例总数 。  |
| OHOS_REPORT_STATUS: stream  | 当前用例发生错误时，记录错误信息。  |
| OHOS_REPORT_STATUS: test  | 当前用例执行的it name。  |
| OHOS_REPORT_STATUS_CODE  | 当前用例执行结果状态。0表示通过，1表示错误，2表示失败。  |
| OHOS_REPORT_STATUS: consuming  | 当前用例执行消耗的时长（ms）。  |
日志输出字段
日志输出字段含义
OHOS_REPORT_SUM
当前测试套用例总数。
OHOS_REPORT_STATUS: class
当前执行用例测试套名称。
OHOS_REPORT_STATUS: id
用例执行语言，默认JS。
OHOS_REPORT_STATUS: numtests
测试包中测试用例总数 。
OHOS_REPORT_STATUS: stream
当前用例发生错误时，记录错误信息。
OHOS_REPORT_STATUS: test
当前用例执行的it name。
OHOS_REPORT_STATUS_CODE
当前用例执行结果状态。0表示通过，1表示错误，2表示失败。
OHOS_REPORT_STATUS: consuming
当前用例执行消耗的时长（ms）。
| 日志输出字段  | 日志输出字段含义  |
| --- | --- |
| run  | 当前测试包用例总数。  |
| Failure  | 当前测试失败用例个数。  |
| Error  | 当前执行用例发生错误用例个数。  |
| Pass  | 当前执行用例通过用例个数。  |
| Ignore  | 当前未执行用例个数。  |
| taskconsuming  | 执行当前测试用例总耗时（ms）。  |
日志输出字段
日志输出字段含义
run
当前测试包用例总数。
Failure
当前测试失败用例个数。
Error
当前执行用例发生错误用例个数。
Pass
当前执行用例通过用例个数。
Ignore
当前未执行用例个数。
taskconsuming
执行当前测试用例总耗时（ms）。
当处于breakOnError模式，用例发生错误时，注意查看Ignore以及中断说明。
基于shell命令测试
在开发过程中，若需要快速进行截屏、录屏、注入UI模拟操作、获取控件树等操作，可以使用shell命令，更方便完成相应测试。
使用cmd的方式，需要配置好hdc相关的环境变量。
命令列表
| 命令  | 配置参数  | 描述  |
| --- | --- | --- |
| help  | help  | 显示uitest工具能够支持的命令信息。  |
| screenCap  | [-p]  | 截屏。非必填。 指定存储路径和文件名，只支持存放在/data/local/tmp/下。 默认存储路径：/data/local/tmp，文件名：时间戳 + .png。  |
| dumpLayout  | [-p] <-i | -a>  | 支持在daemon运行时执行获取控件树。 -p ：指定存储路径和文件名，只支持存放在/data/local/tmp/下。默认存储路径：/data/local/tmp，文件名：时间戳 + .json。 -i ：不过滤不可见控件,也不做窗口合并。 -a ：保存 BackgroundColor、 Content、FontColor、FontSize、extraAttrs 属性数据。 默认 ：不保存上述属性数据。 -a和-i 不可同时使用。  |
| uiRecord  | uiRecord <record | read>  | 录制Ui操作。 record ：开始录制，将当前界面操作记录到/data/local/tmp/record.csv，结束录制操作使用Ctrl+C结束录制。 read ：读取并且打印录制数据。 各参数代表的含义请参考用户录制操作。  |
| uiInput  | <help | click | doubleClick | longClick | fling | swipe | drag | dircFling | inputText | keyEvent>  | 注入UI模拟操作。 各参数代表的含义请参考注入ui模拟操作。  |
| --version  | --version  | 获取当前工具版本信息。  |
| start-daemon  | start-daemon  | 拉起uitest测试进程。  |
命令
配置参数
描述
help
help
显示uitest工具能够支持的命令信息。
screenCap
[-p]
截屏。非必填。
指定存储路径和文件名，只支持存放在/data/local/tmp/下。
默认存储路径：/data/local/tmp，文件名：时间戳 + .png。
dumpLayout
[-p] <-i | -a>
支持在daemon运行时执行获取控件树。
-p：指定存储路径和文件名，只支持存放在/data/local/tmp/下。默认存储路径：/data/local/tmp，文件名：时间戳 + .json。
-i：不过滤不可见控件,也不做窗口合并。
-a：保存 BackgroundColor、 Content、FontColor、FontSize、extraAttrs 属性数据。
默认：不保存上述属性数据。
-a和-i不可同时使用。
uiRecord
uiRecord <record | read>
录制Ui操作。
record：开始录制，将当前界面操作记录到/data/local/tmp/record.csv，结束录制操作使用Ctrl+C结束录制。
read：读取并且打印录制数据。
各参数代表的含义请参考用户录制操作。
uiInput
<help | click | doubleClick | longClick | fling | swipe | drag | dircFling | inputText | keyEvent>
注入UI模拟操作。
各参数代表的含义请参考注入ui模拟操作。
--version
--version
获取当前工具版本信息。
start-daemon
start-daemon
拉起uitest测试进程。
截图使用示例
获取控件树使用示例
用户录制操作
录制过程中，需等待当前操作的识别结果在命令行输出后，再进行下一步操作。
以下举例为：record数据中包含的字段及字段含义，仅供参考。
注入UI模拟操作
| 命令  | 必填  | 描述  |
| --- | --- | --- |
| help  | 是  | uiInput命令相关帮助信息。  |
| click  | 是  | 模拟单击操作。  |
| doubleClick  | 是  | 模拟双击操作。  |
| longClick  | 是  | 模拟长按操作。  |
| fling  | 是  | 模拟快滑操作。  |
| swipe  | 是  | 模拟慢滑操作。  |
| drag  | 是  | 模拟拖拽操作。  |
| dircFling  | 是  | 模拟指定方向滑动操作。  |
| inputText  | 是  | 模拟输入框输入文本操作。  |
| keyEvent  | 是  | 模拟实体按键事件（如：键盘，电源键，返回上一级，返回桌面等），以及组合按键操作。  |
命令
必填
描述
help
是
uiInput命令相关帮助信息。
click
是
模拟单击操作。
doubleClick
是
模拟双击操作。
longClick
是
模拟长按操作。
fling
是
模拟快滑操作。
swipe
是
模拟慢滑操作。
drag
是
模拟拖拽操作。
dircFling
是
模拟指定方向滑动操作。
inputText
是
模拟输入框输入文本操作。
keyEvent
是
模拟实体按键事件（如：键盘，电源键，返回上一级，返回桌面等），以及组合按键操作。
uiInput click/doubleClick/longClick使用示例
| 配置参数  | 必填  | 描述  |
| --- | --- | --- |
| point_x  | 是  | 点击x坐标点。  |
| point_y  | 是  | 点击y坐标点。  |
配置参数
必填
描述
point_x
是
点击x坐标点。
point_y
是
点击y坐标点。
```shell
# 执行单击事件。
hdc shell uitest uiInput click 100 100
# 执行双击事件。
hdc shell uitest uiInput doubleClick 100 100
# 执行长按事件。
hdc shell uitest uiInput longClick 100 100
```
uiInput fling使用示例
| 配置参数  | 必填  | 描述  |
| --- | --- | --- |
| from_x  | 是  | 滑动起点x坐标。  |
| from_y  | 是  | 滑动起点y坐标。  |
| to_x  | 是  | 滑动终点x坐标。  |
| to_y  | 是  | 滑动终点y坐标。  |
| swipeVelocityPps_  | 否  | 滑动速度，单位：（px/s），取值范围：200-40000。 默认值：600。  |
| stepLength_  | 否  | 滑动步长。默认值：滑动距离/50。 为实现更好的模拟效果，推荐参数缺省/使用默认值。  |
配置参数
必填
描述
from_x
是
滑动起点x坐标。
from_y
是
滑动起点y坐标。
to_x
是
滑动终点x坐标。
to_y
是
滑动终点y坐标。
swipeVelocityPps_
否
滑动速度，单位：（px/s），取值范围：200-40000。
默认值：600。
stepLength_
否
滑动步长。默认值：滑动距离/50。
为实现更好的模拟效果，推荐参数缺省/使用默认值。
```shell
# 执行快滑操作，stepLength_缺省。
hdc shell uitest uiInput fling 10 10 200 200 500
```
uiInput swipe/drag使用示例
| 配置参数  | 必填  | 描述  |
| --- | --- | --- |
| from_x  | 是  | 滑动起点x坐标。  |
| from_y  | 是  | 滑动起点y坐标。  |
| to_x  | 是  | 滑动终点x坐标。  |
| to_y  | 是  | 滑动终点y坐标。  |
| swipeVelocityPps_  | 否  | 滑动速度，单位: (px/s)，取值范围：200-40000。 默认值: 600。  |
配置参数
必填
描述
from_x
是
滑动起点x坐标。
from_y
是
滑动起点y坐标。
to_x
是
滑动终点x坐标。
to_y
是
滑动终点y坐标。
swipeVelocityPps_
否
滑动速度，单位: (px/s)，取值范围：200-40000。
默认值: 600。
```shell
# 执行慢滑操作。
hdc shell uitest uiInput swipe 10 10 200 200 500
# 执行拖拽操作。
hdc shell uitest uiInput drag 10 10 100 100 500
```
uiInput dircFling使用示例
| 配置参数  | 必填  | 描述  |
| --- | --- | --- |
| direction  | 否  | 滑动方向，取值范围：[0,1,2,3]，默认值为0。 0代表向左滑动，1代表向右滑动，2代表向上滑动，3代表向下滑动。  |
| swipeVelocityPps_  | 否  | 滑动速度，单位: (px/s)，取值范围：200-40000。 默认值: 600。  |
| stepLength  | 否  | 滑动步长。 默认值: 滑动距离/50。为更好的模拟效果，推荐参数缺省/使用默认值。  |
配置参数
必填
描述
direction
否
滑动方向，取值范围：[0,1,2,3]，默认值为0。
0代表向左滑动，1代表向右滑动，2代表向上滑动，3代表向下滑动。
swipeVelocityPps_
否
滑动速度，单位: (px/s)，取值范围：200-40000。
默认值: 600。
stepLength
否
滑动步长。
默认值: 滑动距离/50。为更好的模拟效果，推荐参数缺省/使用默认值。
```shell
# 执行左滑操作。
hdc shell uitest uiInput dircFling 0 500
# 执行向右滑动操作。
hdc shell uitest uiInput dircFling 1 600
# 执行向上滑动操作。
hdc shell uitest uiInput dircFling 2
# 执行向下滑动操作。
hdc shell uitest uiInput dircFling 3
```
uiInput inputText使用示例
| 配置参数  | 必填  | 描述  |
| --- | --- | --- |
| point_x  | 是  | 输入框x坐标点。  |
| point_y  | 是  | 输入框y坐标点。  |
| text  | 是  | 输入文本内容。  |
配置参数
必填
描述
point_x
是
输入框x坐标点。
point_y
是
输入框y坐标点。
text
是
输入文本内容。
```shell
# 执行输入框输入操作。
hdc shell uitest uiInput inputText 100 100 hello
```
uiInput keyEvent使用示例
| 配置参数  | 必填  | 描述  |
| --- | --- | --- |
| keyID1  | 是  | 实体按键对应ID，取值范围：KeyCode/Back/Home/Power。 当取Back/Home/Power时，不支持输入组合键。  |
| keyID2  | 否  | 实体按键对应ID。  |
| keyID3  | 否  | 实体按键对应ID。  |
配置参数
必填
描述
keyID1
是
实体按键对应ID，取值范围：KeyCode/Back/Home/Power。
当取Back/Home/Power时，不支持输入组合键。
keyID2
否
实体按键对应ID。
keyID3
否
实体按键对应ID。
最多支持传入是三个键值，键值的具体取值请参考KeyCode。
```shell
# 返回主页。
hdc shell uitest uiInput keyEvent Home
# 返回。
hdc shell uitest uiInput keyEvent Back
# 组合键粘贴。
hdc shell uitest uiInput keyEvent 2072 2038
```
获取版本信息
拉起uitest测试进程
```shell
hdc shell uitest start-daemon
```
设备需调成开发者模式。
仅元能力aa test拉起的测试hap才能调用Uitest的能力。
测试hap的APL等级级别需为system_basic、normal。
常见问题
单元测试用例常见问题
1. 用例中增加的打印日志在用例结果之后才打印
问题描述
用例中增加的日志打印信息，没有在用例执行过程中出现，而是在用例执行结束之后才出现。
可能原因
此类情况只会存在于用例中有调用异步接口的情况，原则上用例中所有的日志信息均在用例执行结束之前打印。
解决方法
当被调用的异步接口多于一个时，建议将接口调用封装成Promise方式调用。
2. 执行用例时报error：fail to start ability
问题描述
执行测试用例时候，用例执行失败，控制台返回错误：fail to start ability。
可能原因
测试包打包过程中出现问题，未将测试框架依赖文件打包在测试包中。
解决方法
检查测试包中是否包含OpenHarmonyTestRunner.abc文件，如没有则重新编译打包后再次执行测试。
3. 执行用例时报用例超时错误
问题描述
用例执行结束，控制台提示execute time XXms错误，即用例执行超时。
可能原因
1.  用例执行异步接口，但执行过程中没有执行到done函数，导致用例执行一直没有结束，直到超时结束。
2.  用例调用函数耗时过长，超过用例执行设置的超时时间。
3.  用例调用函数中断言失败，抛出失败异常，导致用例执行一直没有结束，直到超时结束。
解决方法
1.  检查用例代码逻辑，确保即使断言失败场景认可走到done函数，保证用例执行结束。
2.  可在IDE中Run/Debug Configurations中修改用例执行超时配置参数，避免用例执行超时。
3.  检查用例代码逻辑，断言结果，确保断言Pass。
UI测试用例常见问题
1. 失败日志有“Get windows failed/GetRootByWindow failed”错误信息
问题描述
UI测试用例执行失败，查看hilog日志发现日志中有“Get windows failed/GetRootByWindow failed”错误信息。
可能原因
系统ArkUI开关未开启，导致被测试界面控件树信息未生成。
解决方法
执行如下命令，并重启设备再次执行用例。
```shell
hdc shell param set persist.ace.testmode.enabled 1
```
2. 失败日志有“uitest-api dose not allow calling concurrently”错误信息
问题描述
UI测试用例执行失败，查看hilog日志发现日志中有“uitest-api dose not allow calling concurrently”错误信息。
可能原因
1.  用例中UI测试框架提供异步接口没有增加await语法糖调用。
2.  多进程执行UI测试用例，导致拉起多个UITest进程，框架不支持多进程调用。
解决方法
1.  检查用例实现，异步接口增加await语法糖调用。
2.  避免多进程执行UI测试用例。
3. 失败日志有“does not exist on current UI! Check if the UI has changed after you got the widget object”错误信息
问题描述
UI测试用例执行失败，查看hilog日志发现日志中有“does not exist on current UI! Check if the UI has changed after you got the widget object”错误信息。
可能原因
在用例中代码查找到目标控件后，设备界面发生了变化，导致查找到的控件丢失，无法进行下一步的模拟操作。
解决方法
重新执行UI测试用例。

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/hypium-python-guidelines-V14
爬取时间: 2025-05-01 07:36:36
来源: Huawei Developer
框架概述
DevEco Testing Hypium(以下简称Hypium)是HarmonyOS平台的UI自动化测试框架，支持开发者使用python语言为应用编写UI自动化测试脚本，主要包含以下特性：
安装向导
1.Python安装
推荐从官网获取3.10版本，其他版本可能出现兼容性问题
pip源配置：
Ⅰ.在用户目录下的pip目录中创建pip.ini，配置pip源为可以正常访问的pip源
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160403.23865413193015449579793872905400:50001231000000:2800:244CC38984EC474AA1C9E091E4EA3921869F1913E0D26E28673D7602FA3FD185.jpg)
Ⅱ. pip.ini内容如下:
Ⅲ. 在CMD命令窗口输入 python -m pip install --upgrade pip 更新pip
2.IDE安装
推荐从pycharm官网获取2022.3以后的社区版本：
3.HDC安装
下载DevEco Studio获取，配置向导默认下载Toolchains获取，详情请参考DevEco Studio使用指南及调试工具-hdc
4.Hypium安装
访问华为开发者联盟官网下载页面：
https://developer.huawei.com/consumer/cn/download/
找到DevEco Testing Hypium，下载解压后找到其中的hypium-5.0.7.200.zip(请以实际版本号为准)。
解压后该文件后得到的4个tar.gz格式的pip安装包，使用pip install命令安装。
Hypium安装对xdevice有依赖，优先安装xdevice，以下版本号仅做示例，请以实际版本号为准。
5.DevEco Testing Hypium插件安装及使用方法
Mac系统使用UIViewer功能时，必须在设置面板中手动指定Hdc路径，详情可见· 插件功能 Ⅳ.设置面板区域-Hdc路径。
Ⅰ. 准备DevEco Testing Hypium件离线安装包，下载完成后不需要解压。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160403.91288446134404399059515489290176:50001231000000:2800:6B6A070D527DAB69DCA99E973E8F7596E0C17E9F4963EE079E8069CBAF2627CF.jpg)
Ⅱ. 打开pycharm后，点击File -> Settings -> Plugin -> 齿轮图标 -> Install Plugin from Disk -> 选中刚刚下载的离线安装zip包 -> 安装完成后重启pycharm。
安装完成后会有如下内容：
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160403.98593640509901279661557643655239:50001231000000:2800:92BD9FE4B3C43D13780BD65D06CA93B682702E89025BCE849183100469614463.png)
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160403.17760854701115218410545545380005:50001231000000:2800:36A83B6AAE1035796BCCA7DEC1750FDA2E4C6A37827E5B2D8FEA6474F70DC0D8.png)
插件功能按功能区域进行区分，分为三个区域
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160403.24101428462469074003043772806354:50001231000000:2800:5E34CEDEFFF13BE0E9D309BFDE6F7220B54881BDE3CDCF48C8C71B67A94D797D.png)
Ⅰ. 项目文件区域
在项目文件区域选中
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160403.22098953754696968260916440583696:50001231000000:2800:86C3A670C0173F5CF5CEA5D0ABB10F82C203B18B36AE44D0FD255C5C2A847A94.png)
| 序号  | 功能  | 图片  | 说明  | 注意  |
| --- | --- | --- | --- | --- |
| 1  | 执行当前项目  |   | 遍历当前选中的文件夹，寻找文件夹中所有的json文件名，将其拼接成Hypium任务执行命令然后执行  | 需要选中文件夹右键  |
| 2  | 一键执行当前用例  |   | 将当前的文件名拼接成Hypium任务执行命令然后执行  | 需要选中py或json文件右键  |
| 3  | 生成Hypium模板用例  |    | 在当前选中文件下生成配套的模板用例py和json  | 需要在testcases或其子文件夹右键选择New，此功能才会展示出来  |
| 4  | 生成Hypium模板测试套  | 在当前选中文件下生成配套的测试套模板用例py和json  | 需要在testcases或其子文件夹右键选择New，此功能才会展示出来  |
| 5  | 生成回归测试服务包  |   | 打开后会有"回归测试"、"场景化性能"两种测试服务包的生成模板，用户根据需求，填写完成后即可生成对应的测试服务包  | 1.需要选中项目根目录文件夹右键 2.当前项目根目录下要存在testcases文件夹 3.当前项目根目录下存在"setup-sceneperf.py"或"setup-regression.py"，否则打包不成功  |
序号
功能
图片
说明
注意
1
执行当前项目
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160404.83366909697048602373988994405738:50001231000000:2800:D4EFD0A93681D21D22CEBBD793C7BFFC348A8BC45D38224F0A95E10F7A6B482F.jpg)
遍历当前选中的文件夹，寻找文件夹中所有的json文件名，将其拼接成Hypium任务执行命令然后执行
需要选中文件夹右键
2
一键执行当前用例
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160404.44817919504849859774499484265635:50001231000000:2800:8F1441508DD400012D60F7CA2373D0D090C60A791E7B192019E3F8BDEEB50BEB.jpg)
将当前的文件名拼接成Hypium任务执行命令然后执行
需要选中py或json文件右键
3
生成Hypium模板用例
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160404.08543987778885663519358382175976:50001231000000:2800:62907CDC676FA53B702253FCC02D2A554E9A2DB7DBD7A7E897CD1F1C54F88383.jpg)
在当前选中文件下生成配套的模板用例py和json
需要在testcases或其子文件夹右键选择New，此功能才会展示出来
4
生成Hypium模板测试套
在当前选中文件下生成配套的测试套模板用例py和json
需要在testcases或其子文件夹右键选择New，此功能才会展示出来
5
生成回归测试服务包
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160404.27083522405277905848846872290969:50001231000000:2800:E915ED06D0424B21F4657D5D9E91B9D9A32182FA7140236834715266F892B5A4.png)
打开后会有"回归测试"、"场景化性能"两种测试服务包的生成模板，用户根据需求，填写完成后即可生成对应的测试服务包
1.需要选中项目根目录文件夹右键
2.当前项目根目录下要存在testcases文件夹
3.当前项目根目录下存在"setup-sceneperf.py"或"setup-regression.py"，否则打包不成功
Ⅱ. 代码编辑区域
| 序号  | 功能  | 图片  | 说明  | 注意  |
| --- | --- | --- | --- | --- |
| 1  | 一键执行当前用例  |    | 将当前的文件名拼接成Hypium任务执行命令然后执行  | 需要保证当前打开的项目根目录下存在"config"文件夹和"testcases"文件夹，此功能才会展示出来  |
| 2  | 一键调试当前用例  | 将当前的文件名拼接成Hypium任务执行命令然后以调试模式进行执行，用户可以在用例中添加断点  | 需要保证当前打开的项目根目录下存在"config"文件夹和"testcases"文件夹，此功能才会展示出来  |
| 3  | 选区快速执行  | 用户在编辑区选中代码要运行的代码片段后右键，然后再选中要运行的设备，插件便会只运行选中的代码段。此方式执行速度要比整个用例执行快，适合于检查某个AW的效果。  | 1.需要在"UIViewer"面板中刷新出设备，此功能才会展示出来 2.需要保证当前打开的项目根目录下存在"config"文件夹和"testcases"文件夹，此功能才会展示出来  |
| 4  | 选区快速调试  | 功能与使用方式和"选区快速执行"一直，区别是使用调试模式来执行  | 1.需要在"UIViewer"面板中刷新出设备，此功能才会展示出来 2.需要保证当前打开的项目根目录下存在"config"文件夹和"testcases"文件夹，此功能才会展示出来  |
| 5  | 生成Hypium模板代码  |   | 点击后将弹出模板代码选项窗口，用户可以根据需要选择对应的模板代码进行创建，创建完成后将在当前编辑器的光标中插入模板代码  |    |
| 6  | 函数快速执行  |   | 如果插件检测到当前py文件为Hypium用例，就会在setup、process、teardown的函数左边生成一个图标，点击后就可以选择设备执行当前的这段函数  | 1.需要在"UIViewer"面板中刷新出设备，此功能才会展示出来 2.需要保证当前打开的项目根目录下存在"config"文件夹和"testcases"文件夹，此功能才会展示出来  |
序号
功能
图片
说明
注意
1
一键执行当前用例
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160404.72522451768756740370960849726423:50001231000000:2800:047002C21AA9A8D28779D8DADBAEC55547393CF7C2C75B10D6D3CE458BA94767.jpg)
将当前的文件名拼接成Hypium任务执行命令然后执行
需要保证当前打开的项目根目录下存在"config"文件夹和"testcases"文件夹，此功能才会展示出来
2
一键调试当前用例
将当前的文件名拼接成Hypium任务执行命令然后以调试模式进行执行，用户可以在用例中添加断点
需要保证当前打开的项目根目录下存在"config"文件夹和"testcases"文件夹，此功能才会展示出来
3
选区快速执行
用户在编辑区选中代码要运行的代码片段后右键，然后再选中要运行的设备，插件便会只运行选中的代码段。此方式执行速度要比整个用例执行快，适合于检查某个AW的效果。
1.需要在"UIViewer"面板中刷新出设备，此功能才会展示出来
2.需要保证当前打开的项目根目录下存在"config"文件夹和"testcases"文件夹，此功能才会展示出来
4
选区快速调试
功能与使用方式和"选区快速执行"一直，区别是使用调试模式来执行
1.需要在"UIViewer"面板中刷新出设备，此功能才会展示出来
2.需要保证当前打开的项目根目录下存在"config"文件夹和"testcases"文件夹，此功能才会展示出来
5
生成Hypium模板代码
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160404.15551793087056057245189938487964:50001231000000:2800:DE8B292BC90A78E17E169A96D715F4957CA09EFC8604C7C5868D58D4E462787B.png)
点击后将弹出模板代码选项窗口，用户可以根据需要选择对应的模板代码进行创建，创建完成后将在当前编辑器的光标中插入模板代码
6
函数快速执行
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160404.78647836459627195924677596022052:50001231000000:2800:13DEB1B204EF88F44CCE0029ACF837E4AD05D6A9EB82E146698DABEF05FDBA53.jpg)
如果插件检测到当前py文件为Hypium用例，就会在setup、process、teardown的函数左边生成一个图标，点击后就可以选择设备执行当前的这段函数
1.需要在"UIViewer"面板中刷新出设备，此功能才会展示出来
2.需要保证当前打开的项目根目录下存在"config"文件夹和"testcases"文件夹，此功能才会展示出来
Ⅲ. ToolWindow区域
UIViewer功能
pycharm界面右侧栏的toolWindow区域有UIViewer标签，点击后会展开UIViewer面板。UIViewer功能目前分为4个界面: 设备选择界面 、单设备控件查看界面 、单设备投屏界面 、双设备投屏界面。
设备选择界面
如果是第一次进入此界面，或设备有变动，需要点击"刷新"按钮进行设备刷新
当前仅支持USB连接本地设备调测，暂不支持模拟器。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160404.43650840124892716954549142443929:50001231000000:2800:96B587540659867CEDCA4D9B69798AA756BF31B060C971BA963C8088743EDEA6.png)
| 序号  | 标签名称  | 说明  |
| --- | --- | --- |
| 1  | sn号  | 当前设备的sn  |
| 2  | 设备类型  | 当前设备时用adb还是hdc检测出  |
| 3  | 设备状态  | 表示当前设备能否使用UIViewer工具。OK表示可用，NOT_SUPPORT表示不可用  |
| 4  | 设备编号  | 针对于双设备投屏的参数。在双设备界面中，dev1的设备会排左边，dev2的设备会排右边  |
序号
标签名称
说明
1
sn号
当前设备的sn
2
设备类型
当前设备时用adb还是hdc检测出
3
设备状态
表示当前设备能否使用UIViewer工具。OK表示可用，NOT_SUPPORT表示不可用
4
设备编号
针对于双设备投屏的参数。在双设备界面中，dev1的设备会排左边，dev2的设备会排右边
单设备投屏界面
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160404.91524232691632476734049217763114:50001231000000:2800:66A78EB0C3532A209A85FC0D7502400DBE83C791E72B92D15DEDA97CCAD4753D.png)
布局说明：
工具区1：
此工具区提供控件查看的功能，处于控件查看模式时，设备画面不再变动。若要重新获取当前页面的信息，需要点击控件刷新按钮。
| 序号  | 图标  | 功能  | 说明  |
| --- | --- | --- | --- |
| 1  |   | 控件查看  | 点击后进入控件查看模式，(获取控件树需要时间，鼠标光标处于转圈状态时，请勿点击其他按钮)。处于选择状态时再次点击，会回到投屏模式。  |
| 2  |   | 高级控件查看  | 处于此状态时，控件信息会随鼠标游走进行不断的展示，点击某个控件信息后回到控件查看模式。处于选择状态时再次点击，会回到投屏模式。  |
| 3  |   | 功能脚本录制  | 点击后，将页面左上角将出现红色提示文字，提示进入录制状态，处于此状态时，点击画面中控件后，将在编辑器光标处生成hypium用例测试语句。录制出的测试语句仅对静态页面的回放成功率较高，动态页面的回放成功率较低。  |
| 4  |   | 控件刷新  | 如果设备界面有变动或刷新，可点击此按钮重新获取当前页面的控件信息  |
序号
图标
功能
说明
1
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160404.43660809194991754943687891153636:50001231000000:2800:77D52C6EAC0B4A4F36FCD6E0D40E3EE4EEF298B2CAB7DFEB0E5BA7B20D53526C.jpg)
控件查看
点击后进入控件查看模式，(获取控件树需要时间，鼠标光标处于转圈状态时，请勿点击其他按钮)。处于选择状态时再次点击，会回到投屏模式。
2
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160404.92000019186178754907465372975740:50001231000000:2800:1AF3C4501655DD7038AD8386ABE7DFE0CAF6C14DA0B6987353F9DD96D8CF897D.jpg)
高级控件查看
处于此状态时，控件信息会随鼠标游走进行不断的展示，点击某个控件信息后回到控件查看模式。处于选择状态时再次点击，会回到投屏模式。
3
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160404.41069053520933612518073016850269:50001231000000:2800:793A22C3F7DA44610E5176F1212A50FC6138855DCC5FE812CAA369B1B492B8E3.png)
功能脚本录制
点击后，将页面左上角将出现红色提示文字，提示进入录制状态，处于此状态时，点击画面中控件后，将在编辑器光标处生成hypium用例测试语句。录制出的测试语句仅对静态页面的回放成功率较高，动态页面的回放成功率较低。
4
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160404.01362086786246786202561100012181:50001231000000:2800:E43D51748123631E7E02011884C1BEE01D75A77E17E656B5F93B1386321FF82D.jpg)
控件刷新
如果设备界面有变动或刷新，可点击此按钮重新获取当前页面的控件信息
工具区2：
此工具区提供一些设备操作的功能，目前提供的功能如下：
| 序号  | 图标  | 功能  | 说明  |
| --- | --- | --- | --- |
| 1  |   | 音量加  | 点击后对设备进行音量加操作  |
| 2  |   | 音量减  | 点击后对设备进行音量减操作  |
| 3  |   | 电源键  | 点击后模拟按下设备电源键  |
| 4  |   | 重启键  | 点击后将重启设备  |
| 5  |   | 返回键  | 点击后模拟返回键操作  |
| 6  |   | Home键  | 点击后模拟返回桌面操作  |
序号
图标
功能
说明
1
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160404.94540468648965506494534690606695:50001231000000:2800:DB9FDB7EC467BBFB8CF93BF3E58E03ECE84A017861568185470459379AA66682.jpg)
音量加
点击后对设备进行音量加操作
2
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160405.00554591925814418326504751599512:50001231000000:2800:F001B29CF4850A0D7BBE8246ED837830FB37ED57E9C09F722170518B69DD11FA.jpg)
音量减
点击后对设备进行音量减操作
3
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160405.23482475223222104865212426230768:50001231000000:2800:C0CD41909080076DE22D85BA378D9F375FFA99D3039ACD0BB1C714187983FECB.jpg)
电源键
点击后模拟按下设备电源键
4
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160405.02476206946981216033022127642986:50001231000000:2800:542D85E057F0BC546A8DFDFADB1172CAE99885463FC5E44B9A7C0E837C3A1F28.jpg)
重启键
点击后将重启设备
5
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160405.47525392576969768582493554785627:50001231000000:2800:94B594DE86617FDD16FB56D4BA81E7FC207D80D1559B4655F439234DB5B1F59C.jpg)
返回键
点击后模拟返回键操作
6
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160405.21448048263114146592823560700239:50001231000000:2800:677B2CF461E3669F4DD9ED2DC8D151517C05C02287C70700EDEE9EB25B67476A.jpg)
Home键
点击后模拟返回桌面操作
工具区3:
此工具区的按钮主要提供一些与设备系统交互的功能，目前提供的功能如下：
| 序号  | 图标  | 功能  | 说明  |
| --- | --- | --- | --- |
| 1  |   | 设备信息  | 点击后在"设备信息展示区"显示当前设备的信息  |
| 2  |   | 全屏截图  | 点击后会将当前屏幕画面保存至当前项目的"resource"文件夹下的"Hypium"目录下  |
| 3  |   | 区域截图  | 点击后设备显示界面进入截图状态，鼠标在设备显示界面按下然后拖动，就会框选出一个截图区域，松开鼠标后就会将当前选择的区域截图保存至当前项目的"resource"文件夹下的"Hypium"目录下  |
| 4  |   | 竖屏  | 将设备设置为竖屏状态  |
| 5  |   | 横屏  | 将设备支持为横屏状态(目前已知问题：将设备设置为横屏状态后，设备的点击、滑动、控件查看功能会出现问题)  |
| 6  |   | 应用安装  | 用户可以从PC本地选择一个hap文件进行安装，当前仅支持HarmonyOS NEXT 设备。  |
| 7  |   | 应用卸载  | 用户可对当前设备所安装的应用进行卸载，当前仅支持HarmonyOS NEXT 设备。  |
| 8  |   | 发送文件  | 用户可以从电脑端选择一个文件或目录发送到设备端的指定地址，当前仅支持HarmonyOS NEXT 设备。  |
| 9  |    | 应用管理器  | 点击后将打开一个App管理界面，此界面可以进行对设备进行app的安装及卸载。当前仅支持HarmonyOS NEXT 设备。  |
序号
图标
功能
说明
1
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160405.89001165503773957661120999160132:50001231000000:2800:72952BF448338344C72C2906976E9A6E498428DE42D2616CACC98FE0E6FC3D5D.jpg)
设备信息
点击后在"设备信息展示区"显示当前设备的信息
2
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160405.01672631840103655446438168477787:50001231000000:2800:60D5EA226A2C85ED2C99F23C744BB048635DBB514A510ADE43CB3A0706D3FBAC.jpg)
全屏截图
点击后会将当前屏幕画面保存至当前项目的"resource"文件夹下的"Hypium"目录下
3
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160405.54893765073882183243969123550151:50001231000000:2800:024C0E8F490EAB7CD49F944F0D9AF470A59FFDAEA0719EADD998DDF7AFDEB419.jpg)
区域截图
点击后设备显示界面进入截图状态，鼠标在设备显示界面按下然后拖动，就会框选出一个截图区域，松开鼠标后就会将当前选择的区域截图保存至当前项目的"resource"文件夹下的"Hypium"目录下
4
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160405.54968717813867811267225991353585:50001231000000:2800:F49E43F1274D23F5E5AFD932EE8D7F0DFE566DCDC08B16147A980C2F21F6A62D.jpg)
竖屏
将设备设置为竖屏状态
5
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160405.56536438465238317125037235003654:50001231000000:2800:0BDDDD06A4F0A56B0AAEAA5B66CEF703228CEB1B4A29E6761E72689F9BC6E83F.jpg)
横屏
将设备支持为横屏状态(目前已知问题：将设备设置为横屏状态后，设备的点击、滑动、控件查看功能会出现问题)
6
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160405.00783319482313581273895633324623:50001231000000:2800:1660528A48CDEE495B0C563B3574D7E6BA5F993AF172855988B624EDA1D45BDF.jpg)
应用安装
用户可以从PC本地选择一个hap文件进行安装，当前仅支持HarmonyOS NEXT 设备。
7
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160405.23117915869242161816852141328573:50001231000000:2800:AC95539EF7C41BEBC7ED9E2BCD2ECA3A8240723B227F90CDD4CA671A2CCDE774.jpg)
应用卸载
用户可对当前设备所安装的应用进行卸载，当前仅支持HarmonyOS NEXT 设备。
8
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160405.74769650391577685479201178380207:50001231000000:2800:08CBA275DAE95BF1E9BA2CD63BFFF141E4E022D3E6F56F14AB42E9F36DA18FB9.jpg)
发送文件
用户可以从电脑端选择一个文件或目录发送到设备端的指定地址，当前仅支持HarmonyOS NEXT 设备。
9
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160405.54429885509411507475576497476946:50001231000000:2800:2091187749A33C8FEC114E42B05078A7E190F221F37C8634079FF84738341097.jpg)
应用管理器
点击后将打开一个App管理界面，此界面可以进行对设备进行app的安装及卸载。当前仅支持HarmonyOS NEXT 设备。
双设备投屏界面
此界面的功能与单设备的投屏(控件)界面功能相同，只是展示设备的数量变为2个。对某个设备进行控件查看时，会自动退出双设备投屏界面，回到单设备的控制查看界面。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160405.89581908726530302712449851951064:50001231000000:2800:5E70BF419F78759A2B364D36A7EFA8AE9830947D682B84C6993B553FF66510DE.png)
执行结果报告展示功能
使用一键执行当前用例功能后，当用例执行完成，插件会在控制台旁生成一个标签，点击后可以看到用例的执行步骤图片。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160405.83127021434620371276708245061149:50001231000000:2800:DE1B6336613B63F8015D2C320CD92C6B33CC9733C3EC8A6A2AEBDC38B0CD69E5.png)
Ⅳ. 设置面板区域
打开pycharm设备面板，可以看到Deveco Testing Hypium的设置选项，点击后的图片如下：
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160406.01863969392619568221313176922203:50001231000000:2800:AD27603980C12AEFBBA3625F367045A23F69A16B671599C3B3176D15FEC3DA39.png)
| 序号  | 功能  | 说明  | 注意  |
| --- | --- | --- | --- |
| 1  | 配置文件路径  | 一键执行\调试功能所使用的配置文件路径，如不设置，则默认使用当前项目下的"config"文件夹作为配置文件路径  | -  |
| 2  | 测试用例路径  | 一键执行\调试功能所使用的测试文件路径，如不设置，则默认使用当前项目下的"testcases"文件夹作为测试用例路径  | -  |
| 3  | 额外执行参数  | 插件的一键执行/调试功能，实际上是就是自动帮用户配置了Hypium的任务执行参数然后启动执行，如果当前执行的参数不能满足用户的需要，可以在此额外添加一些执行命令参数  | 比如框架生成的一键执行命令为"run -l XXX"，用户想设置每个步骤都截图，便可在此写上"-ta screenshot:true"，然后框架生成的一键执行命令就变成"run -l XXX -ta screenshot:true"  |
| 4  | 是否以bin模式执行  | 以bin模式执行用例时，不会断开投屏  | -  |
| 5  | Hdc路径  | 手动指定UIViewer所使用的Hdc路径  | -  |
| 6  | 游走模式自动刷新间隔  | 控制UIViewer功能中的游走模式的刷新间隔，默认60秒自动重新获取一次界面的布局，最小时间可以设为30秒，最大时间300秒  | -  |
| 7  | 是否使用视频流投屏模式  | 当视频流模式无法投屏时，可以将此选项改为否，此时的投屏帧率会降低。  | -  |
| 8  | 依赖下载参数  | 生成回归测试服务包过程中会使用pip download 命令下载第三方依赖，如果出现依赖下载慢或失败的情况，可以在此添加"-i XXX"参数，指定下载的python源  | -  |
序号
功能
说明
注意
1
配置文件路径
一键执行\调试功能所使用的配置文件路径，如不设置，则默认使用当前项目下的"config"文件夹作为配置文件路径
-
2
测试用例路径
一键执行\调试功能所使用的测试文件路径，如不设置，则默认使用当前项目下的"testcases"文件夹作为测试用例路径
-
3
额外执行参数
插件的一键执行/调试功能，实际上是就是自动帮用户配置了Hypium的任务执行参数然后启动执行，如果当前执行的参数不能满足用户的需要，可以在此额外添加一些执行命令参数
比如框架生成的一键执行命令为"run -l XXX"，用户想设置每个步骤都截图，便可在此写上"-ta screenshot:true"，然后框架生成的一键执行命令就变成"run -l XXX -ta screenshot:true"
4
是否以bin模式执行
以bin模式执行用例时，不会断开投屏
-
5
Hdc路径
手动指定UIViewer所使用的Hdc路径
-
6
游走模式自动刷新间隔
控制UIViewer功能中的游走模式的刷新间隔，默认60秒自动重新获取一次界面的布局，最小时间可以设为30秒，最大时间300秒
-
7
是否使用视频流投屏模式
当视频流模式无法投屏时，可以将此选项改为否，此时的投屏帧率会降低。
-
8
依赖下载参数
生成回归测试服务包过程中会使用pip download 命令下载第三方依赖，如果出现依赖下载慢或失败的情况，可以在此添加"-i XXX"参数，指定下载的python源
-
Ⅴ. 工程创建区域
在pycharm顶部点击File -> new project ：
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160406.97258623849802469240989938893141:50001231000000:2800:2D4C77DF82965B815659877E8AF6098DD1042796A433679F56DD45F74E6B6243.png)
可以看到pycharm提供的模板创建工程中有DevEco Testing Hypium，此处提供两种类型的Hypium模板工程创建，分别为单设备和双设备的场景：
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160406.32204404798085877352323859934604:50001231000000:2800:032292D89BB7E12DA4E6F4346F049761A36295E8E6319A088A95EBC3A49BAC78.jpg)
点击其中一个模板后便会创建Hypium模板工程，工程其中包含了一个模板用例和一个模板user_config.xml，正常情况下用户无需改动。下面以单设备工程为例，创建完成后的界面如下，接入设备后，右键一键执行便可执行当前用例：
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160406.18518186710164374776057912626829:50001231000000:2800:4868D8787DE714E1E62BEB80641919A46110C31A65FD332B83D2E85017BEF5BC.png)
测试脚本开发快速入门
本章节适用于Hypium测试脚本开发的初学者。通过创建一个简单的测试脚本工程，快速了解工程目录的主要文件，熟悉Hypium测试脚本的开发流程。
测试脚本工程创建主要有两种方式：
a）直接利用以下附件中的模板工程；
HypiumProjectTemplate.zip
b）通过pycharm上的Hypium插件进行创建；
Ⅰ.工程目录文件介绍
Ⅱ.工程目录文件介绍
Ⅲ.测试用例介绍
Hypium测试用例由两部分组成，分别是测试用例配置文件以及测试用例文件。其中测试用例的形态分两种模式，单个用例模式（一个测试用例py文件，一个测试配置json文件）以及测试套模式（一个测试套py文件、N个测试用例py文件、一个测试配置json文件），开发者可以根据业务的需要自行选择开发模式。
单个测试用例模式
测试用例的生命周期函数主要有三个，分别是setup、process、teardown。每个测试用例的编写都需要重写这三部分内容，示例如下。
| 序号  | 生命周期函数  | 说明  |
| --- | --- | --- |
| 1  | setup  | 测试用例的前置步骤，主要用于执行测试用例的预置动作  |
| 2  | process  | 测试用例的实际操作步骤，主要描述当前测试用例中的所有测试用例步骤集合  |
| 3  | teardown  | 测试用例的清理步骤，主要用于执行测试用例的环境清理等操作  |
序号
生命周期函数
说明
1
setup
测试用例的前置步骤，主要用于执行测试用例的预置动作
2
process
测试用例的实际操作步骤，主要描述当前测试用例中的所有测试用例步骤集合
3
teardown
测试用例的清理步骤，主要用于执行测试用例的环境清理等操作
测试用例配置文件
该文件主要描述测试套的测试配置信息，比如测试套需要多少个设备、测试套的测试驱动信息、测试套的描述信息等，示例如下：
测试套模式
测试套的生命周期函数主要有两个，解释如下表。
| 序号  | 生命周期函数  | 说明  |
| --- | --- | --- |
| 1  | setup  | 整个测试套的前置步骤，在测试套运行前先执行该函数  |
| 2  | teardown  | 整个测试套的清理步骤，在执行完所有测试用例后执行  |
序号
生命周期函数
说明
1
setup
整个测试套的前置步骤，在测试套运行前先执行该函数
2
teardown
整个测试套的清理步骤，在执行完所有测试用例后执行
测试套配置文件介绍
该文件主要描述测试套的测试配置信息，比如测试套需要多少个设备、测试套的测试驱动信息、测试套的描述信息等，示例如下：
测试用例文件介绍
测试用例的编写可以有两种方式。
第一种、框架自动扫描的测试用例脚本，需要满足以下规则。
第二种、需要在json中指定py文件，示例参考上述章节中的测试用例编写规范。
本章节主要介绍测试用例如何执行，测试用例执行有两种方式，一种是通过命令行方式执行用例，一种是通过pycharm IDE上的Hypium插件一键执行。
Ⅰ.命令介绍
Hypium框架指令可以分为三组：help、list、run。在指令序列中，以run为最常用的执行指令。
命令交互入口
打开命令行窗口，并进入到测试脚本工程的根目录；执行以下命令进入Hypium控制台，即可完成Hypium框架启动：
Ⅱ. 常用命令介绍
help命令
输入help指令可以查询框架指令帮助信息。
help run：展示run指令相关说明；help list：展示 list指令相关说明。
list命令
list指令用来展示设备和相关的任务信息。
说明： list: 展示设备信息；list history: 展示任务历史信息；list< id > : 展示特定id的任务其历史信息。
run命令
run指令主要用于执行测试任务。
run常用指令基本使用方式如下：
| 序号  | xDevice命令  | 功能  | 示例  |
| --- | --- | --- | --- |
| 1  | run -l XXX  | 运行指定测试套。如有多个测试套，测试套之间以分号分隔  | run -l Example1;Example2（testcase目录下的测试用例json名）  |
| 2  | run -sn  | 指定运行设备sn号，多个sn号之间以分号分隔  | run -l Example1 -sn sn1run -l Example1 -sn sn1;sn2  |
| 3  | run -rp  | 指定报告生成路径，默认报告生成在项目根目录下的reports文件夹，以时间戳或任务id建立子目录  | run -l Example1 -rp /XXXX/XXX  |
| 4  | run -respath  | 指定测试资源路径，默认为项目根目录下的resource文件夹  | run -l Example1 -respath /XXX/XXX/XXX  |
| 5  | run -tcpath  | 指定测试用例路径,默认为项目根目录下的testcases文件夹  | run -l Example1 -tcpath /XXX/XXX/XXX  |
| 6  | run - ta  | 指定模块运行参数，可以指定运行测试套中的某个用例，多个用例之间以逗号分隔，目前只支持hits  | run -l Example1 -ta screenshot:true(测试用例每个Step步骤截图)run -l Example1 -ta class:XXXX(类名)#XXXXX(方法名)  |
| 7  | run --retry  | 重新运行上次失败的测试用例  | run --retry --session 2022-12-13-12-21-11(report任务报告目录)  |
序号
xDevice命令
功能
示例
1
run -l XXX
运行指定测试套。如有多个测试套，测试套之间以分号分隔
run -l Example1;Example2（testcase目录下的测试用例json名）
2
run -sn
指定运行设备sn号，多个sn号之间以分号分隔
run -l Example1 -sn sn1run -l Example1 -sn sn1;sn2
3
run -rp
指定报告生成路径，默认报告生成在项目根目录下的reports文件夹，以时间戳或任务id建立子目录
run -l Example1 -rp /XXXX/XXX
4
run -respath
指定测试资源路径，默认为项目根目录下的resource文件夹
run -l Example1 -respath /XXX/XXX/XXX
5
run -tcpath
指定测试用例路径,默认为项目根目录下的testcases文件夹
run -l Example1 -tcpath /XXX/XXX/XXX
6
run - ta
指定模块运行参数，可以指定运行测试套中的某个用例，多个用例之间以逗号分隔，目前只支持hits
run -l Example1 -ta screenshot:true(测试用例每个Step步骤截图)run -l Example1 -ta class:XXXX(类名)#XXXXX(方法名)
7
run --retry
重新运行上次失败的测试用例
run --retry --session 2022-12-13-12-21-11(report任务报告目录)
Ⅲ.IDE上用例执行
具体IDE上如何可视化执行参考Hypium上插件使用方法。
Ⅳ. 测试报告查看
测试框架执行完用例后，会生成对应的log文件，还会生成对应的执行结果报告。如果使用了-rp参数指定报告路径，那么报告就会生成在指定的路径下。否则报告会存放在默认目录（工程目录的reports文件夹下）。
API使用说明
Hypium测试框架提供了两大类API来支持用例的编写。第一类是需要被测设备参数执行的API，第二类是无需被测设备，在PC端可独立调用的API。
设备相关的API主要包括四个基础API类：UiDriver，BY，UiComponent，UiWindow。
示例代码
设备无关的API当前主要包括两个基础API类:host和CV。
示例代码
此外Hypium定义的一些常量类型，例如KeyCode，UiParam，MatchPattern等，以及数据类型Point，Rect等，这部分包含在hypium.model包中。
示例代码
下文各小节将详细介绍主要测试场景中Hypium的API使用方法。
API使用方法
使用DevEco Testing Hypium插件中的UIViewer工具即可查看控件的各种属性。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160406.57542990474219573732300385274480:50001231000000:2800:58EBCFE179EEFE5F7DBF48B1120F808CA3EFD3CC6D308E4FF8C056370558CB11.png)
Hypium中的定位操作目标的方式主要分三大类型，包括控件属性定位，图片匹配定位以及比例坐标定位。根据操作目标的定位准确性，首选方式为控件属性定位，次选图片匹配定位。当无法使用前两类方式定位时，可以选择比例坐标定位操作目标。
Hypium中的控件属性定位通过BY选择器对象来实现，接下来将介绍使用控件属性定位控件，及使用图片匹配和比例坐标定位控件。
单属性定位控件
从hypium包中导入BY选择器对象, 从hypium.model包中导入匹配模式常量类MatchPattern
通过BY对象可以指定需要查找/操作的控件对象。
默认情况下，find_component和touch等方法会查找/操作第一个条件匹配的控件，如需操作第n个满足匹配条件的控件，请参考查找所有匹配控件。
当前控件的text属性支持三种模糊匹配方式，通过BY.text方法第二个可选参数指定，如下表所示:
| 序号  | 匹配方式常量  | 说明  |
| --- | --- | --- |
| 1  | MatchPattern.STARTS_WITH  | 前缀匹配  |
| 2  | MatchPattern.ENDS_WITH  | 后缀匹配  |
| 3  | MatchPattern.CONTAINS  | 包含匹配  |
序号
匹配方式常量
说明
1
MatchPattern.STARTS_WITH
前缀匹配
2
MatchPattern.ENDS_WITH
后缀匹配
3
MatchPattern.CONTAINS
包含匹配
BY选择器支持的所有属性如下表所示。
| 序号  | 属性名称  | 属性值类型  | 对应BY选择器  | 是否支持模糊匹配  |
| --- | --- | --- | --- | --- |
| 1  | text  | str  | BY.text  | 是  |
| 2  | key  | str  | BY.key  | 否  |
| 3  | type  | str  | BY.type  | 否  |
| 4  | checkable  | bool  | BY.checkable  | 否  |
| 5  | longClickable  | bool  | BY.longClickable  | 否  |
| 6  | clickable  | bool  | BY.clickable  | 否  |
| 7  | scrollable  | bool  | BY.scrollable  | 否  |
| 8  | enabled  | bool  | BY.enabled  | 否  |
| 9  | focused  | bool  | BY.focused  | 否  |
| 10  | selected  | bool  | BY.selected  | 否  |
| 11  | checked  | bool  | BY.checked  | 否  |
序号
属性名称
属性值类型
对应BY选择器
是否支持模糊匹配
1
text
str
BY.text
是
2
key
str
BY.key
否
3
type
str
BY.type
否
4
checkable
bool
BY.checkable
否
5
longClickable
bool
BY.longClickable
否
6
clickable
bool
BY.clickable
否
7
scrollable
bool
BY.scrollable
否
8
enabled
bool
BY.enabled
否
9
focused
bool
BY.focused
否
10
selected
bool
BY.selected
否
11
checked
bool
BY.checked
否
多属性组合定位控件
BY选择器支持使用链式调用的方式指定多个属性来定位一个控件，在多个控件有部分属性相同，部分属性不同时可以更精确地定位控件。
控件相对位置+属性组合定位控件
对于某些自身属性不唯一，无法精确定位的控件，BY选择器支持通过与其他控件的相对位置关系来提高定位控件的精确性。支持的相对定位方式如下表所示。
| 序号  | 相对位置定位接口  | 功能描述  |
| --- | --- | --- |
| 1  | BY.isBefore  | 匹配在指定控件前边的控件  |
| 2  | BY.isAfter  | 匹配在指定控件后边的控件  |
| 3  | BY.within  | 匹配在指定控件内部的控件  |
| 4  | BY.inWindow  | 匹配在指定控件内部的控件 (在支持多窗口的设备中通过包名指定控件所在的窗口，不属于控件相对位置)  |
序号
相对位置定位接口
功能描述
1
BY.isBefore
匹配在指定控件前边的控件
2
BY.isAfter
匹配在指定控件后边的控件
3
BY.within
匹配在指定控件内部的控件
4
BY.inWindow
匹配在指定控件内部的控件
(在支持多窗口的设备中通过包名指定控件所在的窗口，不属于控件相对位置)
相对位置通常和控件的属性结合使用来定位控件，以下图场景为例，界面上存在多个按钮，我们需要点击显示通知图标之后的按钮，定位方式如下:
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160406.49496135576694841895072442606861:50001231000000:2800:5A065F397FD9CD83198A826CFAF9A9B1420092DC254961ED1F15A4703C990872.png)
其余相对定位的方式使用方法类似。
示例代码
相对位置中的锚点控件不能再使用相对位置描述，即BY.isBefore方法的参数中不能在出现BY.isBefore或者BY.isAfter等相对定位的方式。
xpath方式查找匹配的控件
部分控件没有唯一定位的属性，同时通过相对定位的方式也无法准确定位，此时可以使用xpath语法来进行更新精确的控件定位。
使用BY.xpath匹配器可以支持通过xpath语法来查找控件。注意xpath不能和其他匹配器一起使用，并且通过xpath查找控件会慢一些。
在如下场景中，需要找到红框标识的图标，然而该图标没有唯一定位的属性，此时可以使用xpath语法描述该控件相对其他可定位控件的路径关系来定位该控件。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160406.63030879124820520579736941231462:50001231000000:2800:91B8D2D5F9666B6C171B913144FBD3615B7A8BBA71648E9E27EA7E58C6009840.png)
该页面上，"可用 WLAN"是一个固定的可唯一定位的文本，我们首先通过xpath定位到该文本//*[@text='可用 WLAN']，然后在找这个节点所在的List控件/ancestor::List，然后从这个List控件开始找到对应的Image控件/ListItemGroup/ListItem[1]//Text/following::Image。
关于xpath的语法可以参考https://www.runoob.com/xpath/xpath-tutorial.html
示例代码
在支持传入BY选择器的接口上都可以使用xpath来定位控件
查找所有匹配控件
默认情况下，find_component接口和其他支持传入BY选择器的接口会查找第一个匹配的控件进行操作，使用driver.find_all_components接口可以返回所有匹配查找条件的控件，脚本开发人员可以根据需要选择其中的某个控件进行操作，或者对所有控件进行操作。
以如下场景为例，界面上存在多个Button，我们需要点击第n个特定的Button或者点击所有Button，则可以使用driver.find_all_components
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160406.58879590447751568066564112011076:50001231000000:2800:6EB9C7405AC0F9F1782ECEF3987FE7E4D15BB5ADAE4DCC44ED97361196E4BD30.png)
示例代码
图片定位控件
如果控件没有可用于定位的唯一属性，通过相对位置也无法实现定位，可以通过截取控件的图片，然后使用driver.find_image来查找控件的位置，或者使用driver.touch_image接口来直接点击控件。
例如如下场景，如果红框中的控件没有可供唯一定位的属性，同时附近的控件也无法唯一定位导致不能使用相对位置定位时，可以尝试使用图片匹配的方案定位控件，定位方式如下:
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160406.80963919614572392141145406265653:50001231000000:2800:99FD69D1CA174285C2FA6ADAB621240B8BA7A627FA4AF0815A8C6EB8751593DB.png)
使用图片定位控件必须安装opencv-python包，使用如下命令安装：
示例代码
当前仅支持查找匹配度最高的第一个匹配的图片区域，不支持匹配多个目标。
比例坐标定位控件
如果图像特征不明显，使用图像匹配的方式也无法准确识别控件位置，可以通过比例坐标的方式点击控件。注意该方式不推荐使用，因为在屏幕比例或者控件位置发生变化时该种方式通常会失效，无法操作到正确的控件，并且如果实际操作界面不在当前界面，点击也会成功，但实际效果不符合预期。如果必须使用，通常需要保证其前一步或者后一步是通过控件属性来定位控件的，避免脚本执行非预期操作而框架无法感知。
例如下图场景中，如果红框中的控件无法通过上述方式定位，可以采用比例坐标的方式点击(不推荐使用)
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160406.81324011096137535155207946355677:50001231000000:2800:488E3C086105ACF51317F9F9A9F98F799F9F8DD09C18AF3D67FECBD9E685CB7D.png)
比例坐标可通过DevEco Testing Hypium插件查看
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160406.44059644867965392218025409100958:50001231000000:2800:F499D3938119E247DCD9D555868C24872CFBC4E012B99823DD67642A8F402A74.png)
查找窗口
接口说明
根据指定条件查找窗口，返回窗口对象
参数说明
| 参数名称  | 参数描述  |
| --- | --- |
| filter  | 使用WindowFilter对象指定查找条件  |
参数名称
参数描述
filter
使用WindowFilter对象指定查找条件
返回值
如果找到window则返回UiWindow对象，否则返回None
使用示例
Ⅰ.触摸屏
点击
接口说明
根据选定的控件或者坐标位置执行点击操作
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | target  | 需要点击的目标，可以为控件(通过By类指定)或者屏幕坐标(通过tuple类型指定，例如(100, 200)， 其中100为x轴坐标，200为y轴坐标), 或者使用find_component找到的控件对象  |
| 2  | mode  | 点击模式，目前支持: "normal" 点击 "long" 长按（长按后放开） "double" 双击  |
| 3  | scroll_target  | 指定可滚动的控件，在该控件中滚动搜索指定的目标控件target。仅在target为By对象时有效  |
| 4  | wait_time  | 点击后等待响应的时间，默认0.1s  |
序号
参数名称
参数描述
1
target
需要点击的目标，可以为控件(通过By类指定)或者屏幕坐标(通过tuple类型指定，例如(100, 200)， 其中100为x轴坐标，200为y轴坐标), 或者使用find_component找到的控件对象
2
mode
点击模式，目前支持:
"normal" 点击
"long" 长按（长按后放开）
"double" 双击
3
scroll_target
指定可滚动的控件，在该控件中滚动搜索指定的目标控件target。仅在target为By对象时有效
4
wait_time
点击后等待响应的时间，默认0.1s
使用示例
多指点击
接口说明
执行多指点击操作
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | points  | 需要点击的坐标位置列表，每个坐标对应一个手指, 例如[(0.1, 0.2), (0.3, 0.4)], 最多支持4指点击  |
| 2  | duration  | 按下/抬起的时间，可实现多指长按操作, 单位秒  |
| 3  | area  | 点击操作的区域, 当起始结束坐标为(0.1, 0.2)等相对比例坐标时生效，默认为操作区域为全屏  |
序号
参数名称
参数描述
1
points
需要点击的坐标位置列表，每个坐标对应一个手指, 例如[(0.1, 0.2), (0.3, 0.4)], 最多支持4指点击
2
duration
按下/抬起的时间，可实现多指长按操作, 单位秒
3
area
点击操作的区域, 当起始结束坐标为(0.1, 0.2)等相对比例坐标时生效，默认为操作区域为全屏
使用示例
滑动
执行不太精准的滑动操作
接口说明
在屏幕上或者指定区域area中执行朝向指定方向direction的滑动操作。该接口用于执行不太精准的滑动操作。
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | direction  | 滑动方向，目前支持: "LEFT" 左滑 "RIGHT" 右滑 "UP" 上滑 "DOWN" 下滑  |
| 2  | distance  | 相对滑动区域总长度的滑动距离，范围为1-100, 表示滑动长度为滑动区域总长度的1%到100%， 默认为60  |
| 3  | area  | 通过控件指定的滑动区域  |
| 4  | side  | 滑动位置， 指定滑动区域内部(屏幕内部)执行操作的大概位置，支持: UiParam.LEFT 靠左区域 UiParam.RIGHT 靠右区域 UiParam.TOP 靠上区域 UiParam.BOTTOM 靠下区域  |
| 5  | start_point  | 滑动起始点, 默认为None, 表示在区域中间位置执行滑动操作, 可以传入滑动起始点坐标，支持使用(0.5, 0.5) 这样的比例坐标。当同时传入side和start_point的时候, 仅start_point生效  |
| 6  | swipe_time  | 滑动时间（s)， 默认0.3s  |
序号
参数名称
参数描述
1
direction
滑动方向，目前支持:
"LEFT" 左滑
"RIGHT" 右滑
"UP" 上滑
"DOWN" 下滑
2
distance
相对滑动区域总长度的滑动距离，范围为1-100, 表示滑动长度为滑动区域总长度的1%到100%， 默认为60
3
area
通过控件指定的滑动区域
4
side
滑动位置， 指定滑动区域内部(屏幕内部)执行操作的大概位置，支持:
UiParam.LEFT 靠左区域
UiParam.RIGHT 靠右区域
UiParam.TOP 靠上区域
UiParam.BOTTOM 靠下区域
5
start_point
滑动起始点, 默认为None, 表示在区域中间位置执行滑动操作, 可以传入滑动起始点坐标，支持使用(0.5, 0.5)
这样的比例坐标。当同时传入side和start_point的时候, 仅start_point生效
6
swipe_time
滑动时间（s)， 默认0.3s
使用示例
执行精准的滑动操作
接口说明
根据指定的起始和结束位置执行滑动操作，起始和结束的位置可以为控件或者屏幕坐标。该接口用于执行较为精准的滑动操作。
参数说明
| 序列  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | start  | 滑动起始位置，可以为控件BY.text(“滑块”)或者坐标(100, 200), 或者使用find_component找到的控件对象  |
| 2  | end  | 滑动结束位置，可以为控件BY.text(“最大值”)或者坐标(100, 200), 或者使用find_component找到的控件对象  |
| 3  | area  | 滑动操作区域，可以为控件BY.text("画布")。目前仅在start或者end为坐标 时生效，指定区域后，当start和end为坐标时，其坐标将被视为相对于指定的区域 的相对位置坐标。  |
| 4  | slide_time  | 滑动操作总时间，单位秒  |
序列
参数名称
参数描述
1
start
滑动起始位置，可以为控件BY.text(“滑块”)或者坐标(100, 200), 或者使用find_component找到的控件对象
2
end
滑动结束位置，可以为控件BY.text(“最大值”)或者坐标(100, 200), 或者使用find_component找到的控件对象
3
area
滑动操作区域，可以为控件BY.text("画布")。目前仅在start或者end为坐标
时生效，指定区域后，当start和end为坐标时，其坐标将被视为相对于指定的区域
的相对位置坐标。
4
slide_time
滑动操作总时间，单位秒
使用示例
拖拽
接口说明
根据指定的起始和结束位置执行拖拽操作，起始和结束的位置可以为控件或者屏幕坐标
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | start  | 拖拽起始位置，可以为控件BY.text(“滑块”)或者坐标(100, 200), 或者使用find_component找到的控件对象  |
| 2  | end  | 拖拽结束位置，可以为控件BY.text(“最大值”)或者坐标(100, 200), 或者使用find_component找到的控件对象  |
| 3  | area  | 拖拽操作区域，可以为控件BY.text("画布"), 或者使用find_component找到的控件对象。 目前仅在start或者end为坐标时生效，指定区域后，当start和end为坐标时，其坐标将被视为相对于指定的区域的相对位置坐标。  |
| 4  | press_time  | 拖拽操作开始时，长按的时间, 默认为1s(设置暂时无效)  |
| 5  | drag_time  | 拖动的时间， 默认为1s(整个拖拽操作总时间 = press_time + drag_time)  |
序号
参数名称
参数描述
1
start
拖拽起始位置，可以为控件BY.text(“滑块”)或者坐标(100, 200), 或者使用find_component找到的控件对象
2
end
拖拽结束位置，可以为控件BY.text(“最大值”)或者坐标(100, 200), 或者使用find_component找到的控件对象
3
area
拖拽操作区域，可以为控件BY.text("画布"), 或者使用find_component找到的控件对象。
目前仅在start或者end为坐标时生效，指定区域后，当start和end为坐标时，其坐标将被视为相对于指定的区域的相对位置坐标。
4
press_time
拖拽操作开始时，长按的时间, 默认为1s(设置暂时无效)
5
drag_time
拖动的时间， 默认为1s(整个拖拽操作总时间 = press_time + drag_time)
使用示例
捏合缩小
接口说明
在控件上捏合缩小
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | area  | 手势执行的区域  |
| 2  | scale  | 缩放的比例, [0, 1], 值越小表示缩放操作距离越长, 缩小的越多  |
| 3  | direction  | 双指缩放时缩放操作方向, 支持 "diagonal" 对角线滑动 "horizontal" 水平滑动  |
| 4  | kwargs  | 其他可选滑动配置参数 dead_zone_ratio 缩放操作时控件靠近边界不可操作的区域占控件长度/宽度的比例, 默认为0.2, 调节范围为(0, 0.5)  |
序号
参数名称
参数描述
1
area
手势执行的区域
2
scale
缩放的比例, [0, 1], 值越小表示缩放操作距离越长, 缩小的越多
3
direction
双指缩放时缩放操作方向, 支持
"diagonal" 对角线滑动
"horizontal" 水平滑动
4
kwargs
其他可选滑动配置参数
dead_zone_ratio 缩放操作时控件靠近边界不可操作的区域占控件长度/宽度的比例, 默认为0.2, 调节范围为(0, 0.5)
使用示例
双指放大
接口说明
在控件上双指放大
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | area  | 手势执行的区域  |
| 2  | scale  | 缩放的比例, 范围1~2, 值越大表示缩放操作滑动的距离越长, 放大的越多  |
| 3  | direction  | 双指缩放时缩放操作方向, 支持 "diagonal" 对角线滑动 "horizontal" 水平滑动  |
| 4  | kwargs  | 其他可选滑动配置参数 dead_zone_ratio 缩放操作时控件靠近边界不可操作的区域占控件长度/宽度的比例, 默认为0.2, 调节范围为(0, 0.5)  |
序号
参数名称
参数描述
1
area
手势执行的区域
2
scale
缩放的比例, 范围1~2, 值越大表示缩放操作滑动的距离越长, 放大的越多
3
direction
双指缩放时缩放操作方向, 支持
"diagonal" 对角线滑动
"horizontal" 水平滑动
4
kwargs
其他可选滑动配置参数
dead_zone_ratio 缩放操作时控件靠近边界不可操作的区域占控件长度/宽度的比例, 默认为0.2, 调节范围为(0, 0.5)
使用示例
双指滑动
接口说明
执行双指滑动操作
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | start1  | 手指1起始坐标  |
| 2  | end1  | 手指1结束坐标  |
| 3  | start2  | 手指2起始坐标  |
| 4  | end2  | 手指2结束坐标  |
| 5  | duration  | 滑动操作持续时间  |
| 6  | area  | 滑动操作的区域, 当起始结束坐标为(0.1, 0.2)等相对比例坐标时生效，默认为操作区域为全屏  |
序号
参数名称
参数描述
1
start1
手指1起始坐标
2
end1
手指1结束坐标
3
start2
手指2起始坐标
4
end2
手指2结束坐标
5
duration
滑动操作持续时间
6
area
滑动操作的区域, 当起始结束坐标为(0.1, 0.2)等相对比例坐标时生效，默认为操作区域为全屏
使用示例
自定路径滑动手势（单指）
接口说明
执行自定义滑动手势操作
参数说明
| 序列  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | gesture  | 描述手势操作的Gesture对象  |
| 2  | speed  | 默认操作速度, 当生成Gesture对象的某个步骤中没有传入操作时间的默认使用该速度进行操作  |
序列
参数名称
参数描述
1
gesture
描述手势操作的Gesture对象
2
speed
默认操作速度, 当生成Gesture对象的某个步骤中没有传入操作时间的默认使用该速度进行操作
使用示例
自定路径滑动手势(多指)
接口说明
注入多指手势操作
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | gestures  | 表示单指手势操作的Gesture对象列表，每个Gesture对象描述一个手指的操作轨迹，最多4指 注意如果各个手势持续时间不同，时间短的手势操作会保持在结束位置，等待所有手势完成后才会抬起对应手指。  |
| 2  | speed  | gesture的步骤没设置时间时, 使用该速度计算时间, 单独 像素/秒  |
序号
参数名称
参数描述
1
gestures
表示单指手势操作的Gesture对象列表，每个Gesture对象描述一个手指的操作轨迹，最多4指
注意如果各个手势持续时间不同，时间短的手势操作会保持在结束位置，等待所有手势完成后才会抬起对应手指。
2
speed
gesture的步骤没设置时间时, 使用该速度计算时间, 单独 像素/秒
使用示例
Ⅱ. 键盘鼠标
鼠标点击
接口说明
鼠标点击, 支持键鼠组合操作
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | pos  | 点击的位置, 支持位置, UiComponent对象以及By, 例如(100, 200), BY.text("确认")  |
| 2  | button_id  | 需要点击的鼠标按键  |
| 3  | key1  | 需要组合按下的第一个键盘按键  |
| 4  | key2  | 需要组合按下的第二个键盘按键  |
序号
参数名称
参数描述
1
pos
点击的位置, 支持位置, UiComponent对象以及By, 例如(100, 200), BY.text("确认")
2
button_id
需要点击的鼠标按键
3
key1
需要组合按下的第一个键盘按键
4
key2
需要组合按下的第二个键盘按键
使用示例
鼠标拖拽
接口说明
使用鼠标进行拖拽操作(按住鼠标左键移动鼠标)
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | start  | 起始位置, 支持坐标和控件  |
| 2  | end  | 结束位置, 支持坐标和控件  |
| 3  | speed  | 鼠标移动速度，像素/秒  |
序号
参数名称
参数描述
1
start
起始位置, 支持坐标和控件
2
end
结束位置, 支持坐标和控件
3
speed
鼠标移动速度，像素/秒
使用示例
鼠标移动
接口说明
鼠标指针从之前起始位置移动到结束位置，模拟移动轨迹和速度
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | start  | 起始位置, 支持坐标和控件  |
| 2  | end  | 结束位置, 支持坐标和控件  |
| 3  | speed  | 鼠标移动速度，像素/秒  |
序号
参数名称
参数描述
1
start
起始位置, 支持坐标和控件
2
end
结束位置, 支持坐标和控件
3
speed
鼠标移动速度，像素/秒
使用示例
按键
接口说明
按下指定按键(按组合键请使用press_combination_key)
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | key_code  | 需要按下的按键编码  |
| 2  | key_code2  | 需要按下的按键编码  |
| 3  | mode  | 按键模式, 仅在进行单个按键时支持，支持: UiParam.NORMAL 默认, 按一次 UiParam.LONG 长按 UiParam.DOUBLE 双击  |
序号
参数名称
参数描述
1
key_code
需要按下的按键编码
2
key_code2
需要按下的按键编码
3
mode
按键模式, 仅在进行单个按键时支持，支持:
UiParam.NORMAL 默认, 按一次
UiParam.LONG 长按
UiParam.DOUBLE 双击
使用示例
按组合键
接口说明
按下组合键, 支持2键或者3键组合
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | key1  | 组合键第一个按键  |
| 2  | key2  | 组合键第二个按键  |
| 3  | key3  | 组合键第三个按键(HMOS不支持三键组合, 第三个按键不会生效)  |
序号
参数名称
参数描述
1
key1
组合键第一个按键
2
key2
组合键第二个按键
3
key3
组合键第三个按键(HMOS不支持三键组合, 第三个按键不会生效)
使用示例
```shell
# 按下音量下键和电源键的组合键
driver.press_combination_key(KeyCode.VOLUME_DOWN, KeyCode.POWER)
# 同时按下ctrl, shift和F键
driver.press_combination_key(KeyCode.CTRL_LEFT, KeyCode.SHIFT_LEFT, KeyCode.F)
```
hdc命令执行
接口说明
执行hdc命令
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | cmd  | 执行的hdc命令  |
| 2  | timeout  | 超时时间, 单位秒  |
序号
参数名称
参数描述
1
cmd
执行的hdc命令
2
timeout
超时时间, 单位秒
返回值
命令执行后的回显内容
使用示例
设备侧shell命令执行
接口说明
在设备端shell中执行命令
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | cmd  | 执行的shell命令  |
| 2  | timeout  | 超时时间, 单位秒  |
序号
参数名称
参数描述
1
cmd
执行的shell命令
2
timeout
超时时间, 单位秒
返回值
命令执行后的回显内容
使用示例
PC侧shell命令执行
接口说明
在PC端执行shell命令
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | cmd  | 命令内容  |
| 2  | timeout  | 超时时间, 单位秒  |
序号
参数名称
参数描述
1
cmd
命令内容
2
timeout
超时时间, 单位秒
使用示例
安装应用
接口说明
安装app
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | package_path  | PC端保存的安装包路径  |
| 2  | options  | 传递给install命令的额外参数  |
序号
参数名称
参数描述
1
package_path
PC端保存的安装包路径
2
options
传递给install命令的额外参数
使用示例
卸载应用
接口说明
卸载App
参数说明
| 参数名称  | 参数描述  |
| --- | --- |
| package_name  | 需要卸载的app包名  |
参数名称
参数描述
package_name
需要卸载的app包名
使用示例
清除应用缓存数据
接口说明
清除app的缓存数据
参数说明
| 参数名称  | 参数描述  |
| --- | --- |
| package_name  | app包名（bundle name）  |
参数名称
参数描述
package_name
app包名（bundle name）
使用示例
启动应用
接口说明
根据包名启动指定的app
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | package_name  | 应用程序包名(bundle name)  |
| 2  | page_name  | 应用内页面名称(ability name)  |
| 3  | params  | 其他传递给aa命令行参数  |
| 4  | wait_time  | 发送启动指令后，等待app启动的时间  |
序号
参数名称
参数描述
1
package_name
应用程序包名(bundle name)
2
page_name
应用内页面名称(ability name)
3
params
其他传递给aa命令行参数
4
wait_time
发送启动指令后，等待app启动的时间
使用示例
停止应用
接口说明
停止指定的应用
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | package_name  | 应用程序包名  |
| 2  | wait_time  | 停止app后延时等待的时间, 单位为秒  |
序号
参数名称
参数描述
1
package_name
应用程序包名
2
wait_time
停止app后延时等待的时间, 单位为秒
使用示例
拉取文件
接口说明
从设备端的传输文件到pc端
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | local_path  | PC侧保存文件的路径  |
| 2  | device_path  | 设备侧保存文件的路径  |
| 3  | timeout  | 拉取文件超时时间, 默认60秒  |
序号
参数名称
参数描述
1
local_path
PC侧保存文件的路径
2
device_path
设备侧保存文件的路径
3
timeout
拉取文件超时时间, 默认60秒
使用示例
推送文件
接口说明
从pc端传输文件到设备端
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | local_path  | PC侧文件的路径  |
| 2  | device_path  | 设备侧文件的路径  |
| 3  | timeout  | 推送文件超时时间  |
序号
参数名称
参数描述
1
local_path
PC侧文件的路径
2
device_path
设备侧文件的路径
3
timeout
推送文件超时时间
使用示例
查询文件是否存在
接口说明
查询设备中是否有存在路径为file_path的文件
参数说明
| 参数名称  | 参数描述  |
| --- | --- |
| file_path  | 需要检查的设备端文件路径  |
参数名称
参数描述
file_path
需要检查的设备端文件路径
使用示例
输入文本
接口说明
向指定控件中输入文本内容
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | component  | 需要输入文本的控件，可以使用By对象，或者使用find_component找到的控件对象  |
| 2  | text  | 需要输入的文本  |
序号
参数名称
参数描述
1
component
需要输入文本的控件，可以使用By对象，或者使用find_component找到的控件对象
2
text
需要输入的文本
使用示例
清除文本
接口说明
清空指定控件中的文本内容
参数说明
| 参数名称  | 参数描述  |
| --- | --- |
| component  | 需要清除文本的控件  |
参数名称
参数描述
component
需要清除文本的控件
使用示例
Ⅰ. 常规断言
检查是否相等
接口说明
检查实际值和期望值相等，在不一致时抛出TestFailure异常, 并打印fail_msg
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | value  | 实际值, 如果为list或者tuple，将取其中每个值同expect中的每个值进行比较  |
| 2  | expect  | 期望值， 如果为list或者tuple，将取其中每个值同value中的每个值进行比较  |
| 3  | fail_msg  | 断言失败时打印的提示信息  |
序号
参数名称
参数描述
1
value
实际值, 如果为list或者tuple，将取其中每个值同expect中的每个值进行比较
2
expect
期望值， 如果为list或者tuple，将取其中每个值同value中的每个值进行比较
3
fail_msg
断言失败时打印的提示信息
使用示例
检查是否超出预期
接口说明
检查value是否大于expect, 不满足时抛出TestAssertionError异常
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | value  | 实际值  |
| 2  | expect  | 期望值  |
| 3  | fail_msg  | 断言失败时打印的提示信息  |
序号
参数名称
参数描述
1
value
实际值
2
expect
期望值
3
fail_msg
断言失败时打印的提示信息
使用示例
Ⅱ. 控件断言
检查控件是否存在
接口说明
检查指定UI控件是否存在
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | component  | 待检查的UI控件, 使用By对象指定  |
| 2  | expect_exist  | 是否期望控件存在, True表示期望控件存在，False表示期望控件不存在  |
| 3  | wait_time  | 检查过程中等待控件出现的时间  |
| 4  | scroll_target  | 上下滑动检查目标控件时滑动的控件, 默认为None表示不进行滑动查找  |
序号
参数名称
参数描述
1
component
待检查的UI控件, 使用By对象指定
2
expect_exist
是否期望控件存在, True表示期望控件存在，False表示期望控件不存在
3
wait_time
检查过程中等待控件出现的时间
4
scroll_target
上下滑动检查目标控件时滑动的控件, 默认为None表示不进行滑动查找
使用示例
检查控件属性
接口说明
检查控件属性是否符合预期
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | component  | 需要检查的控件, 支持By或者UiComponent对象  |
| 2  | expected_equal  | 预期值和实际值是否相等，True表示预期相等，False表示预期不相等  |
| 3  | kwargs  | 指定预期的控件属性值, 目前支持: "id", "text", "key", "type", "enabled", "focused", "clickable", "scrollable" "checked", "checkable"  |
序号
参数名称
参数描述
1
component
需要检查的控件, 支持By或者UiComponent对象
2
expected_equal
预期值和实际值是否相等，True表示预期相等，False表示预期不相等
3
kwargs
指定预期的控件属性值, 目前支持:
"id", "text", "key", "type", "enabled", "focused", "clickable", "scrollable"
"checked", "checkable"
使用示例
检查图片是否存在
接口说明
使用图片模板匹配算法检测当前屏幕截图中是否有指定图片，需要保证模板图片的分辨率和屏幕截图中目标图像的分辨率一致，否则会无法成功检测到目标图片
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | image_path_pc  | 待检查的图片路径（图片保存在PC端）  |
| 2  | expect_exist  | 是否期望图片在设备屏幕上存在, True表示期望控件存在，False表示期望控件不存在  |
| 3  | similarity  | 图像匹配算法比较图片时使用的相似度, 范围0~1,  |
| 4  | timeout  | 检查的总时间，每秒会进行获取一次屏幕截图检查指定图片是否存在，通过timeout可指定检查的次数  |
| 5  | mode  | 图片匹配模式, 支持template和sift, 图片分辨率/旋转变化对sift模式影响相对较小，但sift模式难以处理缺少较复杂图案的纯色，无线条图片  |
| 6  | kwargs  | 其他配置参数 min_match_point: 最少匹配特征点数, 值越大匹配越严格, 默认为16, 仅sift模式有效  |
序号
参数名称
参数描述
1
image_path_pc
待检查的图片路径（图片保存在PC端）
2
expect_exist
是否期望图片在设备屏幕上存在, True表示期望控件存在，False表示期望控件不存在
3
similarity
图像匹配算法比较图片时使用的相似度, 范围0~1,
4
timeout
检查的总时间，每秒会进行获取一次屏幕截图检查指定图片是否存在，通过timeout可指定检查的次数
5
mode
图片匹配模式, 支持template和sift, 图片分辨率/旋转变化对sift模式影响相对较小，但sift模式难以处理缺少较复杂图案的纯色，无线条图片
6
kwargs
其他配置参数
min_match_point: 最少匹配特征点数, 值越大匹配越严格, 默认为16, 仅sift模式有效
使用示例
Ⅲ. 窗口断言
检查窗口
接口说明
检查指定的window的属性是否符合预期
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | title  | 预期的窗口标题, None表示不检查  |
| 2  | bundle_name  | 预期窗口所属的app包名, None表示不检查  |
序号
参数名称
参数描述
1
title
预期的窗口标题, None表示不检查
2
bundle_name
预期窗口所属的app包名, None表示不检查
使用示例
使用以下方法在脚本或者封装的AW中打印能够记录到测试报告中的日志消息。
在自定义的aw实现中，可以调用driver对象中的log模块打印日志消息。
使用以下方法在程序工作目录下resource目录以及其他工程配置文件配置的资源目录中搜索名为filename的文件。该方法会返回文件完整路径，可以仅传入文件名或者相对路径
默认搜索文件路径，设置isdir=True来读取目录路径

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/hypium-perf-python-guidelines-V14
爬取时间: 2025-05-01 07:37:14
来源: Huawei Developer
框架概述
性能测试框架属于hypium自动化测试的的增强能力，支持开发者使用python语言为应用编写自动化测试性能脚本，在DevEco Testing提供的场景化性能测试进行性能指标检测并查看测试报告。本指南主要介绍性能测试脚本的开发。
DevEco Testing场景化性能测试详情介绍，请参考指导：场景化性能测试。
hypium基本AW接口功能介绍，请参考指导：Hypium框架-API使用方法。
环境搭建
1、系统要求
Windows
操作系统：Windows 10/11 64 位
内存：推荐使用16GB及以上（可用内存大于8G）
处理器：i7-10700@2.9GHz或者同等性能的型号
硬盘：可用硬盘空间100GB以上
Mac
操作系统：macOs 13及以上
内存：推荐使用16GB及以上（可用内存大于8G）
处理器：i7-10700@2.9GHz及以上或Apple silicon M系列
硬盘：可用硬盘空间100GB以上
2、安装Python及Hypium
性能测试框架基于Python环境，依赖Hypium环境搭建，Python推荐3.10版本，其他版本可能出现兼容性问题。
相关环境搭建与基本AW使用，请参考指导：应用UI测试。
安装hypium_perf
1、获取安装包：
1）通过Deveco Testing客户端场景化性能测试获取安装包。操作如下：
进入DevEco Testing客户端-场景化性能测试，选择自定义场景测试，点击获取安装包。随后会跳转至华为开发者联盟官网。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160407.58284318932112178856326173297915:50001231000000:2800:E470C59119996E8BBB05CC64E083A32D26C193A91E6DD2C91391E2FF2EFDB615.png)
2）访问华为开发者联盟官网下载页面：DevEco Testing Hypium
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160407.02016708768165747068641261844280:50001231000000:2800:66FF878D810CCBA329C0FD24988B4AFC33CC30FFA0C1AF1E02F71841A032F667.png)
找到DevEco Testing Hypium，下载解压后找到其中的hypium-5.0.7.200.zip(请以实际版本号为准)。
3）下载解压完成后，由于存在依赖关系，请先安装hypium、xdevice等库，再安装hypium_perf、perf_analyzer等库。
您需要将hypium及xdevice系列库与hypium_perf系列库安装到同一个python环境，且python版本为3.10 一键安装：从安装包所在目录打开终端窗口，Windows环境下运行 install.bat 脚本，或Mac环境下运行install.sh脚本，跟随提示确认安装。
4）安装完成后，将提示所有包安装成功，环境安装成功。
以下版本仅供示例，具体版本号请参照实际下载版本。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160407.16664561393698070568357729799614:50001231000000:2800:56427CD29405374E922919794BD7E5B9864530A53AB77864923D369144A25489.png)
如脚本执行失败，可使尝试手动安装。确保用python3.10版本，在终端窗口输入 python -m pip install --upgrade pip 更新pip后，进入对应的路径，手动安装依赖包。
以下命令的版本仅供示例，具体版本号请参照实际下载版本。
安装完成后，可前往查看PyCharm-设置-项目-Python解释器中的软件包与已安装版本是否一致。
脚本写作&调试
脚本写作
1、下载脚本模板
1）进入DevEco Testing 场景化性能测试，选择自定义场景测试，点击创建工程模板。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160407.33500778374642431593580953308829:50001231000000:2800:6FFA89D1D072261754DA1FB44831D80CAFDF6B06D7F23B335013FF0B53AAE710.png)
2）填写工程项目名称，选择工程存放路径，点击开始生成。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160407.92388921338371098130979360231934:50001231000000:2800:3AE629EA2AAB77700793228F8711E387375159F4E73655FD8189DDC910D7FE55.png)
3）在指定的文件夹路径下，将自动生成用例模板。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160407.86945250864465451732187988951428:50001231000000:2800:D61C55CAA24DC418CFE2A47FD5FA802D32BED070BB8400EEE4231C8536D90952.png)
已下载的脚本工程模板，可在PyCharm中可直接调试验证，调试验证成功后，即可在DevEco Testing上运行脚本做性能测试。详情可查看 本地脚本调试及测试执行章节。
也可基于已下载的工程模板，参考后续章节，根据应用实际测试场景，进行脚本写作及调试。
2、场景用例和原子用例使用说明
（1）测试步骤
我们把用户一次操作定义为一个测试步骤。
（2）原子用例
多个测试步骤组合，完成一套操作，我们称为原子用例，存放于models目录，对应脚本中一个model(模型)，有独立的原子用例编号。
原子用例可以被重用，是最小的用例单元。
（3） 场景用例
我们把用户完成一件事情定义为一个场景。比如：用户在小红书浏览后去淘宝搜索购物。
一个场景对应一条场景用例，场景用例编号与用例文件名一致，存放在testcase目录下，场景用例是测试执行的入口，一个场景用例可以由多个原子用例组成，比如上述场景：用户在小红书浏览后去淘宝搜索购物，可由两个原子用例组成：1）用户浏览小红书 2）用户在淘宝搜索并购物。这两个原子用例独立且可被重用。假设有另一个场景用例：用户在小红书浏览后去京东购物，那么用户浏览小红书这个原子用例即可被重用。
工程执行的入口、结果的反馈，都是以一个个场景用例为单位。
3、场景用例写作指导
Testcase编写规范：
Testcase对应的是测试场景中的一系列相关的原子用例操作序列，在脚本编写时对应一个testcase。
（1）命名规范：
一个testcase是一个独立的python文件，testcase文件命名为可区分的场景编号名称，例：
OH_PerfDemoTest.py。
（2）继承规范：
testcase必须继承PerfBaseCase类，PerfBaseCase会负责用例开始时的初始化流程，进行一些设备环境检查操作。
（3）注释规范：
将场景用例的场景描述放置在用例最上方，方便审视测试场景所包含的原子用例执行步骤对应关系。
场景用例模板：
OH\_PerfDemoTest.json 配置文件模板
{... ,"py\_file" : ["OH\_PerfDemoTest.py"]}，此处文件路径是testcases的相对路径。
4、原子用例写作指导
Model编写规范：
Model对应的是原子用例操作中的一组操作序列，在脚本编写时对应一个model。
（1）命名规范：
一个model是一个独立的python文件，model文件命名为有一定业务含义的名称，例如：设置界面浏览->
setting_interface_browsing.py。
（2）继承规范：
model必须继承基类ModelBase，ModelBase会负责与采集器的交互，并且处理model模型中如果执行出错出现
的异常场景。
（3）注释规范：
将原子用例操作步骤放置在用例最上方，方便审视模型步骤和用例执行步骤对应关系。
原子用例模板：
5、使用UiViewer查看控件
可使用控件查看工具，辅助脚本写作。DevEco Testing->实用工具->UIViewer
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160408.86672589755062883814013627948316:50001231000000:2800:CCAB89FF05155AB4963F966B5A8CD1B469812DBBD5F3037671A1C5DA229AE0C7.png)
测试框架api介绍
1、功能介绍
性能测试框架属于hypium自动化测试的的增强能力，设备操作的api能力与hypium一致。性能测试框架主要控制性能自动化测试模型流程执行、控制测试步骤中trace资源与视频资源的抓取以及自动化测试完成后的指标分析。
AW接口功能介绍，可以参考指导：Hypium框架-API使用方法
注：若测试场景包含隐私界面无法录屏，则无法进行测试，例如银行类应用、密码界面等
2、场景tag
场景tag是测试框架定义的一套用于标注测试步骤使用场景的标签。
| 参数名称  | 参数描述  |
| --- | --- |
| step_name  | 必填，测试步骤中文名字  |
| scene_type  | 必填，对应性能tag类型，从SceneType中选择  |
| pkg_name  | 非必填，测试应用相关包名  |
| wait_time  | 非必填，增加采集时长，避免采集未包含全部动效  |
参数名称
参数描述
step_name
必填，测试步骤中文名字
scene_type
必填，对应性能tag类型，从SceneType中选择
pkg_name
非必填，测试应用相关包名
wait_time
非必填，增加采集时长，避免采集未包含全部动效
所有性能测试的需要采集指标的步骤，有以下3个原则：
3、场景tag类型
注：滑动操作和无页面切换的场景不测完成时延；冷启前需要杀掉该后台应用，热启前需要拉起该应用并置于后台
4、hypium_perf常用接口和用法
在hypium的界面操作接口上封装一套perf接口，提供给性能测试使用。
以下所有示例代码中driver都是UiExplorerPerf对象, 所有带_perf的操作，tag一定不能遗漏
Phone常用接口
1） 点击
接口说明
根据选定的控件或者坐标位置执行点击操作。
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | target  | 需要点击的目标，可以为控件(通过By类指定)或者屏幕坐标(通过tuple类型指定，例如(100, 200)， 其中100为x轴坐标，200为y轴坐标), 或者使用find_component找到的控件对象  |
| 2  | mode  | 点击模式，目前支持: "normal" 点击"long" 长按（长按后放开）"double" 双击  |
| 3  | scroll_target  | 指定可滚动的控件，在该控件中滚动搜索指定的目标控件target。仅在target为By对象时有效  |
| 4  | wait_time  | 点击后等待响应的时间，默认0.1s  |
| 5  | tag  | 对应性能场景tag，点击如果进入新界面，需使用WITH_PAGE_SWITCH有界面切换的场景类型  |
序号
参数名称
参数描述
1
target
需要点击的目标，可以为控件(通过By类指定)或者屏幕坐标(通过tuple类型指定，例如(100, 200)， 其中100为x轴坐标，200为y轴坐标), 或者使用find_component找到的控件对象
2
mode
点击模式，目前支持: "normal" 点击"long" 长按（长按后放开）"double" 双击
3
scroll_target
指定可滚动的控件，在该控件中滚动搜索指定的目标控件target。仅在target为By对象时有效
4
wait_time
点击后等待响应的时间，默认0.1s
5
tag
对应性能场景tag，点击如果进入新界面，需使用WITH_PAGE_SWITCH有界面切换的场景类型
使用示例
2） 用于执行不太精准的滑动操作
接口说明
在屏幕上或者指定区域area中执行朝向指定方向direction的滑动操作。该接口用于执行不太精准的滑动操作。
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | direction  | 滑动方向，目前支持:"LEFT" 左滑"RIGHT" 右滑"UP" 上滑"DOWN" 下滑  |
| 2  | distance  | 相对滑动区域总长度的滑动距离，范围为1-100, 表示滑动长度为滑动区域总长度的1%到100%， 默认为60  |
| 3  | area  | 通过控件指定的滑动区域  |
| 4  | side  | 滑动位置， 指定滑动区域内部(屏幕内部)执行操作的大概位置，支持:UiParam.LEFT 靠左区域UiParam.RIGHT 靠右区域UiParam.TOP 靠上区域UiParam.BOTTOM 靠下区域  |
| 5  | start_point  | 滑动起始点, 默认为None, 表示在区域中间位置执行滑动操作, 可以传入滑动起始点坐标，支持使用(0.5, 0.5)这样的比例坐标。当同时传入side和start_point的时候, 仅start_point生效  |
| 6  | swipe_time  | 滑动时间（s)， 默认0.3s  |
| 7  | tag  | 对应性能场景tag，若该操作不涉及页面切换，需使用NO_PAGE_SWITCH场景类型  |
序号
参数名称
参数描述
1
direction
滑动方向，目前支持:"LEFT" 左滑"RIGHT" 右滑"UP" 上滑"DOWN" 下滑
2
distance
相对滑动区域总长度的滑动距离，范围为1-100, 表示滑动长度为滑动区域总长度的1%到100%， 默认为60
3
area
通过控件指定的滑动区域
4
side
滑动位置， 指定滑动区域内部(屏幕内部)执行操作的大概位置，支持:UiParam.LEFT 靠左区域UiParam.RIGHT 靠右区域UiParam.TOP 靠上区域UiParam.BOTTOM 靠下区域
5
start_point
滑动起始点, 默认为None, 表示在区域中间位置执行滑动操作, 可以传入滑动起始点坐标，支持使用(0.5, 0.5)这样的比例坐标。当同时传入side和start_point的时候, 仅start_point生效
6
swipe_time
滑动时间（s)， 默认0.3s
7
tag
对应性能场景tag，若该操作不涉及页面切换，需使用NO_PAGE_SWITCH场景类型
使用示例
3）执行精准的滑动操作
接口说明
根据指定的起始和结束位置执行滑动操作，起始和结束的位置可以为控件或者屏幕坐标。该接口用于执行较为精准的滑动操作。
参数说明
| 序列  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | start  | 滑动起始位置，可以为控件BY.text(“滑块”)或者坐标(100, 200), 或者使用find_component找到的控件对象  |
| 2  | end  | 滑动结束位置，可以为控件BY.text(“最大值”)或者坐标(100, 200), 或者使用find_component找到的控件对象  |
| 3  | area  | 滑动操作区域，可以为控件BY.text("画布")。目前仅在start或者end为坐标时生效，指定区域后，当start和end为坐标时，其坐标将被视为相对于指定的区域的相对位置坐标。  |
| 4  | slide_time  | 滑动操作总时间，单位秒  |
| 5  | tag  | 对应性能场景tag，若该操作不涉及页面切换，需使用NO_PAGE_SWITCH场景类型  |
序列
参数名称
参数描述
1
start
滑动起始位置，可以为控件BY.text(“滑块”)或者坐标(100, 200), 或者使用find_component找到的控件对象
2
end
滑动结束位置，可以为控件BY.text(“最大值”)或者坐标(100, 200), 或者使用find_component找到的控件对象
3
area
滑动操作区域，可以为控件BY.text("画布")。目前仅在start或者end为坐标时生效，指定区域后，当start和end为坐标时，其坐标将被视为相对于指定的区域的相对位置坐标。
4
slide_time
滑动操作总时间，单位秒
5
tag
对应性能场景tag，若该操作不涉及页面切换，需使用NO_PAGE_SWITCH场景类型
使用示例
4）拖拽
接口说明
根据指定的起始和结束位置执行拖拽操作，起始和结束的位置可以为控件或者屏幕坐标
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | start  | 拖拽起始位置，可以为控件BY.text(“滑块”)或者坐标(100, 200), 或者使用find_component找到的控件对象  |
| 2  | end  | 拖拽结束位置，可以为控件BY.text(“最大值”)或者坐标(100, 200), 或者使用find_component找到的控件对象  |
| 3  | area  | 拖拽操作区域，可以为控件BY.text("画布"), 或者使用find_component找到的控件对象。目前仅在start或者end为坐标时生效，指定区域后，当start和end为坐标时，其坐标将被视为相对于指定的区域的相对位置坐标。  |
| 4  | press_time  | 拖拽操作开始时，长按的时间, 默认为1s(设置暂时无效)  |
| 5  | drag_time  | 拖动的时间， 默认为1s(整个拖拽操作总时间 = press_time + drag_time)  |
| 6  | tag  | 对应性能场景tag，若该操作不涉及页面切换，需使用NO_PAGE_SWITCH场景类型  |
序号
参数名称
参数描述
1
start
拖拽起始位置，可以为控件BY.text(“滑块”)或者坐标(100, 200), 或者使用find_component找到的控件对象
2
end
拖拽结束位置，可以为控件BY.text(“最大值”)或者坐标(100, 200), 或者使用find_component找到的控件对象
3
area
拖拽操作区域，可以为控件BY.text("画布"), 或者使用find_component找到的控件对象。目前仅在start或者end为坐标时生效，指定区域后，当start和end为坐标时，其坐标将被视为相对于指定的区域的相对位置坐标。
4
press_time
拖拽操作开始时，长按的时间, 默认为1s(设置暂时无效)
5
drag_time
拖动的时间， 默认为1s(整个拖拽操作总时间 = press_time + drag_time)
6
tag
对应性能场景tag，若该操作不涉及页面切换，需使用NO_PAGE_SWITCH场景类型
使用示例
5）屏幕侧边滑动返回
接口说明
滑动屏幕右侧返回，设备预置：设备开启触摸屏手势导航。
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | side  | 滑动的位置, "RIGHT"表示在右边滑动返回，"LEFT"表示在左边滑动返回  |
| 2  | times  | 滑动次数, 默认1次, 某些场景可能需要两次才能返回  |
| 3  | height  | 滑动位置在屏幕中Y轴的比例高度(从屏幕顶部开始计算)  |
| 4  | tag  | 对应性能场景tag，侧边返回有界面切换时，需使用WITH_PAGE_SWITCH场景类型  |
序号
参数名称
参数描述
1
side
滑动的位置, "RIGHT"表示在右边滑动返回，"LEFT"表示在左边滑动返回
2
times
滑动次数, 默认1次, 某些场景可能需要两次才能返回
3
height
滑动位置在屏幕中Y轴的比例高度(从屏幕顶部开始计算)
4
tag
对应性能场景tag，侧边返回有界面切换时，需使用WITH_PAGE_SWITCH场景类型
使用示例
6）从屏幕底部上滑返回桌面
接口说明
屏幕低端上滑回到桌面，设备预置：设备开启触摸屏手势导航。
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | times  | 上滑次数, 默认1次, 某些场景可能需要两次上滑才能返回桌面  |
| 2  | tag  | 对应性能场景tag，返回桌面一般带有界面切换，需使用WITH_PAGE_SWITCH场景类型  |
序号
参数名称
参数描述
1
times
上滑次数, 默认1次, 某些场景可能需要两次上滑才能返回桌面
2
tag
对应性能场景tag，返回桌面一般带有界面切换，需使用WITH_PAGE_SWITCH场景类型
使用示例
PC常用接口
1）鼠标点击
接口说明
根据选定的控件或者坐标位置执行鼠标点击操作，支持键鼠组合操作。
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | pos  | 需要点击的位置, 支持坐标, UiComponent对象以及By, 例如(100, 200), BY.text("确认")  |
| 2  | button_id  | 需要点击的鼠标按键，默认为鼠标左键MouseButton.MOUSE_BUTTON_LEFT 鼠标右键：MOUSE_BUTTON_RIGHT，鼠标中键：MOUSE_BUTTON_MIDDLE  |
| 3  | key1  | 需要组合按下的第一个键盘按键，按键参数可以从KeyCode枚举类中选取  |
| 4  | key2  | 需要组合按下的第二个键盘按键  |
| 5  | tag  | 对应性能场景tag，点击如果进入新界面，需使用WITH_PAGE_SWITCH有界面切换的场景类型  |
序号
参数名称
参数描述
1
pos
需要点击的位置, 支持坐标, UiComponent对象以及By, 例如(100, 200), BY.text("确认")
2
button_id
需要点击的鼠标按键，默认为鼠标左键MouseButton.MOUSE_BUTTON_LEFT
鼠标右键：MOUSE_BUTTON_RIGHT，鼠标中键：MOUSE_BUTTON_MIDDLE
3
key1
需要组合按下的第一个键盘按键，按键参数可以从KeyCode枚举类中选取
4
key2
需要组合按下的第二个键盘按键
5
tag
对应性能场景tag，点击如果进入新界面，需使用WITH_PAGE_SWITCH有界面切换的场景类型
使用示例
2）滚轮滑动
接口说明
鼠标滚轮滑动，支持键鼠组合操作。
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | pos  | 滚动的位置, 例如(100, 200)  |
| 2  | scroll_direction  | 滚动方向"up" 向上滚动"down" 向下滚动  |
| 3  | scroll_steps  | 滚动的鼠标格数  |
| 4  | key1  | 需要组合按下的第一个键盘按键，按键参数可以从KeyCode枚举类中选取  |
| 5  | key2  | 需要组合按下的第二个键盘按键  |
| 6  | tag  | 对应性能场景tag，若该操作不涉及页面切换，需使用NO_PAGE_SWITCH场景类型  |
序号
参数名称
参数描述
1
pos
滚动的位置, 例如(100, 200)
2
scroll_direction
滚动方向"up" 向上滚动"down" 向下滚动
3
scroll_steps
滚动的鼠标格数
4
key1
需要组合按下的第一个键盘按键，按键参数可以从KeyCode枚举类中选取
5
key2
需要组合按下的第二个键盘按键
6
tag
对应性能场景tag，若该操作不涉及页面切换，需使用NO_PAGE_SWITCH场景类型
使用示例
3）鼠标拖拽
接口说明
根据指定的起始和结束位置执行拖拽操作，使用鼠标进行拖拽操作(按住鼠标左键移动鼠标)。
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | start  | 拖拽起始位置，可以为控件BY.text(“滑块”)或者坐标(100, 200), 或者使用控件对象  |
| 2  | end  | 拖拽结束位置，可以为控件BY.text(“最大值”)或者坐标(200, 200), 或者使用控件对象  |
| 3  | speed  | 鼠标移动速度，像素/秒  |
| 4  | tag  | 对应性能场景tag，若该操作不涉及页面切换，需使用NO_PAGE_SWITCH场景类型  |
序号
参数名称
参数描述
1
start
拖拽起始位置，可以为控件BY.text(“滑块”)或者坐标(100, 200), 或者使用控件对象
2
end
拖拽结束位置，可以为控件BY.text(“最大值”)或者坐标(200, 200), 或者使用控件对象
3
speed
鼠标移动速度，像素/秒
4
tag
对应性能场景tag，若该操作不涉及页面切换，需使用NO_PAGE_SWITCH场景类型
使用示例
4）鼠标移动
接口说明
鼠标指针从起始位置移动到结束位置，模拟移动轨迹和速度。
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | start  | 拖拽起始位置，可以为控件BY.text(“滑块”)或者坐标(100, 200), 或者使用控件对象  |
| 2  | end  | 拖拽结束位置，可以为控件BY.text(“最大值”)或者坐标(200, 200), 或者使用控件对象  |
| 3  | speed  | 鼠标移动速度，像素/秒  |
| 4  | tag  | 对应性能场景tag，若该操作不涉及页面切换，需使用NO_PAGE_SWITCH场景类型  |
序号
参数名称
参数描述
1
start
拖拽起始位置，可以为控件BY.text(“滑块”)或者坐标(100, 200), 或者使用控件对象
2
end
拖拽结束位置，可以为控件BY.text(“最大值”)或者坐标(200, 200), 或者使用控件对象
3
speed
鼠标移动速度，像素/秒
4
tag
对应性能场景tag，若该操作不涉及页面切换，需使用NO_PAGE_SWITCH场景类型
使用示例
5）键盘单按键
接口说明
键盘按下指定单个按键。
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | key_code  | 需要按下的按键编码，按键参数可以从KeyCode枚举类中选取  |
| 2  | mode  | 按键模式, 仅在进行单个按键时支持，支持:UiParam.NORMAL 默认, 按一次UiParam.LONG 长按UiParam.DOUBLE 双击  |
| 3  | tag  | 对应性能场景tag，若该操作有页面切换，需使用WITH_PAGE_SWITCH场景类型  |
序号
参数名称
参数描述
1
key_code
需要按下的按键编码，按键参数可以从KeyCode枚举类中选取
2
mode
按键模式, 仅在进行单个按键时支持，支持:UiParam.NORMAL 默认, 按一次UiParam.LONG 长按UiParam.DOUBLE 双击
3
tag
对应性能场景tag，若该操作有页面切换，需使用WITH_PAGE_SWITCH场景类型
使用示例
6）键盘组合键
接口说明
键盘按下组合键, 支持2键或者3键组合。
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | key1  | 组合键第一个按键，按键参数可以从KeyCode枚举类中选取  |
| 2  | key2  | 组合键第二个按键  |
| 3  | key3  | 组合键第三个按键  |
| 4  | tag  | 对应性能场景tag，若该操作有页面切换，需使用WITH_PAGE_SWITCH场景类型  |
序号
参数名称
参数描述
1
key1
组合键第一个按键，按键参数可以从KeyCode枚举类中选取
2
key2
组合键第二个按键
3
key3
组合键第三个按键
4
tag
对应性能场景tag，若该操作有页面切换，需使用WITH_PAGE_SWITCH场景类型
使用示例
7）从应用中心启动APP
接口说明
基于APP名称和包名，启动对应的app。
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | app_name  | 窗口的APP名称，例：“设置”  |
| 2  | package_name  | 窗口的App的包名，例："com.huawei.hmos.settings"  |
| 3  | tag  | 对应性能场景tag，冷启动App，scene_type一般使用SceneType.COLD_START  |
序号
参数名称
参数描述
1
app_name
窗口的APP名称，例：“设置”
2
package_name
窗口的App的包名，例："com.huawei.hmos.settings"
3
tag
对应性能场景tag，冷启动App，scene_type一般使用SceneType.COLD_START
使用示例
8）关闭APP窗口
接口说明
基于APP名称和包名，关闭对应app的窗口。
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | app_name  | 窗口的APP名称，例：“设置”  |
| 2  | package_name  | 窗口的App的包名，例："com.huawei.hmos.settings"  |
| 3  | tag  | 对应性能场景tag，若该操作有页面切换，需使用WITH_PAGE_SWITCH场景类型  |
序号
参数名称
参数描述
1
app_name
窗口的APP名称，例：“设置”
2
package_name
窗口的App的包名，例："com.huawei.hmos.settings"
3
tag
对应性能场景tag，若该操作有页面切换，需使用WITH_PAGE_SWITCH场景类型
使用示例
9）调整窗口大小
接口说明
根据传入的宽、高和调整方向来调整窗口的大小。适用于支持调整大小的窗口。
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | width_diff  | 窗口宽度的变化量  |
| 2  | height_diff  | 窗口高度的变化量  |
| 3  | direction  | 窗口调整的方向，方向参数可在ResizeDirection中选取  |
| 4  | window  | 指定需要操作的窗口  |
| 5  | tag  | 对应性能场景tag，若该操作有页面切换，需使用WITH_PAGE_SWITCH场景类型  |
序号
参数名称
参数描述
1
width_diff
窗口宽度的变化量
2
height_diff
窗口高度的变化量
3
direction
窗口调整的方向，方向参数可在ResizeDirection中选取
4
window
指定需要操作的窗口
5
tag
对应性能场景tag，若该操作有页面切换，需使用WITH_PAGE_SWITCH场景类型
使用示例
10）最大化窗口
接口说明
最大化窗口。
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | window  | 指定需要操作的窗口  |
| 2  | tag  | 对应性能场景tag，若该操作有页面切换，需使用WITH_PAGE_SWITCH场景类型  |
序号
参数名称
参数描述
1
window
指定需要操作的窗口
2
tag
对应性能场景tag，若该操作有页面切换，需使用WITH_PAGE_SWITCH场景类型
使用示例
11）最小化窗口
接口说明
最小化窗口。
参数说明
| 序号  | 参数名称  | 参数描述  |
| --- | --- | --- |
| 1  | window  | 指定需要操作的窗口  |
| 2  | tag  | 对应性能场景tag，若该操作有页面切换，需使用WITH_PAGE_SWITCH场景类型  |
序号
参数名称
参数描述
1
window
指定需要操作的窗口
2
tag
对应性能场景tag，若该操作有页面切换，需使用WITH_PAGE_SWITCH场景类型
使用示例
本地脚本调试
1、main.py实现
方法一：在main.py中修改cmd命令，将参数替换为本地调试的场景用例名称。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160408.61628422946224095520302826786607:50001231000000:2800:7B99FEFFC5ABB9119B9EAD5A377940B950B8207297659E5ED2F9E60FFA48BBF3.png)
main.py 示例：
方法二：在main.py同级目录下，新建一个json文件，命名为action_testsuite.json，并在main.py中修改cmd命令。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160408.63005298249281237499136294384824:50001231000000:2800:3FFAEA901CC03CBC00B618775E0B7F9FFC9308B57691052E8914C146B9943258.png)
action_testsuite.json 示例：
2、本地多用例执行方式
一个测试任务执行多个场景用例，而不必每个场景用例单独执行，任务会按照顺序依次执行指定的场景用例。
方法一：在main.py 的cmd命令中指定多个case，用';'分割
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160408.18900272372985175496924512755055:50001231000000:2800:92C45852568774A0E039F87826912C59BC6B4AA62BC5A8CC7BB38E266C5C2697.png)
方法二：在json文件配置，并在main.py的cmd命令参数中指定json文件
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160408.06473487951882604302004081821371:50001231000000:2800:92069E3B564C95FCFC312A7400086F61BFB9CA3C742156619D4A1AC5A6301FB6.png)
示例： action_testsuite.json
性能脚本测试执行
性能脚本本地调试验证成功后，可在DevEco Testing上运行脚本做性能测试，执行过程及报告查看请跳转到文档：DevEco Testing—性能测试—场景化性能测试—测试执行

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/test-service-V14
爬取时间: 2025-05-01 07:37:48
来源: Huawei Developer

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/indev_cmd-V14
爬取时间: 2025-05-01 07:38:22
来源: Huawei Developer

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/smartperf-guidelines-V14
爬取时间: 2025-05-01 07:38:56
来源: Huawei Developer
工具简介
SmartPerf Device是一款基于系统开发的性能功耗测试工具，操作简单易用。该工具可以监测性能、功耗相关指标，包括FPS、CPU、GPU、RAM、Temp等，通过量化的指标项了解应用、整机性能状况。
Device-daemon端支持shell命令行方式，同时适用于有屏和无屏设备。
指标说明
实现原理
下图展示了SmartPerf Device工具的主要功能组成。Device-hap端设置好采集项和采集参数后，启动应用，FPS、RAM、Trace等指标通过消息发送给Device-daemon端，Device-daemon端进行数据采集、持久化和数据分析。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160408.01203538506979751864999337747498:50001231000000:2800:B7869E1DA7F26A7CF9C1BEA1EA7E2819E80046861FCF8A201611B81787DD02B9.png)
约束与限制
1.  Device-daemon端在API 9版本开始预置使用。
2.  Device-daemon端执行需连接硬件设备。
3.  Device-daemon端执行前需完成hdc环境配置。
执行性能测试
采集前提
进入shell
拉起和查看daemon进程
执行和查看帮助命令
基础采集
通过-N开启采集
| 命令参数  | 必选  | 说明  |
| --- | --- | --- |
| -N  | 是  | 设置采集次数，一秒采集一次。  |
| -PKG  | 否  | 设置包名。  |
| -c  | 否  | 采集cpu的频点和使用率。 设置应用包名时，采集整机和应用CPU信息。 不设置应用包名时，采集整机CPU信息。  |
| -g  | 否  | 采集gpu的频点和负载信息。  |
| -f  | 否  | 采集指定应用的fps以及屏幕刷新率，必须设置应用包名。  |
| -t  | 否  | 采集GPU温度、系统芯片温度。  |
| -r  | 否  | 采集内存。 设置应用包名时，采集整机和应用内存信息。 不设置应用包名时，采集整机内存信息。  |
| -snapshot  | 否  | 屏幕截图。  |
| -net  | 否  | 采集网络速率。  |
| -VIEW  | 否  | 设置图层，需要先获取应用图层名。  |
| -d  | 否  | 采集DDR。  |
| -sections  | 否  | 设置分段采集。  |
| -nav  | 否  | 采集页面导航信息，必须设置应用包名  |
命令参数
必选
说明
-N
是
设置采集次数，一秒采集一次。
-PKG
否
设置包名。
-c
否
采集cpu的频点和使用率。
设置应用包名时，采集整机和应用CPU信息。
不设置应用包名时，采集整机CPU信息。
-g
否
采集gpu的频点和负载信息。
-f
否
采集指定应用的fps以及屏幕刷新率，必须设置应用包名。
-t
否
采集GPU温度、系统芯片温度。
-r
否
采集内存。
设置应用包名时，采集整机和应用内存信息。
不设置应用包名时，采集整机内存信息。
-snapshot
否
屏幕截图。
-net
否
采集网络速率。
-VIEW
否
设置图层，需要先获取应用图层名。
-d
否
采集DDR。
-sections
否
设置分段采集。
-nav
否
采集页面导航信息，必须设置应用包名
使用示例
-  采集2次整机CPU大中小核频率、各核使用率
-  采集2次整机CPU大中小核频率、各核使用率以及进程CPU使用率、负载
-  采集1次整机GPU频率和负载
-  采集2次整机温度
-  采集2次整机内存
-  采集1次整机和指定应用进程内存
-  采集2次截图 截图采集是2秒截取一次。 截图报告存放路径为：data/local/tmp/capture。 采集结束后：进入 data/local/tmp/capture 查看生成的截图。 导出截图到D盘：重启一个命令行工具执行命令： hdc file recv data/local/tmp/capture/screenCap_1700725192774.png D:\。
-  截图采集是2秒截取一次。
-  截图报告存放路径为：data/local/tmp/capture。
-  采集结束后：进入 data/local/tmp/capture 查看生成的截图。
-  导出截图到D盘：重启一个命令行工具执行命令： hdc file recv data/local/tmp/capture/screenCap_1700725192774.png D:\。
-  采集2次网络速率
-  采集5次指定应用帧率
-  采集10次指定图层帧率 DisplayNode 是指定的图层名。 使用该命令采集时，需在传入的图层上操作页面。 该命令不能与指定应用帧率一起采集（SP_daemon -N 20 -PKG ohos.samples.ecg -f 或 SP_daemon -N 20 -VIEW DisplayNode -f）。
-  DisplayNode 是指定的图层名。
-  使用该命令采集时，需在传入的图层上操作页面。
-  该命令不能与指定应用帧率一起采集（SP_daemon -N 20 -PKG ohos.samples.ecg -f 或 SP_daemon -N 20 -VIEW DisplayNode -f）。
-  采集1次DDR信息
-  采集1次页面navigation信息 使用该命令采集时需进入被测应用内。 navPathName值是页面跳转时页面的name值，具体请参考页面跳转普通跳转中this.pageStack.pushPath示例，若未用Navigation方式实现页面跳转，返回No Navigation Info.
-  使用该命令采集时需进入被测应用内。
-  navPathName值是页面跳转时页面的name值，具体请参考页面跳转普通跳转中this.pageStack.pushPath示例，若未用Navigation方式实现页面跳转，返回No Navigation Info.
-  全量采集示例1，采集整机信息，包括cpu、gpu、温度、内存信息、DDR信息、网络速率、屏幕截图
-  全量采集示例2，采集指定应用信息，包括cpu、gpu、温度、fps、内存信息、DDR信息、网络速率、屏幕截图
-  截图采集是2秒截取一次。
-  截图报告存放路径为：data/local/tmp/capture。
-  采集结束后：进入 data/local/tmp/capture 查看生成的截图。
-  导出截图到D盘：重启一个命令行工具执行命令： hdc file recv data/local/tmp/capture/screenCap_1700725192774.png D:\。
-  DisplayNode 是指定的图层名。
-  使用该命令采集时，需在传入的图层上操作页面。
-  该命令不能与指定应用帧率一起采集（SP_daemon -N 20 -PKG ohos.samples.ecg -f 或 SP_daemon -N 20 -VIEW DisplayNode -f）。
-  使用该命令采集时需进入被测应用内。
-  navPathName值是页面跳转时页面的name值，具体请参考页面跳转普通跳转中this.pageStack.pushPath示例，若未用Navigation方式实现页面跳转，返回No Navigation Info.
通过-start开启采集
先执行start开始采集命令，然后操作设备或应用，最后执行stop结束采集命令。
| 命令参数  | 必选  | 说明  |
| --- | --- | --- |
| -start  | 是  | 开始采集，该命令参数后可添加基础采集命令，一秒采集一次。  |
| -stop  | 是  | 结束采集，执行后会生成采集报告。  |
命令参数
必选
说明
-start
是
开始采集，该命令参数后可添加基础采集命令，一秒采集一次。
-stop
是
结束采集，执行后会生成采集报告。
使用示例
-  开始采集示例1（采整机）：SP_daemon -start -c -g -t -r -d -net -snapshot。
-  开始采集示例2（采整机和进程）：SP_daemon -start -PKG ohos.samples.ecg -c -g -t -f -r -d -net -snapshot。
-  启停服务文件输出路径为：data/local/tmp/smartperf/1/t_index_info.csv，可通过hdc file recv的方式导出查看报告。具体请参考查看csv采集结果。
查看csv采集结果
若采集结果保存在csv文件中，可以按照如下操作导出和查看结果内容。
-  采集结果默认输出路径：/data/local/tmp/data.csv
-  查看文件位置
```shell
C:\Users\issusser>hdc shell
# cd data/local/tmp
# ls
data.csv
#
```
-  导出文件
-  打开data.csv查看采集数据 在自定义导出路径里找到data.csv文件打开查看采集数据表，data.csv数据名描述如下： 数据项 说明 备注 cpuFrequency CPU大中小核频率。 单位：Hz cpuUasge CPU各核使用率。 % cpuidleUsage CPU空闲态使用率。 % cpuioWaitUsage 等待I/O的使用率。 % cpuirqUsage 硬中断的使用率。 % cpuniceUsage 低优先级用户态使用率。 % cpusoftIrqUsage 软中断的使用率。 % cpusystemUsage 系统/内核态使用率。 % cpuuserUsage 用户态使用率。 % ProcId 进程id。 - ProcAppName app包名。 - ProcCpuLoad 进程CPU负载占比。 % ProcCpuUsage 进程CPU使用率。 % ProcUCpuUsage 进程用户态CPU使用率。 % ProcSCpuUsage 进程内核态CPU使用率。 % gpuFrequ 整机GPU的频率。 % gpuLoad 整机GPU的负载占比。 % currentNow 当前读到的电流值。 单位：mA voltageNow 当前读到的电压值。 单位：μV fps 每秒帧数。 单位：fps fpsJitters 每一帧绘制间隔。 单位：ns refreshrate 屏幕刷新率。 单位：Hz networkDown 下行速率。 单位：byte/s networkUp 上行速率。 单位：byte/s ddrFrequency DDR频率。 单位：Hz gpu-thermal GPU温度。 单位：°C soc-thermal 系统芯片温度。 单位：°C memAvailable 整机可用内存。 单位：KB memFree 整机空闲内存。 单位：KB memTotal 整机总内存。 单位：KB pss 进程实际使用内存。 单位：KB sharedClean 共享的未改写页面。 单位：KB sharedDirty 共享的已改写页面。 单位：KB priviateClean 私有的未改写页面。 单位：KB privateDirty 私有的已改写页面。 单位：KB swapTotal 总的交换内存。 单位：KB swapPss 交换的pss内存。 单位：KB HeapSize 堆内存大小。 单位：KB HeapAlloc 可分配的堆内存大小。 单位：KB HeapFree 剩余的堆内存大小。 单位：KB gpuPss 使用的gpu内存大小。 单位：KB graphicPss 使用的图形内存大小。 单位：KB arktsHeapPss 使用的arkts内存大小。 单位：KB nativeHeapPss 使用的native内存大小。 单位：KB stackPss 使用的栈内存大小。 单位：KB timeStamp 当前时间戳。 对应采集时间 navPathName 页面导航信息。 -
| 数据项  | 说明  | 备注  |
| --- | --- | --- |
| cpuFrequency  | CPU大中小核频率。  | 单位：Hz  |
| cpuUasge  | CPU各核使用率。  | %  |
| cpuidleUsage  | CPU空闲态使用率。  | %  |
| cpuioWaitUsage  | 等待I/O的使用率。  | %  |
| cpuirqUsage  | 硬中断的使用率。  | %  |
| cpuniceUsage  | 低优先级用户态使用率。  | %  |
| cpusoftIrqUsage  | 软中断的使用率。  | %  |
| cpusystemUsage  | 系统/内核态使用率。  | %  |
| cpuuserUsage  | 用户态使用率。  | %  |
| ProcId  | 进程id。  | -  |
| ProcAppName  | app包名。  | -  |
| ProcCpuLoad  | 进程CPU负载占比。  | %  |
| ProcCpuUsage  | 进程CPU使用率。  | %  |
| ProcUCpuUsage  | 进程用户态CPU使用率。  | %  |
| ProcSCpuUsage  | 进程内核态CPU使用率。  | %  |
| gpuFrequ  | 整机GPU的频率。  | %  |
| gpuLoad  | 整机GPU的负载占比。  | %  |
| currentNow  | 当前读到的电流值。  | 单位：mA  |
| voltageNow  | 当前读到的电压值。  | 单位：μV  |
| fps  | 每秒帧数。  | 单位：fps  |
| fpsJitters  | 每一帧绘制间隔。  | 单位：ns  |
| refreshrate  | 屏幕刷新率。  | 单位：Hz  |
| networkDown  | 下行速率。  | 单位：byte/s  |
| networkUp  | 上行速率。  | 单位：byte/s  |
| ddrFrequency  | DDR频率。  | 单位：Hz  |
| gpu-thermal  | GPU温度。  | 单位：°C  |
| soc-thermal  | 系统芯片温度。  | 单位：°C  |
| memAvailable  | 整机可用内存。  | 单位：KB  |
| memFree  | 整机空闲内存。  | 单位：KB  |
| memTotal  | 整机总内存。  | 单位：KB  |
| pss  | 进程实际使用内存。  | 单位：KB  |
| sharedClean  | 共享的未改写页面。  | 单位：KB  |
| sharedDirty  | 共享的已改写页面。  | 单位：KB  |
| priviateClean  | 私有的未改写页面。  | 单位：KB  |
| privateDirty  | 私有的已改写页面。  | 单位：KB  |
| swapTotal  | 总的交换内存。  | 单位：KB  |
| swapPss  | 交换的pss内存。  | 单位：KB  |
| HeapSize  | 堆内存大小。  | 单位：KB  |
| HeapAlloc  | 可分配的堆内存大小。  | 单位：KB  |
| HeapFree  | 剩余的堆内存大小。  | 单位：KB  |
| gpuPss  | 使用的gpu内存大小。  | 单位：KB  |
| graphicPss  | 使用的图形内存大小。  | 单位：KB  |
| arktsHeapPss  | 使用的arkts内存大小。  | 单位：KB  |
| nativeHeapPss  | 使用的native内存大小。  | 单位：KB  |
| stackPss  | 使用的栈内存大小。  | 单位：KB  |
| timeStamp  | 当前时间戳。  | 对应采集时间  |
| navPathName  | 页面导航信息。  | -  |
场景化采集
场景化采集是对应用页面滑动、切换场景下的性能测试，针对不同操作场景执行相对应的采集命令，获取应用性能数据，包括页面的滑动帧率，页面切换或滑动的卡顿率、响应时延、完成时延以及最大连续丢帧，对采集数据进行输出打印，以便用户分析并优化应用性能。场景化采集结果不写入data.csv，采集结果直接在命令框显示。
| 命令参数  | 必选  | 说明  |
| --- | --- | --- |
| -editor  | 是  | 场景化采集标识，后可添加参数配置项。  |
| timeDelay  | 否  | 页面切换（支持ArKUI子系统的router、navigation、tabs、swiper控件内的页面切换/内容切换）。  |
| slideList  | 否  | 页面滑动（支持ArKUI子系统的List、grid、scroll、waterflow等组件内的页面滑动）。  |
命令参数
必选
说明
-editor
是
场景化采集标识，后可添加参数配置项。
timeDelay
否
页面切换（支持ArKUI子系统的router、navigation、tabs、swiper控件内的页面切换/内容切换）。
slideList
否
页面滑动（支持ArKUI子系统的List、grid、scroll、waterflow等组件内的页面滑动）。
采集输出各参数含义说明：
使用示例
页面切换
时延计算受系统打点上报限制，开始时间为点击事件上报时间点，响应时延结束时间点为点击后系统响应首帧的上屏时间点，完成时延是切换后页面的首帧上屏时间点，与端到端用户感知时延存在差异。
页面切换卡顿率：目前只支持ArKUI子系统的router、navigation、tabs、swiper控件内的页面切换/内容切换。计算公式：页面滑动卡顿率=页面切换动效时间内每一帧的累计丢帧时间（ms）/ 动效时长（s）。
最大连续丢帧受系统打点上报限制，与端到端用户感知时延存在差异。
页面切换同时会抓取trace，文件路径：data/local/tmp/sp_trace_delay.ftrace，通过hdc file recv的方式导出查看trace。
页面滑动
时延计算受系统打点上报限制，开始时间为点击事件上报时间点，响应时延结束时间点为滑动后系统响应首帧的上屏时间点，与端到端用户感知时延存在差异。
页面滑动帧率：指的是在页面滑动时，屏幕能够刷新的频率。需要注意的是，该场景目前只支持滑动一次页面。
页面滑动卡顿率：目前只支持Web、ArKUI子系统的List、grid、scroll、waterflow滚动组件。计算公式：页面滑动卡顿率=页面滑动动效时间内每一帧的累计丢帧时间（ms）/ 动效时长（s）。
最大连续丢帧受系统打点上报限制，与端到端用户感知时延存在差异。
页面滑动同时会抓取trace，文件路径：data/local/tmp/sp_trace_fps.ftrace，通过hdc file recv的方式导出查看trace。
其他采集
当前设备电量采集结果可写入csv文件，其它命令需单独采集，采集结果不写入data.csv，仅在命令框显示。
| 命令参数  | 必选  | 说明  |
| --- | --- | --- |
| -screen  | 否  | 采集屏幕分辨率和刷新率。  |
| -deviceinfo  | 否  | 获取设备信息。  |
| -server  | 否  | 启停采集用来拉起daemon进程。  |
| -clear  | 否  | 清除所有SP_daemon进程。  |
| -ohtestfps  | 否  | validator用于获取fps，可设置采集次数（1秒采集一次）。  |
| -editorServer  | 否  | editor工具用来拉起daemon进程。  |
| -recordcapacity  | 否  | 获取当前设备电量。  |
| -profilerfps  | 否  | 采集当前界面fps。  |
命令参数
必选
说明
-screen
否
采集屏幕分辨率和刷新率。
-deviceinfo
否
获取设备信息。
-server
否
启停采集用来拉起daemon进程。
-clear
否
清除所有SP_daemon进程。
-ohtestfps
否
validator用于获取fps，可设置采集次数（1秒采集一次）。
-editorServer
否
editor工具用来拉起daemon进程。
-recordcapacity
否
获取当前设备电量。
-profilerfps
否
采集当前界面fps。
使用示例
-  获取屏幕分辨率
-  获取设备信息
-  启动一个进程来监听start和stop命令的socket消息。
-  清除SP_daemon进程ID
-  validator用于获取当前页面帧率
-  启动一个进程来监听editor工具的socket消息
-  获取电池电量 recordTime表示时间戳，recordPower表示当前时刻的电量。 该命令需单独采集，采集结果写入/data/local/tmp/powerLeftRecord.csv，可以使用hdc file recv导出到本地。具体请参考查看csv采集结果。
-  recordTime表示时间戳，recordPower表示当前时刻的电量。
-  该命令需单独采集，采集结果写入/data/local/tmp/powerLeftRecord.csv，可以使用hdc file recv导出到本地。具体请参考查看csv采集结果。
-  采集当前界面fps
-  fps分段采集
-  recordTime表示时间戳，recordPower表示当前时刻的电量。
-  该命令需单独采集，采集结果写入/data/local/tmp/powerLeftRecord.csv，可以使用hdc file recv导出到本地。具体请参考查看csv采集结果。

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/wukong-guidelines-V14
爬取时间: 2025-05-01 07:39:30
来源: Huawei Developer
功能介绍
wukong是系统自带的一种命令行工具，支持Ability的随机事件注入、控件注入、异常捕获、报告生成和对Ability数据遍历截图等特性。通过模拟用户行为，对系统或应用进行稳定性压力测试。wukong分为随机测试、专项测试和专注测试。
随机测试是指随机测试界面内容，支持的能力包括：shell启动、拉起整机应用、多种注入方式、设置随机种子、打印运行日志和生成报告。
专项测试主要提供对指定应用控件进行测试，支持的能力包括：shell启动、顺序遍历及截图、测试休眠睡醒、录制回放、打印运行日志和生成报告。
专注测试主要提供对指定控件的注入测试，支持的能力包括：shell启动、拉起整机应用、多种注入方式、设置随机种子、设置专注控件类型、设置注入控件次数、打印运行日志和生成报告。
实现原理
wukong部件架构图以及部件内子模块职责如下所述。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160409.96429637672384174974144465305850:50001231000000:2800:187B73C7674439251D1DAAAC80DF964B60EE988E887CC0056915EBA2504E82D9.png)
约束与限制
1.  wukong测试工具在API 9版本开始预置使用。
2.  PC被检测设备连接后，才可执行命令行，支持单个和多个设备。
3.  所有命令行执行前需要先进入shell模式。
功能特性及命令说明
| 命令  | 说明  |
| --- | --- |
| version  | 获取wukong版本信息。  |
| help  | 获取wukong帮助信息。  |
| appinfo  | 查询支持拉起应用bundleName和对应的mainAbility名。  |
| special  | wukong专项测试。  |
| exec  | wukong随机测试。  |
| focus  | wukong专注测试。  |
命令
说明
version
获取wukong版本信息。
help
获取wukong帮助信息。
appinfo
查询支持拉起应用bundleName和对应的mainAbility名。
special
wukong专项测试。
exec
wukong随机测试。
focus
wukong专注测试。
执行命令
-  进入shell模式
-  获取应用的bundle name和ability name
-  执行查看帮助命令
随机测试
命令参数
| 命令  | 功能  | 必选  | 说明  |
| --- | --- | --- | --- |
| -h,--help  | 获取当前测试的帮助信息。  | 否  | -  |
| -c,--count  | 设置执行次数，与测试总时间-T冲突。二者取其一。  | 否  | 单位次数，默认10次。  |
| -i,--interval  | 设置执行间隔。  | 否  | 单位ms，默认1500ms。  |
| -s,--seed  | 设置随机种子。  | 否  | 配置相同随机种子，会生成相同随机事件序列。  |
| -b,--bundle[bundlename,……,bundlename]  | 设置本次测试的允许应用名单，与-p冲突。  | 否  | 默认测试当前设备所有应用（应用名称用英文逗号隔开）。  |
| -p,--prohibit[bundlename,……,bundlename]  | 设置本次测试的禁止应用名单，与-b冲突。  | 否  | 默认不禁止任何应用（应用名称用英文逗号隔开）。  |
| -d,--page[page,……,page]  | 设置本次测试的禁止页面名单。  | 否  | 系统默认禁止pages/system页面（页面名称用逗号隔开）。  |
| -a,--appswitch  | 设置应用随机拉起测试比例。  | 否  | 默认10%。  |
| -t,--touch  | 设置屏幕随机触摸测试比例。  | 否  | 默认10%。  |
| -S,--swap  | 设置屏幕随机移动测试比例。  | 否  | 默认3%。  |
| -m,--mouse  | 设置屏幕随机鼠标测试比例。  | 否  | 默认1%。  |
| -k,--keyboard  | 设置屏幕随机键盘操作测试比例。  | 否  | 默认2%。  |
| -H,--hardkey  | 设置随机物理按键测试比例。  | 否  | 默认2%。  |
| -r,--rotate  | 设置随机屏幕旋转测试比例。  | 否  | 默认2%。  |
| -C, --component  | 设置随机控件测试比例。  | 否  | 默认70%。  |
| -I, --screenshot  | 控件测试截图。  | 否  | -  |
| -T,--time  | 设置测试总时间，与设置执行次数-c冲突。二者取其一。  | 否  | 单位分钟，默认10分钟。  |
| -e, --allow ability  | 设置允许测试的ability。  | 否  | -  |
| -E, --block ability  | 设置禁止测试的ability。  | 否  | -  |
| -Y, --blockCompId  | 设置不进行注入的CompId。  | 否  | -  |
| -y, --blockCompType  | 设置不进行注入的CompType。  | 否  | -  |
| -B, --checkBWScreen  | 设置启用黑白屏检测。  | 否  | -  |
| -U, -uri  | 设置应用拉起页面uri。  | 否  | -  |
| -x, -uriType  | 设置应用拉起页面uriType。  | 否  | -  |
命令
功能
必选
说明
-h,--help
获取当前测试的帮助信息。
否
-
-c,--count
设置执行次数，与测试总时间-T冲突。二者取其一。
否
单位次数，默认10次。
-i,--interval
设置执行间隔。
否
单位ms，默认1500ms。
-s,--seed
设置随机种子。
否
配置相同随机种子，会生成相同随机事件序列。
-b,--bundle[bundlename,……,bundlename]
设置本次测试的允许应用名单，与-p冲突。
否
默认测试当前设备所有应用（应用名称用英文逗号隔开）。
-p,--prohibit[bundlename,……,bundlename]
设置本次测试的禁止应用名单，与-b冲突。
否
默认不禁止任何应用（应用名称用英文逗号隔开）。
-d,--page[page,……,page]
设置本次测试的禁止页面名单。
否
系统默认禁止pages/system页面（页面名称用逗号隔开）。
-a,--appswitch
设置应用随机拉起测试比例。
否
默认10%。
-t,--touch
设置屏幕随机触摸测试比例。
否
默认10%。
-S,--swap
设置屏幕随机移动测试比例。
否
默认3%。
-m,--mouse
设置屏幕随机鼠标测试比例。
否
默认1%。
-k,--keyboard
设置屏幕随机键盘操作测试比例。
否
默认2%。
-H,--hardkey
设置随机物理按键测试比例。
否
默认2%。
-r,--rotate
设置随机屏幕旋转测试比例。
否
默认2%。
-C, --component
设置随机控件测试比例。
否
默认70%。
-I, --screenshot
控件测试截图。
否
-
-T,--time
设置测试总时间，与设置执行次数-c冲突。二者取其一。
否
单位分钟，默认10分钟。
-e, --allow ability
设置允许测试的ability。
否
-
-E, --block ability
设置禁止测试的ability。
否
-
-Y, --blockCompId
设置不进行注入的CompId。
否
-
-y, --blockCompType
设置不进行注入的CompType。
否
-
-B, --checkBWScreen
设置启用黑白屏检测。
否
-
-U, -uri
设置应用拉起页面uri。
否
-
-x, -uriType
设置应用拉起页面uriType。
否
-
使用示例
-  设置100次事件注入 命令中各参数含义： 命令 参数值 说明 wukong exec - 主命令。 -s 10 参数设置随机种子，10为种子值。 -i 1000 参数设置应用拉起间隔为1000ms。 -a 0.28 参数设置应用随机拉起测试比例28%。 -t 0.72 参数设置屏幕随机touch测试比例为72%。 -c 100 参数设置执行次数为100次。
-  指定页面压测
-  设置允许测试和禁止测试的ability 若配置-e、-E则须配置-b来指定应用。
| 命令  | 参数值  | 说明  |
| --- | --- | --- |
| wukong exec  | -  | 主命令。  |
| -s  | 10  | 参数设置随机种子，10为种子值。  |
| -i  | 1000  | 参数设置应用拉起间隔为1000ms。  |
| -a  | 0.28  | 参数设置应用随机拉起测试比例28%。  |
| -t  | 0.72  | 参数设置屏幕随机touch测试比例为72%。  |
| -c  | 100  | 参数设置执行次数为100次。  |
专项测试
命令参数
| 命令  | 功能  | 必选  | 说明  |
| --- | --- | --- | --- |
| -h, --help  | 获取当前专项测试的帮助信息。  | 否  | -  |
| -k, --spec_insomnia  | 休眠唤醒专项测试。  | 否  | -  |
| -c, --count  | 设置执行次数。  | 否  | 单位次数，默认10次。  |
| -i, --interval  | 设置执行间隔。  | 否  | 单位ms，默认1500ms。  |
| -S, --swap  | 滑动测试。  | 否  | -  |
| -s, --start[x,y]  | 设置滑动测试起点坐标。  | 否  | 坐标均为正值。  |
| -e, --end[x,y]  | 设置滑动测试终点坐标。  | 否  | 坐标均为正值。  |
| -b, --bilateral  | 设置往返滑动。  | 否  | 默认不往返滑动。  |
| -t, --touch[x,y]  | 点击测试。  | 否  | -  |
| -T, --time  | 设置测试总时间。  | 否  | 单位分钟，默认10分钟。  |
| -C, --component  | 控件顺序遍历测试。  | 否  | 需要设置测试应用名称。  |
| -r, --record  | 录制。  | 否  | 需要指定录制文件。  |
| -R, --replay  | 回放。  | 否  | 需要指定回放文件。  |
| -p, --screenshot  | 控件测试截图。  | 否  | -  |
命令
功能
必选
说明
-h, --help
获取当前专项测试的帮助信息。
否
-
-k, --spec_insomnia
休眠唤醒专项测试。
否
-
-c, --count
设置执行次数。
否
单位次数，默认10次。
-i, --interval
设置执行间隔。
否
单位ms，默认1500ms。
-S, --swap
滑动测试。
否
-
-s, --start[x,y]
设置滑动测试起点坐标。
否
坐标均为正值。
-e, --end[x,y]
设置滑动测试终点坐标。
否
坐标均为正值。
-b, --bilateral
设置往返滑动。
否
默认不往返滑动。
-t, --touch[x,y]
点击测试。
否
-
-T, --time
设置测试总时间。
否
单位分钟，默认10分钟。
-C, --component
控件顺序遍历测试。
否
需要设置测试应用名称。
-r, --record
录制。
否
需要指定录制文件。
-R, --replay
回放。
否
需要指定回放文件。
-p, --screenshot
控件测试截图。
否
-
测试命令
专注测试
命令参数
| 命令  | 功能  | 必选  | 说明  |
| --- | --- | --- | --- |
| -n,--numberfocus  | 设置每个控件注入的次数。  | 否  | 单位次数。  |
| -f, --focustypes  | 设置需要专注的控件类型。  | 否  | 以英文逗号隔开。  |
| -h,--help  | 获取当前测试的帮助信息。  | 否  |    |
| -c,--count  | 设置执行次数，与设置执行时间-T冲突。二者取其一。  | 否  | 单位次数，默认10次。  |
| -i,--interval  | 设置执行间隔。  | 否  | 单位ms，默认1500ms。  |
| -s,--seed  | 设置随机种子。  | 否  | 配置相同随机种子，会生成相同随机事件序列。  |
| -b,--bundle[bundlename,……,bundlename]  | 设置本次测试的允许应用名单，与-p冲突。  | 否  | 默认测试当前设备所有应用(应用名称用英文逗号隔开)。  |
| -p,--prohibit[bundlename,……,bundlename]  | 设置本次测试的禁止应用名单，与-b冲突。  | 否  | 默认不禁止任何应用(应用名称用英文逗号隔开)。  |
| -d,--page[page,……,page]  | 设置本次测试的禁止页面名单。  | 否  | 系统默认禁止pages/system页面(页面名称用逗号隔开)。  |
| -a,--appswitch  | 设置应用随机拉起测试比例。  | 否  | 默认10%。  |
| -t,--touch  | 设置屏幕随机触摸测试比例。  | 否  | 默认10%。  |
| -S,--swap  | 设置屏幕随机移动测试比例。  | 否  | 默认3%。  |
| -m,--mouse  | 设置屏幕随机鼠标测试比例。  | 否  | 默认1%。  |
| -k,--keyboard  | 设置屏幕随机键盘操作测试比例。  | 否  | 默认2%。  |
| -H,--hardkey  | 设置随机物理按键测试比例。  | 否  | 默认2%。  |
| -r,--rotate  | 设置随机屏幕旋转测试比例。  | 否  | 默认2%。  |
| -C, --component  | 设置随机控件测试比例。  | 否  | 默认70%。  |
| -I, --screenshot  | 控件测试截图。  | 否  | -  |
| -T,--time  | 设置测试总时间，与设置执行次数-c冲突。二者取其一。  | 否  | 单位分钟，默认10分钟。  |
| -e, --allow ability  | 设置允许测试的ability。  | 否  | -  |
| -E, --block ability  | 设置禁止测试的ability。  | 否  | -  |
| -Y, --blockCompId  | 设置不进行注入的CompId。  | 否  | -  |
| -y, --blockCompType  | 设置不进行注入的CompType。  | 否  | -  |
| -B, --checkBWScreen  | 设置启用黑白屏检测。  | 否  | -  |
命令
功能
必选
说明
-n,--numberfocus
设置每个控件注入的次数。
否
单位次数。
-f, --focustypes
设置需要专注的控件类型。
否
以英文逗号隔开。
-h,--help
获取当前测试的帮助信息。
否
-c,--count
设置执行次数，与设置执行时间-T冲突。二者取其一。
否
单位次数，默认10次。
-i,--interval
设置执行间隔。
否
单位ms，默认1500ms。
-s,--seed
设置随机种子。
否
配置相同随机种子，会生成相同随机事件序列。
-b,--bundle[bundlename,……,bundlename]
设置本次测试的允许应用名单，与-p冲突。
否
默认测试当前设备所有应用(应用名称用英文逗号隔开)。
-p,--prohibit[bundlename,……,bundlename]
设置本次测试的禁止应用名单，与-b冲突。
否
默认不禁止任何应用(应用名称用英文逗号隔开)。
-d,--page[page,……,page]
设置本次测试的禁止页面名单。
否
系统默认禁止pages/system页面(页面名称用逗号隔开)。
-a,--appswitch
设置应用随机拉起测试比例。
否
默认10%。
-t,--touch
设置屏幕随机触摸测试比例。
否
默认10%。
-S,--swap
设置屏幕随机移动测试比例。
否
默认3%。
-m,--mouse
设置屏幕随机鼠标测试比例。
否
默认1%。
-k,--keyboard
设置屏幕随机键盘操作测试比例。
否
默认2%。
-H,--hardkey
设置随机物理按键测试比例。
否
默认2%。
-r,--rotate
设置随机屏幕旋转测试比例。
否
默认2%。
-C, --component
设置随机控件测试比例。
否
默认70%。
-I, --screenshot
控件测试截图。
否
-
-T,--time
设置测试总时间，与设置执行次数-c冲突。二者取其一。
否
单位分钟，默认10分钟。
-e, --allow ability
设置允许测试的ability。
否
-
-E, --block ability
设置禁止测试的ability。
否
-
-Y, --blockCompId
设置不进行注入的CompId。
否
-
-y, --blockCompType
设置不进行注入的CompType。
否
-
-B, --checkBWScreen
设置启用黑白屏检测。
否
-
使用示例
命令中各参数含义：
| 命令  | 参数值  | 说明  |
| --- | --- | --- |
| wukong focus  | -  | 主命令。  |
| -s  | 10  | 参数设置随机种子，10为种子值。  |
| -i  | 1000  | 参数设置应用拉起间隔为1000ms。  |
| -a  | 0.28  | 参数设置应用随机拉起测试比例28%。  |
| -t  | 0.72  | 参数设置屏幕随机touch测试比例为72%。  |
| -c  | 100  | 参数设置执行次数为100次。  |
命令
参数值
说明
wukong focus
-
主命令。
-s
10
参数设置随机种子，10为种子值。
-i
1000
参数设置应用拉起间隔为1000ms。
-a
0.28
参数设置应用随机拉起测试比例28%。
-t
0.72
参数设置屏幕随机touch测试比例为72%。
-c
100
参数设置执行次数为100次。
查看测试结果
测试结果输出路径
执行完测试指令后，会自动生成测试结果，测试结果输出根路径如下：
测试报告文件目录
| 类型  | 描述  |
| --- | --- |
| exception/  | 存放本次测试产生的异常文件。  |
| screenshot/  | 存放测试遍历的截图。  |
| wukong_report.csv  | 测试报告统计汇总。  |
| wukong.log  | 测试操作历程。  |
类型
描述
exception/
存放本次测试产生的异常文件。
screenshot/
存放测试遍历的截图。
wukong_report.csv
测试报告统计汇总。
wukong.log
测试操作历程。
查看操作日志
wukong支持通过hdc命令将日志获取到本地，查看操作历程。
常见问题
failed to connect to AAMS
错误描述
failed to connect to AAMS
可能原因
AAMS被hypium或者dev testing的UIViewer占用了，AAMS同一时间只能被一个程序连接。
解决方案
结束占用AAMS的进程，或直接重启设备。
Errorcode:(4005)
错误描述
Errorcode:(4005)
可能原因
因屏幕显示区域大小变化，导致无障碍获取页面信息失败。
解决方案
该错误不影响测试流程，无需处理。
Errorcode:(4007)
错误描述
Errorcode:(4007)
可能原因
因屏幕显示区域大小变化，导致无障碍获取页面信息失败。
解决方案
该错误不影响测试流程，无需处理。

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/devecotesting-V14
爬取时间: 2025-05-01 07:40:04
来源: Huawei Developer
DevEco Testing是一款专项集成测试工具，提供了多项测试能力。DevEco Testing将测试能力以测试服务卡片的形式呈现给用户，无需复杂的配置，即可一键执行测试任务，同时提供了测试报告和分析，辅助开发者发现应用和产品问题，提升应用质量。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160409.70429521909043304884134399255930:50001231000000:2800:640EF3BAC9F87244A074167A7F1D9411B50DCBD99DF65F45CD596680AC238A7C.png)
环境要求
PC （Windows、Mac），安装DevEco Testing客户端。DevEco Testing工具下载地址
手机（HarmonyOS Next系统），开启USB调试（设置—系统—开发者选项），安装被测应用。
注：DevEco Testing仅支持USB连接本地设备调测，暂不支持模拟器。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160409.25782517214166599608617771187708:50001231000000:2800:5DDE604256D6CFC28475ED916C8803CFF6658613D6A68A9B22B97B16D88BBE30.png)
基础功能
1、进入DevEco Testing客户端，首页中的常用服务为用户近期使用过的测试服务，其展示顺序为用户最后使用时间（最多可展示6个测试服务）。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160410.90442292851585685239521422647008:50001231000000:2800:B2C596FCF73C504C2CFCDD311083DE12A1754D49A500D8D92201A41E462BB283.png)
2、点击服务详情可查看测试服务的详细信息，包含测试服务包文件大小、测试服务版本、更新时间、服务介绍、服务轮播图等。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160410.68801736087783264215409651147408:50001231000000:2800:3493AB31218DD29D72EEE86A97FF0C5E4598D0AB3DC02036F9E9CEC2DADD3A92.png)
3、除应用测试服务外，DevEco Testing提供了应用测试开发过程中需要的测试实用工具，如设备投屏工具、UIViewer等。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160410.01208202756556296544679432853036:50001231000000:2800:C70FEE3995B07AD4A29C95DD53CB8A32B4943C879BBD8DB8F2810597DE88D5A0.png)
设备投屏支持将设备界面实时投放到PC上，并支持在PC上对设备进行操作，如按键操作、查看设备/应用信息，文件管理、下发指令等常用操作。
注：需要在设备上开启【开发者模式】后，点击开始投屏，即可进入设备投屏状态。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160410.13626001482149971715389465630200:50001231000000:2800:8459582649C61CF7FCD629E32652B3DE143D692D2431B23C9E767CC0BF8E3A80.png)
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160410.01421565834549827391334008928639:50001231000000:2800:DDC48D81874B6D25476B9293B069624FF3E8EA177485B81591E54B18EE3C0DD3.png)
UIViewer可获取设备快照、控件树信息及控件节点属性，辅助自动化脚本开发。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160410.42294968222798329797989722231277:50001231000000:2800:63A4E6BB49E1D01581E7AA0931E1C5FF039F62DA2B8C43AF98A44B15BBDDF79F.png)
4、在设置-基础设置中，支持修改报告是否自动上传至组织空间，支持设置免密登录模式，及修改数据的保存路径。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160410.84220776612088306555627133583703:50001231000000:2800:9BCBF05773B3FDA166E5C401F1DE3C909A0434608C9BCD94A5A30AAC4E5586A9.png)
5、在设置-问题反馈中，支持用户提交在使用过程中遇到的问题，建议以“场景+问题+截图”的方式反馈，并打开上传日志开关（系统将上传客户端使用日志），辅助平台更快高效地分析及回复您的反馈。点击我的反馈，即可查看已反馈问题的当前进展。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160410.18678058105256495605534728114174:50001231000000:2800:D8796AAF46338ADDFF6762DA826CA7F1EE8BB2C2C0A414DDB14A45E2D5B3A64B.png)
6、在设置-关于中，支持查看当前DevEco Testing客户端版本号、隐私声明。点击检查更新，即可手动检查并更新获取最新版本。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160410.32754872784540804496685470044320:50001231000000:2800:7018371F1A54BC413872E1672543043ACF347D26B5DDF65B38C1FE7AA03F921F.png)
快速开始
1、进入DevEco Testing工具的任务创建页，包含任务创建区域设备、应用信息显示区。任务名称由系统根据时间生自动生成，支持用户自定义修改。测试设备栏中，系统会识别显示当前已连接的设备。界面右侧将显示已连接设备的详细信息，如应用信息、设备标识、设备名称、设备型号等。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160410.36158756917094207683284465507955:50001231000000:2800:F9A4D929F1C38E68B807E89E39EDB4863C31AB6A565B4C84DFCE15153F6123C6.png)
注：
Q1：HarmonyOS Next设备已连接，DevEco Testing为什么无法识别设备？
A1：请在cmd窗口中执行hdc list targets，确认设备正常连接。正常连接如下：
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160410.13358923907121398389667745327983:50001231000000:2800:4DFBA28355457FA88F90B2C952C3C380C31A11A4FB0AA5284527307C05D24FFE.png)
如返回为空，则表示USB连接没有建立，需排查PC机USB驱动、USB线缆连接、手机是否开启USB调试模式。
若hdc list targets能识别到设备，DevEco Testing未识别到设备，请将DevEco Testing安装路径中的hdc路径配置至PATH环境变量中，即可正常识别。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160410.36475960025597948324406943437305:50001231000000:2800:FCEA921B3D1E05FD657962914B20DD539E75B97081A8C52941BDD0AC1D3FA6E4.png)
2、选择应用时，支持选择测试设备上已安装的应用；或安装新的应用，即在测试设备上安装新的应用包。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160410.00653416262770385630847580323156:50001231000000:2800:229F595B13AD03694415672465C6196143820FB4836BD55BEC2EC344BF8302B1.png)
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160410.47945753483146980279442372554681:50001231000000:2800:F46195D92E46E49C7391880D4A46C173CEEA711E484E4D169D819034535351DB.png)
3、已选中的应用，将在界面右侧显示详细应用信息，如应用包名、应用版本、API版本、主Ability等信息。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160411.55531272399549328280925316548713:50001231000000:2800:FDC196DDE99CA99709D9468DCB37C55D25579C39BB957E9A0B71FA2788F2F407.png)
4、测试时长为任务总时长，默认时长为6小时，也可支持自定义时长。以稳定性专项中的应用探索测试为例，为保证测试结果有效性，建议测试时长不少于60分钟。用户可按需选择时长，完成配置后，即可一键创建测试任务进入任务执行页。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160411.35343550495287228220292033575759:50001231000000:2800:D4995B990D94F3FB343442815C328C9200B549E2698740EC6032ED810213536E.png)
5、不同的测试服务配置项不同，可进入测试指南页面，查看各服务详细的测试指南。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160411.63614737293404791424815358180914:50001231000000:2800:810A202BE70C2B152DED61579F10CC2141E8D0D637FD91DBFD5970B6122D0DFE.png)
测试执行
1、以购物类应用Demo为例，创建应用探索测试任务后，进入任务执行阶段。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160411.94567155297997743095273357289366:50001231000000:2800:87BB0F128C187577D7B7A196464A88BA4236DF4EA5D61489DF8ABA58F3D23EFA.png)
2、任务执行页过程中，支持实时查看任务进度、当前故障数及执行日志，可同步查看设备镜像、语义分析及执行日志，已遍历的页面通过节点关联，自动生成遍历路径地图。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160411.03555872641417574594256980749554:50001231000000:2800:80F3B802A09054634BEB1C4D06224B865FC0F2A9EA117F12E1AA741DF85295AE.png)
3、点击“查看详情”，可查看已识别故障列表，包含问题类型、所属模块、发现时间、故障概要及定位日志。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160411.29519082943420621367583383928188:50001231000000:2800:69178A53042D178ED15A859F37A48F67DE97D11244CBEA9568ABEE7DC88FDB94.png)
4、进入故障概要信息，即可查看故障错误栈信息；进入定位日志，可查看详细的问题日志，辅助开发者快速定位。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160411.78915980019628140923516367658786:50001231000000:2800:11ADD230EAD95A33241E37346A2740FB150F3E5EFEA804D6021C2849955A3285.png)
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160411.04647903737450005254678960180303:50001231000000:2800:AA8D5E2FB85552593476757EF99CC8A3DA2128626C6F84B412008446A061AA8C.png)
测试任务
1、用户在DevEco Testing工具导航栏 —【测试任务】中可查看当前正在执行和历史执行的测试任务。用户可通过顶部操作栏，按任务名/备注、服务类型、任务状态筛选测试任务。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160411.55761526306011830238074092764683:50001231000000:2800:867B90AE8BB51B810142D3ECE8A6B6B5B6ABFA68B50F72AE6A80D0A30F1151D0.png)
2、筛选测试服务时，支持单选、多选、全选测试服务类型。例：选中场景化性能测试，测试任务界面会过滤筛选出所有场景化性能测试的测试任务，时间按最新的一次执行时间排序。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160411.68741020141114905165404037882483:50001231000000:2800:8D79905B1060AFF6B2670C5DF490CA6BF8D15FDE3CDA7AD404A779834B828E45.png)
3、测试任务分为5种状态（执行、完成、失败、停止、取消），用户可以通过下拉选择任务状态筛选过滤界面上所展示的测试任务。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160411.36590271457022946114338445870901:50001231000000:2800:6E3B0072BFF3BA7AE4750DCB9A8A0EE958C87AFF6006E8146BF00CCDDF6C745D.png)
测试任务状态描述如下：
执行：测试任务执行中
完成：测试任务执行完成
失败：测试任务执行失败（通常为任务初始化发生异常）
停止：测试任务过程被手动中止
取消：测试任务未执行取消（通常出现在客户端异常退出时）
4、对于无效测试报告，用户可以定期清理相关报告。点击删除报告，选择需要删除的报告，系统将删除本页面内的测试报告。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160411.83339462909266841605817420177077:50001231000000:2800:E06EBA90F1EFCBD0F8DF53B62B85901FD9525D9B95AD4AAF954E55FEB51C0E38.png)
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160412.61868114720241811781267314998314:50001231000000:2800:25B04FA9812EE1E776588F1EDDDFBF7EA651E142F784024EE29D58504D7297C8.png)
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160412.87603092705188937127463658431099:50001231000000:2800:A579386955E97D829E1EEB76286CC3E37F4475C9F68BAC8B3A7B2D9BD46974FB.png)
测试报告
1、DevEco Testing执行测试任务结束后会生成测试报告，测试报告整体分为两个部分，上半部分为测试报告概览（报告头），下半部分为测试报告详情。测试报告概览包含应用信息、设备信息、参数配置、执行日志，可点击查询相关信息。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160412.31927714371168517547326892958411:50001231000000:2800:811A067C3AEA95DA2A9121A63FCA1D013559BB7F6C5BE891727AFAA7968F1204.png)
2、不同的测试服务报告详情不同，以下图的应用探索测试报告为例，测试报告详情由测试概览、遍历统计、遍历路径地图、问题列表组成。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160412.73467885256262491904134538850251:50001231000000:2800:5E653D76F8E9C499A6E7DCEC68274A993E40F4C8CF717B88ACF233A61435350B.png)
3、除了基础数据统计外，测试报告提供了更详细的遍历统计内容，如遍历Ability数，已遍历页面数等，可点击相关数据查看详情。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160412.50533464360480047821206190291612:50001231000000:2800:EF7BCC4D8B0AE578387D4729638EEE4BCB57E978CF026C46EE28C43FC9F21780.png)
4、测试报告支持手动备注，方便测试人员标记任务，并提供报告导出功能，可导出html格式的报告文件，为团队内报告共享提供了便捷。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160412.42853897415171647609865689188587:50001231000000:2800:1A13B21D00CA3EEFD3A2E3D188975462BFB4A16971DAA23B62C5688769A29CFC.png)

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/stability-testing-V14
爬取时间: 2025-05-01 07:40:38
来源: Huawei Developer
DevEco Testing稳定性测试为HarmonyOS NEXT应用开发者提供面向应用的智能遍历测试手段，及稳定性测试模型管理能力。用户可根据个人需要管理需要的模型，帮助开发者识别影响应用、系统稳定性的多类常见异常问题，助力开发者提升应用稳定性质量。
应用探索测试
应用探索测试：针对应用稳定性测试，DevEco Testing提供基于专家经验的智能遍历手段，借助智能AI实现场景智能感知及控件语义分析，驱动测试高效执行。支持自定义测试模型，构建应用特征图谱，结合应用模型持续训练，推动遍历执行持续优化，帮助用户识别应用故障问题及定位问题。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160412.68216663425810424094866903434276:50001231000000:2800:C9910A25A74CFD56AD00E5C937C914EEB4C000FB2B3946604638C58274FDF12D.jpg)
创建任务
进入DevEco Testing客户端，在左侧菜单栏选择“稳定性测试”，点击“应用探索测试”服务卡片，即进入任务创建界面。按需配置任务参数，点击创建任务即开始测试。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160412.80055010949621270514156611424256:50001231000000:2800:B22A30BF1BEC903BABDBE84478D77346BA441D4A9F8827608F3A014F4AE1E795.png)
测试时长：任务总时长，建议时长不低于1小时，时长过低的测试结果不具代表性 。
模型选择：初次创建任务时，无模型，无需选择；后续创建任务，将自动生成 遍历 模型 ，可选择已有模型 ，辅助提升遍历效率。
归档包名：每次任务结束后，将基于本次测试过程生成遍历测试模型，将自动存储至本地数据路径下的testGraph\exploreTest文件夹中，可供后续应用探索测试及UX基础质量测试高级配置场景下使用。
* 可前往DevEco Testing客户端-设置-基本设置中修改数据路径。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160412.75341963933966543753841793580128:50001231000000:2800:57209E0E8A585CCFF5C3FA251B06BB9E34FB2FDF58DA329BE379726064BA6463.png)
高级配置
截屏间隔：操作后等待页面加载的时长，如果设置2s，则会在执行操作2s后获取页面截图再进行 AI语义分析。 若应用为 web应用可能存在页面网络加载时延，或者应用的页面渲染时间需要较久，建议根据页面时延设置待测应用的截屏间隔。
预处理：预处理流程会授予待测应用定位、通知、网络等权限，并自动跳过引导页、登录华为账号。如果前述操作已实施，建议勾选否，测试进程将加速。
获取arklayout：arkLayout文件可用于UX基础质量测试，如果需要请勾选是。可供后续UX基础质量测试高级配置场景下使用，支持对已获取 arkLayout文件的应用页面进行测试arkLayout文件被包含在本次测试模型中，可在归档包名路径下查看 。
测试执行
任务创建后即进入测试执行页面，测试过程中，在测试页面可以看到测试进度、遍历路径地图、设备镜像、及语义分析过程。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160412.01632681324787781529155693681021:50001231000000:2800:B0AF5D93AFB5038696003174878F39B5D59D303A8C87C4EE7C6D5D68B4B7DF84.png)
AI语义分析：智能AI将结合用户操作习惯，为界面控件归类排序，测试过程将参照顺序执行 。 测试执行中支持用户暂停或启动语义分析， 语义分析暂停时任务会继续执行，直至任务时间结束。
控件色块颜色：
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160413.28730962692180675433009271177465:50001231000000:2800:61F4DE6D611B6925DD774213AC4B0578F6EB0E5BE265CAB255086EDB196389E2.png)
测试过程中，会优先覆盖核心功能区域，如底部菜单栏、顶部频道栏、应用功能集入口等，在较短的时间内探索出应用的主要功能页面；完成核心功能区域覆盖后执行常见的测试操作，如扫码、关注、点赞、收藏等，保障应用关键事件覆盖完全；最后补充遍历非核心功能页面 和控件，补全应用图谱。
测试报告
任务结束后，应用探索测试报告如下：
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160413.13503032144437090837355242131386:50001231000000:2800:3963E76D7F9C2B3806528C1C6D40127F1517367A5A1C469D806E9E357FDBE184.png)
测试报告支持查看任务信息、报告概览、遍历地图及问题列表。问题列表将分类展示测试过程中出现的问题信息，支持查看问题对应故障的概要信息及定位日志。
*更多故障日志分析，请前往DevEco Testing客户端-应用稳定性测试-应用探索测试-任务创建页-测试指南中查询。
*更多应用稳定性体验优化建议及问题定位，请查阅：应用稳定性体验建议及CppCrash故障定位指导
常见问题：
Q1：测试过程中，为什么测试页面截图会出现为页面切换状态？
A1：在遍历操作过程中，对页面的滑动操作与截图操作并不是完全同步的，测试截图时，存在小概率会截取页面正在切换的过程，该场景为正常情况，不影响应用探索测试整体功能。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160413.65704705972193723751012490407349:50001231000000:2800:A1C46F6E74BE9E189FB101774BF8AD78CCA91A47C8B86290F806FB5FCF9F9519.png)
Q2：测试过程中，控件语义识别中的“XXX的项”、“XXX的列”应如何理解？
A2：当前应用页面元素被分解为菜单、频道、列表等元素，当AI模型识别到相似的元素，会自动归一为测试等价类，对于同一个列表里的多个元素，则都会被视为同一类项。
Q3：设备断连后重连设备，投屏页面为什么不刷新？
A3：设备断连后重连设备，投屏或会停留在断连前的页面，不跟随设备页面切换而更新。该问题不影响本次测试继续执行，将在后续版本中修复。
Q4：遍历路径地图中，为什么会出现截图相同的节点？
A4：当前节点的判断根据页面layout确定，系统会根据各个页面的layout生成唯一节点。部分节点看起来截图相同，实际上它们的layout信息不同。
Q5：语义分析的过程中，为什么会对空白区域（看不到有按钮或文字）进行红框标记？
A5：系统会根据当前页面的layout信息对控件进行标记，控件分为可见控件及不可见控件，空白区域内或存在不可见的控件，为测试正常执行过程。
Q6：查看应用探索测试报告时，报告加载卡顿的原因是什么？
A6：由于探索测试执行时间比较长，会产生大量的报告数据，当报告节点过多时，或出现报告资源加载卡顿，可关闭客户端重启尝试恢复。
Q7：应用中嵌入了 Web窗口，能进行应用探索测试吗？
A7：当前已支持Web类应用测试。当前页面遍历层级限制为8层，若测试场景页面层级大于8，将无法进一步遍历。
Q8：应用为什么无法进行应用探索测试？
A8：若发现应用界面控件无法点击，请使用DevEco Testing 实用工具-UIViewer打开该应用界面，逐层点击该页面控件树排查：
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160413.00691610871647325267658992457741:50001231000000:2800:A3532FE9C80E983F46E40A83CA621B0A6FF372F0DE788A8AFF67B5A25F74D273.png)
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160413.69421752858917644315378976912934:50001231000000:2800:9EF7A1D2238BE1E6DF896D4539129C6ECACD7DBA0F5DFB24D562EBB44C371A76.png)

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/perf-testing-V14
爬取时间: 2025-05-01 07:41:12
来源: Huawei Developer
DevEco Testing性能功耗测试服务模拟真实业务场景，实时检测性能功耗数据，帮您找到应用的性能瓶颈。
| 测试服务  | 简介  |
| --- | --- |
| 场景化性能测试  | 根据应用性能建议，支持通过编写脚本来自定义操作场景对应用性能进行评估  |
| 性能指标监控测试  | 在特定场景下（支持用户定制），应用的帧率、内存、CPU等性能指标及评估  |
测试服务
简介
场景化性能测试
根据应用性能建议，支持通过编写脚本来自定义操作场景对应用性能进行评估
性能指标监控测试
在特定场景下（支持用户定制），应用的帧率、内存、CPU等性能指标及评估
场景化性能测试
场景化性能测试服务，是依据应用性能测试标准，提供的一套含自动化脚本执行和性能指标分析的应用性能测试解决方案。包含：
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160413.38600728781756751272349512435760:50001231000000:2800:FC992F5937A68046413424416A041B619D52D6722D8B87CEFDF71AED4D1F5163.png)
本服务提供的性能指标检测能力如下：
| 指标类型  | 指标项  |
| --- | --- |
| 时延类  | 应用启动响应时延  |
| 点击响应时延  |
| 滑动响应时延  |
| 应用启动完成时延（含冷启、热启）  |
| 应用启动加载时延（含冷启、热启）  |
| 页面切换完成时延  |
| 帧率类（注意：仅60HZ下表现）  | 动效卡顿、动效最大丢帧数  |
| 非动效卡顿、非动效最大丢帧数  |
| 卡顿率（ms/s）  |
| 内容显示异常类  | 应用启动白屏时延  |
| 滑动占位符加载时长  |
| 滑动占位符完整率  |
指标类型
指标项
时延类
应用启动响应时延
点击响应时延
滑动响应时延
应用启动完成时延（含冷启、热启）
应用启动加载时延（含冷启、热启）
页面切换完成时延
帧率类（注意：仅60HZ下表现）
动效卡顿、动效最大丢帧数
非动效卡顿、非动效最大丢帧数
卡顿率（ms/s）
内容显示异常类
应用启动白屏时延
滑动占位符加载时长
滑动占位符完整率
环境搭建
1.系统要求
Windows
Mac
2.安装Python及Hypium
性能测试框架基于Python环境，依赖Hypium环境搭建，Python推荐3.10版本，其他版本可能出现兼容性问题。相关环境搭建与基本AW使用，请参考指导：https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/hypium-python-guidelines-V5
3.安装hypium_perf
Ⅰ. 进入DevEco Testing客户端-场景化性能测试，选择自定义场景测试，点击获取安装包。随后会跳转至华为开发者联盟官网。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160413.70115535450741620802950333128503:50001231000000:2800:85F983AC9F2B31D02D5E3FD0DF7526F73D56146EAD8D6F65BA6A147D2799016D.png)
Ⅱ.请下载DevEco Testing Hypium 最新版本安装包。
以下图片版本仅供示例，具体最新版本号请参照实际情况。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160413.78335448029314523752036287247174:50001231000000:2800:1981FCABDD965F5FBB531ACB047030206A54E4783E1E3C1B0B07909C5300CEDC.png)
Ⅲ.下载解压完成后，由于存在依赖关系，请先安装hypium、xdevice等库，再安装hypium_perf、perf_analyzer等库。
您需要将hypium及xdevice系列库与hypium_perf系列库安装到同一个python环境，且python版本为3.10。
一键安装：从安装包所在目录打开终端窗口，Windows环境下运行 install.bat 脚本，或Mac环境下运行install.sh脚本，跟随提示确认安装。
Ⅳ.安装完成后，将提示所有包安装成功，环境安装成功。
以下版本仅供示例，具体版本号请参照实际下载版本。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160413.05689188543195112623906678877136:50001231000000:2800:B8E76077E62407903DA2F7287E2C10531217D6D2931AAFB520027DB4B4A914A8.png)
如脚本执行失败，可使尝试手动安装。确保用python3.10版本，在终端窗口输入 python -m pip install --upgrade pip 更新pip后，进入对应的路径，手动安装依赖包。
以下版本仅供示例，具体版本号请参照实际下载版本。
安装完成后，可前往查看PyCharm-设置-项目-Python解释器中的软件包与已安装版本是否一致。
脚本写作&调试
1.下载脚本模板
Ⅰ.进入DevEco Testing 场景化性能测试，选择自定义场景测试，点击创建工程模板。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160414.73982935320739403885315076093362:50001231000000:2800:0B55E409971BC98CE604503553621A76123FCCEDB8A165FA363BE1C71B4623BA.png)
Ⅱ.填写工程项目名称，选择工程存放路径，点击开始生成。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160414.67263566991443525947636728412136:50001231000000:2800:2B2483603758F1F713B89F820B25137E549D099832DB2DE327C367410D4A76B3.png)
Ⅲ.在指定的文件夹路径下，将自动生成用例模板。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160414.85651743114482399127049642298252:50001231000000:2800:37A3855605BB14764DAAB480AA8B0902F1C45F5530905C5C3D31322E4E1B19B0.png)
Ⅳ.脚本模板工程解读：
*已下载的脚本工程模板，可在PyCharm中可直接调试验证，调试验证成功后，即可在DevEco Testing上运行脚本做性能测试。详情可查看 本地脚本调试及测试执行章节。
也可基于已下载的工程模板，参考后续章节，根据应用实际测试场景，进行脚本写作及调试。
2.场景用例和原子用例使用说明
（1）测试步骤
我们把用户一次操作定义为一个测试步骤。
（2）原子用例
多个测试步骤组合，完成一套操作，我们称为原子用例，存放于models目录，对应脚本中一个model(模型)，有独立的原子用例编号。
原子用例可以被重用，是最小的用例单元。
（3）场景用例
我们把用户完成一件事情定义为一个场景。比如：用户在小红书浏览后去淘宝搜索购物。
一个场景对应一条场景用例，场景用例编号与用例文件名一致，存放在testcase目录下，场景用例是测试执行的入口，一个场景用例可以由多个原子用例组成，比如上述场景：用户在小红书浏览后去淘宝搜索购物，可由两个原子用例组成：1）用户浏览小红书 2）用户在淘宝搜索并购物。这两个原子用例独立且可被重用。假设有另一个场景用例：用户在小红书浏览后去京东购物，那么用户浏览小红书这个原子用例即可被重用。
工程执行的入口、结果的反馈，都是以一个个场景用例为单位。
3.场景用例写作指导
Testcase编写规范：
Testcase对应的是测试场景中的一系列相关的原子用例操作序列，在脚本编写时对应一个testcase。
（1）命名规范：
一个testcase是一个独立的python文件，testcase文件命名为可区分的场景编号名称，例：OH_PerfDemoTest.py。
（2）继承规范：
testcase必须继承PerfBaseCase类，PerfBaseCase会负责用例开始时的初始化流程，进行一些设备环境检查操作。
（3）注释规范：
将场景用例的场景描述放置在用例最上方，方便审视测试场景所包含的原子用例执行步骤对应关系。
场景用例模板：
OH_PerfDemoTest.json 配置文件模板
{... ,"py_file" : ["OH_PerfDemoTest.py"]}，此处文件路径是testcases的相对路径。
4.原子用例写作指导
Model编写规范：
Model对应的是原子用例操作中的一组操作序列，在脚本编写时对应一个model。
（1）命名规范：
一个model是一个独立的python文件，model文件命名为有一定业务含义的名称，例如：设置界面浏览-> setting_interface_browsing.py。
（2）继承规范：
model必须继承基类ModelBase，ModelBase会负责与采集器的交互，并且处理model模型中如果执行出错出现的异常场景。
（3）注释规范：
将原子用例操作步骤放置在用例最上方，方便审视模型步骤和用例执行步骤对应关系。
原子用例模板：
性能测试框架api可查询：自定义性能脚本测试（基于python）
5.本地脚本调试
Ⅰ. main.py实现
方法一：在main.py中修改cmd命令，将参数替换为本地调试的场景用例名称。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160414.71921161616211751724255343110636:50001231000000:2800:215581398CADDA4635C7137B6C94B8D600B4433AC16697D18D247490CDD65AA3.png)
main.py示例：
方法二：在main.py同级目录下，新建一个json文件，命名为action_testsuite.json，并在main.py中修改cmd命令。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160414.45296702603499722424384138571613:50001231000000:2800:76A2D9D2953BC7B2C64E3B54C216D63F320D9C28203DA9215EC0715F398329F0.png)
action_testsuite.json 示例：
Ⅱ. 本地多用例执行方式
一个测试任务执行多个场景用例，而不必每个场景用例单独执行，任务会按照顺序依次执行指定的场景用例。
方法一：在main.py 的cmd命令中指定多个case，用';'分割
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160414.44775034359589048333647136434112:50001231000000:2800:5BE7E1DD37D7A6B7173BB28D3DAF61E69CE39BD07945F1D2AF8B8C67EDAA47AD.png)
方法二：在json文件配置，并在main.py的cmd命令参数中指定json文件
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160414.30470432331301287328940182327405:50001231000000:2800:F02448C57332A5E9AD73EBFBDBBAE68375C671C60487E3DF5F8E8632A5054016.png)
示例： action_testsuite.json
测试执行
当环境安装成功，且脚本本地调试验证成功后，即可在DevEco Testing上运行脚本做性能测试。测试执行步骤如下：
步骤1：打开DevEco Testing客户端，在“应用性能功耗测试”菜单中，点击“场景化性能测试”服务卡片。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160414.57787768110540479263062946413243:50001231000000:2800:4AD746E7B66ED4C694F521919DE2E92C380B3BC371821311C2007537B0469966.png)
步骤2：选择测试设备，选中“自定义场景测试”测试类型，选择本地已调试好的场景用例路径。
执行轮数：支持设置1-10轮，每个用例将连续重复执行指定次数，报告将展示每轮数据及多轮均值。
保留全部视频拆帧图像：默认关闭，仅展示异常数据的拆帧图像；开启后，所有数据的拆帧图像均会展示。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160414.60222877323098114974743481302450:50001231000000:2800:139BF4FD5C009941407B5C396542117E6C8F5F430281D43443C82FBAF5CBDCF4.png)
步骤3：点击“创建任务”，自动跳转至任务执行页面，请耐心等待用例执行和分析；任务完成后，会自动生成报告页面
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160414.21190535312876801196693630568762:50001231000000:2800:67C3C0017CB1819D9853A612102EB3432354D31BC279D6DAAFA654D5121D5626.png)
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160414.27943238206096134300422190508849:50001231000000:2800:EA381050944CABB468EC5E3DC79A290F8664282BFEACCD865CD91461B0201412.png)
查看报告
测试完成后，自动生成测试报告。报告包含任务信息、整体评估、用例详情、指标监控数据、资源文件（trace及视频）。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160414.87173663666044208966308529212429:50001231000000:2800:961C961128E208392456EC9DF81AC2B06B73B40C233F9C23FC56346E35411FFA.png)
整体评估多个用例执行结果汇总。用例详情展示具体步骤级指标数据，每个步骤都可以下载对应的视频和trace。未达标数据为红色，达标数据为黑色。点击指标数据，即可查看数据详情窗口。点击列表中的资源文件，可获取视频及trace，辅助问题定位分析。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160414.23175044809615414188465588980094:50001231000000:2800:0FE7B9531D7DB052C6D0AAD95BAA5F6737D8661520092A33D28E1ABD9089A339.png)
*更多场景化性能测试报告解读及常见问题，请前往DevEco Testing客户端-应用性能功耗测试-场景化性能测试-任务创建页-测试指南中查询。
*更多应用性能优化建议及问题定位，请查阅：应用性能体验建议及最佳实践-性能
性能指标监控测试
性能指标监控测试：为用户提供了针对指定业务场景性能测试能力，支持选择设备某个应用进行测试，显示手动操作应用过程的性能数据，最终输出测试过程中帧率、内存、 CPU、GPU 等性能数据。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160414.82384434989912293384034662073908:50001231000000:2800:67C3C9E171274D3E80BA5A2B39C787D98229BB018B376FDA4695F2CCD90AE040.png)
任务创建
安装DevEco Testing后，左边菜单栏选择“应用性能功耗测试”，选择“性能指标监控测试”，点击服务卡片右下角箭头，即进入任务创建界面。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160415.95172332138138616051627370449852:50001231000000:2800:7583BFE9AF9C3FA2E18A38E4D5B069513B8CA1C3EA78FC397B9995641BA977F3.png)
测试执行
任务创建后即进入测试执行页面，待测试环境初始化完成，待测应用被启动，任务将自动跳转至监控页面，并启动监控。
最长监控时长 60 分钟。点击右上角的开始图标，出现“开始采集”提示，此时数据开始被采集。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160415.77420677120893904333858924590418:50001231000000:2800:0FFF63F816708ACE6E6B961AE1874F639177C978F9385FEB4009866DCE6DA89A.png)
点击添加场景图标，可按照测试需要添加测试场景，支持添加多个测试场景。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160415.26013132752717104564811130102988:50001231000000:2800:3C85C31AC456F23D10E6E13D5335E8B8267DAF50C099B9E41A47EC642A7A36FF.png)
在测试过程中，可随时点击“采集 trace”按钮，采集此后 30 秒的 trace 信息，单次任务只保留最近 10 个 trace 文件。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160415.47011648756880691512973565709515:50001231000000:2800:9F6E3FFCBF49BA413CB48F3C2A1C6E9A4AAF107E567C90CD6E62569AB9B27EE3.png)
测试完成后，点击结束采集，测试任务完成数据采集。点击查看报告即可查阅测试数据。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160415.62439401075154545142529920356700:50001231000000:2800:027DA3E46989D0A0CCAC936CEF1F748F1DC213F0DA5CBD04B03E0682A825574E.png)
查看报告
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160415.07647360593755562853308502809501:50001231000000:2800:3CD6FCCA801AFC3554FAA755B35234C85586E37432AA45EB38B6EF8A766F0387.png)
数据介绍：
FPS：1 秒内应用界面真实平均刷新次数，俗称帧率/FPS。
帧间隔：两帧画面刷新时间的间隔。帧间隔应保持稳定，并与应用帧率负相关。当帧间隔过大时， 设备会出现卡顿现象。
CPU 频率：各个 CPU 核心的实时频率。
内存占用：应用内存是被监控的应用的 PSS 值。
GPU 频率：GPU 核心的实时频率
GPU 负载：GPU 的当前负载
温度：设备的壳温，前壳温，后壳温，soc温度。
*更多应用性能优化建议及问题定位，请查阅：应用性能体验建议及最佳实践-性能

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/regression-testing-V14
爬取时间: 2025-05-01 07:41:46
来源: Huawei Developer
DevEco Testing为HarmonyOS NEXT应用开发者提供了预置的回归测试服务。用户可针对应用的核心功能自定义自动化测试场景，通过将核心功能用例转化为测试服务包，借助回归测试服务进行自动化测试，并生成测试报告，完成对应用的持续看护。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160415.82841905119869083820329227942103:50001231000000:2800:F12DC726F9A175557BE977F3E43250F8BC9352C0AF4B3C63D3649B0ABAC07D59.png)
回归测试
回归测试：针对待测试应用的指定场景，支持通过构建自定义测试包，无需搭建环境即可执行测试用例。用例执行过程中提供实时投屏、步骤截图、步骤结果和测试用例执行日志展示，辅助开发者快速定位问题；此外，测试报告支持指标上报，辅助开发者了解应用的执行性能，助力开发者更高效地打造出高质量应用。
创建任务
进入DevEco Testing客户端，在左侧菜单栏选择“回归测试”，点击“回归测试”服务卡片，即进入任务创建界面。按需配置任务参数，点击创建任务即开始测试。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160415.53157761024145008269318159897032:50001231000000:2800:5CF4ADC6986149A2DE39413C709E0A70C942CC97AE19AD0414D4430E085393ED.jpg)
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160415.03100837604585593346083059077407:50001231000000:2800:DD4B73C0B4A264E91A4F0F4652114D84910101A1192BAD90BDF6D2DEBE26DBEA.jpg)
测试执行
任务创建后即进入测试执行页面，测试过程中，可以看到设备实时投屏、设备截图、测试步骤结果上报以及指标数据上报。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160416.39377049943882864291282554302099:50001231000000:2800:185DBF5B933AF8A70996E6418DA64FFD5720388FFB87CB5D1B57E7BF1606D2B5.jpg)
查看报告
测试完成后，自动生成测试报告。报告包含任务信息、测试结论、应用信息、指标监控数据、测试步骤及执行日志。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160416.53121763989888609636397305329190:50001231000000:2800:F5A1D6EED1DF4BD38F35ED3D6101699B5E4B1CB93FBA8F5C2E10468953E4DC7D.jpg)
测试包构建
回归测试的测试对象为应用的核心功能，用户可将应用核心功能的测试用例构建成多个可执行测试包，每个测试包中仅包含单个测试用例，便于观察到核心功能的每个小功能点的质量。
测试执行前需先构建测试包，用户利用python的setuptools工具在工程根目录下构建setup-regression.py、MANIFEST.in文件，setup-regression.py文件中声明用例，MANIFEST.in文件中声明脚本执行过程中需要用到的aw包、config文件夹下的配置文件及其他的资源文件。为方便用户构建测试包，DevEco Testing Hypium（PyCharm插件版）已发布，用户可利用插件快速生成可执行测试包。具体操作步骤如下：
步骤一：PyCharm中本地安装DevEco Testing Hypium插件。安装请参考2.2 应用UI测试（基于python）
步骤二：新建Hypium工程，在工程根目录下创建setup-regression.py文件和MANIFEST.in文件。一个完整的回归测试工程结构如下所示：
步骤三：按业务场景，自定义测试用例文件。示例如下：
在用例脚本中，请导入并使用hypium.advance.deveco_testing.step 中的 Step函数标记步骤 (from hypium.advance.deveco_testing.step import Step)，否则回归测试过程中无法正确读取到测试步骤，并导致指标监控为空。
支持上报自定义指标。目前不支持自定义指标更新操作，若多次上报同一个指标，仅展示最后一次的指标上报结果。
步骤四：用户本地环境需预先安装setuptools模块，参考python的setuptools用法编写setup-regression.py，示例如下：
回归测试生成的可执行测试包中仅支持单用例（即单个json文件和json中指定的用例文件），编写setup-regression.py时需注意写法，否则会打包失败。
步骤五：通过MANIFEST.in文件指定需要一起打包的文件，示例如下：
一定要确保用例所需要的aw和配置文件及其他资源全部都写到MANIFEST.in中，否则用例包无法正常执行。MANIFEST.in文件中不要有注释代码，否则会打包失败。
步骤六：在根目录下右键选择“DevEco Testing Hypium”-“生成测试包”，出现下图弹窗，选择“回归测试”，用户填写待测试应用的名称及测试场景，信息填写完毕后点击“OK”即可在指定目录下查看测试包。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160416.49065954450801780149242264676590:50001231000000:2800:8DC0F5ABAE610D19D32D2F2A5578A7988655012370FBC9ACAD6F0F053A41B485.png)
生成回归测试测试zip包，可参考回归测试-创建任务在本地执行测试任务。测试脚本编写详细指南 请参考2.2 应用UI测试（基于python）
常见问题
Q1：设备断连后重连设备，投屏页面为什么不刷新？
A1：设备断连后重连设备，投屏或会停留在断连前的页面，不跟随设备页面切换而更新。该问题不影响本次测试继续执行，将在后续版本中修复。
Q2：测试过程中没有显示用例包步骤且指标监控中无数据？
A2：在用例脚本中，请导入并使用hypium.advance.deveco_testing.step 中的Step函数标记步骤 (from hypium.advance.deveco_testing.step import Step)，否则回归测试过程中无法正确读取到测试步骤，并导致指标监控为空。

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/app-fundamental-quality-testing-V14
爬取时间: 2025-05-01 07:42:20
来源: Huawei Developer
DevEco Testing为HarmonyOS NEXT应用开发者提供应用基础质量测试服务。提供多维度的应用检测方法，快速评估应用基础质量。结合HarmonyOS NEXT应用专项测试质量建议，提供测试报告及优化建议，助您高效提升应用质量。（注意：当前工具暂不支持对应用安全和隐私相关进行检测）
当前被测设备系统版本需为HarmonyOS NEXT。
| 测试服务  | 简介  |
| --- | --- |
| 功能体验基础质量测试  | 对应用与OS兼容、应用与设备兼容、应用升级兼容、功能体验相关等进行评估  |
| 稳定性基础质量测试  | 检测应用长时间运行故障率（崩溃、冻屏等）、长时间运行内存资源异常情况  |
| 性能基础质量测试  | 对应用启动、应用内滑动及点击、应用资源占用等场景进行性能评估  |
| UX基础质量测试  | 验证应用在基础体验、系统特性适配、控件布局等方面是否合理  |
| 功耗基础质量测试  | 检测应用在后台运行时是否出现系统资源占用的异常情况  |
| 安全基础质量测试  | 扫描应用是否存在不合理的弹窗，霸屏以及保活设置  |
测试服务
简介
功能体验基础质量测试
对应用与OS兼容、应用与设备兼容、应用升级兼容、功能体验相关等进行评估
稳定性基础质量测试
检测应用长时间运行故障率（崩溃、冻屏等）、长时间运行内存资源异常情况
性能基础质量测试
对应用启动、应用内滑动及点击、应用资源占用等场景进行性能评估
UX基础质量测试
验证应用在基础体验、系统特性适配、控件布局等方面是否合理
功耗基础质量测试
检测应用在后台运行时是否出现系统资源占用的异常情况
安全基础质量测试
扫描应用是否存在不合理的弹窗，霸屏以及保活设置
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160416.68276716075838021631777483886263:50001231000000:2800:6577CC8B3D6BC80229DA350BF187716ED0182A089205EA7F3DDD274346AD2271.png)
性能基础质量测试
性能基础质量测试：性能基础质量测试服务通过模拟用户的操作行为，对应用进行长时间、高操作频率的页面遍历，收集遍历过程中的性能数据，提供全面、专业、可靠的测试报告，辅助开发者评估和优化应用的性能质量。
创建任务
进入DevEco Testing客户端，左侧菜单栏选择“应用基础质量测试”，选择“性能基础质量测试”，点击服务卡片，即进入任务创建界面。按需配置任务参数，点击创建任务即开始测试。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160416.60744325944640356087233951121732:50001231000000:2800:A02CEDB81B01362E911804A3D24876B556E40F7D2137D4BA1A1410C9EAFFC6A8.png)
在执行测试前，需检查以下状态，以保证任务的有效性：
1、手动对应用进行必要的预置操作，包括权限授予、用户协议确认、账号登录等等，以保障自动化遍历可顺利进行
2、确保手机性能状态正常，包括网络连接通畅、非高温、非低电量（推荐>80%），以及其他可能对性能表现产生影响的变量
3、不要设置各类锁屏密码，确保自动化能完成上滑解锁
4、应用图标在桌面可见，不要藏起来（自动化会翻页查找，但不会打开文件夹）进入服务卡片后，选择要测试的应用，点击创建任务即可开始，任务过程无需人工干预
测试执行
任务创建后即进入测试执行页面，测试过程中，在测试页面可以看到测试进度、用例列表、及执行日志。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160416.44975840963858237904101465332769:50001231000000:2800:0909125454A14813A8F13BA0E42614E0D85D968C963BB50BA97FB6C7213775D9.png)
测试过程中，在测试页面可以看到测试当前进度、用例列表、执行日志。测试执行时，设备会进行应用页面的跳转，请勿触碰正在执行测试过程中的设备。
应用支持情况
查看报告
测试完成后，自动生成测试报告。性能基础质量测试报告如下：
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160416.70433905808837852395027575480508:50001231000000:2800:9CF8E802887C8B114D699792A59EBD86E79318F5DE754F4B85A71B9B374D906C.png)
报告包含任务信息、总览、测试结论、指标项、测试步骤详情。指标项卡片包含三类状态：绿色为达标，红色为不达标，灰色为该指标项未检测。
*达标判定：85分位值超过推荐值小于10%以内算达标。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160416.45283120523379607982377685867653:50001231000000:2800:8740D1B25AD5278D11E243B472B298BE73879291338BEF7800DEDDF8412B079C.png)
可通过点击指标卡片的详细数据中的数字跳转到步骤详情，即可查看本次遍历过程中该场景的详细数据及截图。点击“查看”可获取到本次测试过程中的日志、trace等辅助分析文件，帮助开发者进一步分析优化异常场景性能表现。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160416.92946978027348730664700352328422:50001231000000:2800:6B863DC5FA6F7198359DC9509B2DE44B8D7C46E4647A148155E8B136D01F2488.png)
定位信息查看
Ⅰ. perfdata文件查看
点击定位信息列的查看，会跳转到对应的perfdata文件。可使用DevEco Studio 5.0.3.300及以上版本中的场景化调优工具DevEco Profiler打开及查看该文件。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160417.03929385448577567143155503286083:50001231000000:2800:88D478FEDEDF4936DC4BD762FD21EF6308ADD65A1657CED6A1DAD4C1D7302B1F.png)
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160417.87736023379455803497438271449355:50001231000000:2800:A2BDA5DB5A3E784483176FA19B32AD891B1B4334325FFB28775E3D673E79C1AD.png)
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160417.17066571599064792192542039910504:50001231000000:2800:6832D9A197F4A27C5A0308F31B55041CDDF1FD74AC95C7521901D1660766612E.png)
此外perfdata可使用压缩软件查看并打开，可解压出trace文件，trace文件可使用HiSmartPerf工具查看，下载地址：https://gitee.com/openharmony/developtools_smartperf_host
Ⅱ.hilog查看
点击导出报告，会打开报告导出目录（task/taskId/export），该目录往上返一层进入父目录，则到了任务数据根目录（task/taskId）
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160417.70739219747789571800591980003318:50001231000000:2800:F5D7537FE8A801A10496A82939B2EBE835B80C1F0CFAF2757B06AB45011C49F0.png)
*更多性能测试项详细hilog路径，请前往DevEco Testing客户端-应用基础质量测试-性能基础质量测试-任务创建页-测试指南中查询。
检测规则
*更多检测规则详情，请前往DevEco Testing客户端-应用基础质量测试-性能基础质量测试-任务创建页-测试指南中查询。
*更多应用性能优化建议及问题定位，请查阅：应用性能体验建议及最佳实践-性能
常见问题
Q1：报告中为什么会出现未执行检测？
A1：如遇到以下几种场景，将会出现未执行检测项。
场景1：在应用测试过程中，不满足测试用例执行条件，将不执行相关测试场景。例如，应用页面仅一屏，不支持滑动，则本次遍历中，滑动相关指标将无数据；某些指标检测动效场景，如果遍历中未遇到动效场景，则XX流畅相关指标将无数据。
场景2：由于通过查找桌面应用图标名查找应用，被测应用需放置在桌面上，请勿放在文件夹中，否则将出现批量未检测项。
场景3：使用webview类应用进行测试，将出现测试数据不准确及批量出现未执行检测项。
场景4：偶现应用解析异常，导致批量出现未检测项，该场景请重新执行任务即可恢复。
场景5：应用内操作测试目前主要支持arkui控件类应用（含ReactNative框架开发应用），WebView页面遍历系统版本需为HarmonyOS NEXT Beta1及以上版本。
场景6：不支持Flutter应用，以及其他三方自研的自定义控件识别。
Q2：执行过程中，设备断连重连后，任务能否继续执行？
A2：如果发生设备断连情况测试会终止，并生成测试报告，由于测试执行不充分，会导致生成的报告数据不完整，请保证设备在测试的过程中正常连接。
功能体验基础质量测试
功能体验基础质量测试：根据应用功能体验建议，检测应用在当前系统、设备及升级场景下运行是否存在兼容性问题。
创建任务
进入DevEco Testing客户端，在左侧菜单栏选择“功能体验基础质量测试”，点击“功能体验基础质量测试”服务卡片，即进入任务创建界面。按需配置任务参数，点击创建任务即开始测试。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160417.85808831286317793931203174926386:50001231000000:2800:96468F23169D8E0DA0E58B4F663FFA0A9D4828333AE5F82D757A607E3489689E.png)
测试执行
任务创建后即进入测试执行页面，测试过程中，在测试页面可以看到测试进度、检测规则、实时投屏及执行日志。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160417.83625393565379714338633065879307:50001231000000:2800:C5AFE9881F70C3475E2D2472E0ACA40A4F0CDB6724DB39535237DA1688BD1DFD.png)
查看报告
测试完成后，自动生成测试报告。任务结束后，自动生成测试报告。功能体验基础质量测试报告如下：
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160417.89989315960824558315802141311514:50001231000000:2800:4B9BF5C64965C75B683B7FD3B04B9624E1F4931FAF3218C9CF08EBDDC1E17057.png)
报告包含任务信息、执行结果、问题统计、检测规则。支持查看当前应用信息、任务执行时长，及详细的环境参数（配置信息及环境信息），支持导出 html 的报告文件。测试概览中，可查看执行结果、问题统计及检测规则。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160417.46165371544202354804487836142831:50001231000000:2800:6B1053C1F1E454297FFEAC0B4D6383580B08E1E26A131E3F66AAE7F3FCA7BD57.png)
对于检测不通过及检测异常的规则项，点击查看详情即可异常问题详情，包含检测项概览、测试截图、问题列表。对于异常问题，可根据测试截图、问题描述及发生时间，结合 hilog 日志，进一步定位分析。
检测规则
*更多检测规则详情，请前往DevEco Testing客户端-应用基础质量测试-功能体验基础质量测试-任务创建页-测试指南中查询。*更多应用功能体验优化建议及问题定位，请查阅：应用基础功能和兼容性体验建议
常见问题
Q1：测试报告中，为什么会出现测试项检测异常？
A1：可能是系统版本配套原因，请选手机系统为HarmonyOS NEXT版本进行测试。其他类型设备及系统测试报告中或出现检测异常。
设备断连会影响测试结果，可能出现检测异常及待检测项，请确保测试过程中设备正常连接。
Q2：测试报告中，为什么会批量出现待检测项？
A2：偶现由于测试任务内部异常导致任务终止，请查看【测试报告-执行日志】，若应用信息为空，请再次创建任务执行测试。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160417.42382239537913393287220750000556:50001231000000:2800:6D4C2B8E3384B598EEC555E448FD135E3F19BF52149BE2942DE57375AFA456EC.png)
该问题为应用信息暂未解析完创建任务导致，再次创建任务时，请等待右侧应用信息加载完成后再创建，即可解决该问题。
稳定性基础质量测试
稳定性基础质量测试：根据应用稳定性建议，检测应用运行过程中是否存在应用崩溃、资源过载、内存泄漏等异常情况。
创建任务
进入DevEco Testing客户端，在左侧菜单栏选择“稳定性基础质量测试”，点击“稳定性基础质量测试”服务卡片，即进入任务创建界面。按需配置任务参数，点击创建任务即开始测试。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160417.27383705701067126777777287183990:50001231000000:2800:CAE4ADDDC876CACBD38AD95C950F60F6B09FEF72950B80CEBFCD69262032824B.png)
测试执行
创建任务后，将会跳转到执行页，进入测试环境初始化阶段。测试过程中，在测试页面可以看到测试进度、实时投屏、检测规则及执行日志。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160417.93243777512305882247230529945772:50001231000000:2800:8337CBA35FAA6439CA48EDA7AA8B7CAA98CBD319DA554EBC158D72FFBDF4B56D.png)
查看报告
测试完成后，自动生成测试报告。稳定性基础质量测试报告如下：
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160417.87182400874589809788030719441867:50001231000000:2800:76CECE02E4C4CF113F4013E5BA0F9B06481FFCEF53A35E6B6E56422344932DB1.png)
报告包含任务信息、执行结果、问题统计、检测规则。支持查看当前应用信息、任务执行时长，及详细的环境参数（配置信息及环境信息），支持导出 html 的报告文件。测试概览中，可查看执行结果、问题统计及检测规则。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160418.24313425093817565678762334589965:50001231000000:2800:96F073BD0FBDD64F929C3E188AC68935618A90EF220CCF2604A89C2F580B017D.png)
对于检测不通过及检测异常的规则项，点击查看详情即可查看异常问题详情，包含检测项概览、测试截图、问题列表。对于异常问题，可根据测试截图、问题描述及发生时间，结合 hilog 日志，进一步定位分析。
检测规则
*更多检测规则详情，请前往DevEco Testing客户端-应用基础质量测试-稳定性基础质量测试-任务创建页-测试指南中查询。
*更多应用稳定性体验优化建议及问题定位，请查阅：应用稳定性体验建议及CppCrash故障定位指导
常见问题
Q1：测试报告中，为什么会出现测试项检测异常？
A1：可能是系统版本配套原因，请选手机系统为HarmonyOS NEXT版本进行测试。其他类型设备及系统测试报告中或出现检测异常。
设备断连会影响测试结果，可能出现检测异常及待检测项，请确保测试过程中设备正常连接。
Q2：测试报告中，为什么会批量出现待检测项？
A2：偶现由于测试任务内部异常导致任务终止，请查看【测试报告-执行日志】，若应用信息为空，请再次创建任务执行测试。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160418.27994619797233117083552756752303:50001231000000:2800:673B43B26F90629623F447DC217AA3410058E687A1A608D9B00D02AE6B3128B2.png)
该问题为应用信息暂未解析完创建任务导致，再次创建任务时，请等待右侧应用信息加载完成后再创建，即可解决该问题。
UX基础质量测试
UX基础质量测试：根据应用UX建议，验证应用在基础体验、系统特性适配、控件布局等方面是否合理。
创建任务
进入DevEco Testing客户端，在左侧菜单栏选择“稳定性基础质量测试”，点击“UX基础质量测试”服务卡片，即进入任务创建界面。按需配置任务参数，点击创建任务即开始测试。
模型选择：无或已有应用测试模型。应用测试模型生成可参考应用探索测试服务
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160418.96345895266950525512030017656329:50001231000000:2800:BB28A39BA800D0B5C68647BC3ED3555BD37BA66ECA9E98B73E013F7F6B9A843B.png)
如选择应用遍历模型进行UX测试时，遍历过程将参照已有遍历模型的页面节点进行遍历，可有效缩短UX遍历时间。遍历模型及节点可参考查看应用探索测试对应任务遍历地图：
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160418.15850462475423489541093396131902:50001231000000:2800:8D405B87F1BBA24B6E0DA79CC9232D4611BA13CCB7D3EFA6482A2D18A6598742.png)
测试执行
创建任务后，将会跳转到执行页，进入测试环境初始化阶段。测试过程中，将针对模型中的已有界面进行UX检测。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160418.84997241098601261458860066877985:50001231000000:2800:55176F9B3FB1C795AE4254E076E6438B9CA8AF68A6624818F769BBD4B8C64F2A.png)
在测试页面可以看到测试进度、实时投屏、检测结果统计、检测规则及执行日志，可实时查看不通过页面问题详情：
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160418.49215464029772224456617820528552:50001231000000:2800:58DEB064D6AADAB791383C3DC737E52BCD9CCFF1B03E9AB133DDCEAE2D1802F6.png)
查看报告
测试完成后，自动生成测试报告。UX基础质量测试报告如下：
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160418.17289275899724903399525592603763:50001231000000:2800:279AD688C73CA9876160F7A3BC6BBBB44BC1B6D4AF0F18582EB748B4D2DC18E3.png)
报告包含任务信息、执行结果、检测规则。支持查看当前应用信息、任务执行时长，及详细的环境参数（配置信息及环境信息），支持导出 html 的报告文件。测试概览中，可查看执行结果、结果统计及检测规则。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160418.87655225368885785206475080812402:50001231000000:2800:CE31EA2ABBC9296BBF3F08DB1D9992525E453C3644F5DF8EF92E931099527A37.png)
对于检测不通过及检测异常的规则项，点击查看详情即可查看异常问题详情，包含检测项概览、测试截图、问题列表。对于异常问题，可根据测试截图、问题描述，针对性优化异常问题。
检测规则
*更多检测规则详情，请前往DevEco Testing客户端-应用基础质量测试-UX基础质量测试-任务创建页-测试指南中查询。
*更多应用UX优化建议及问题定位，请查阅：应用UX体验建议
常见问题
Q1：测试报告中，为什么会出现不涉及检测项？
A1：布局合理美观相关检测项为折叠屏机型专属测试项，直板机测试过程中，不涉及此类检测项的测试。
设备断连会影响测试结果，可能出现检测异常及待检测项，请确保测试过程中设备正常连接。
Q2：测试报告中，所有检测项均异常，异常原因提示“the ux script reports an error”，该如何处理？
A2：若出现该场景，请前往DevEco Testing客户端-设置-问题反馈，或通过华为开发者联盟-在线提单，提交该场景信息（测试服务名称+异常任务信息+问题描述+问题截图），以便于研发团队进一步分析。
注意：客户端提交反馈需打开日志上传开关，华为开发者联盟提单请附上工具日志。
Windows日志路径：C:\Users\用户名\AppData\Local\DevEco Testing\common\modules\launcher\logs
Mac日志路径：/Users/用户名/Library/Application Support/DevEco Testing/common/modules/launcher/logs
Q3：实际情况与测试结果有偏差，该如何处理？
A3：部分检测项可能存在少量视觉检测误差，测试结果请忽略，后续将持续降低检测误差。如误差较大，请通过设置-问题反馈，提交问题说明与截图，便于DevEco Testing后续进一步优化。
Q4：测试报告中，为什么会批量出现待检测项？
A4：偶现由于测试任务内部异常导致任务终止，请查看【测试报告-执行日志】，若应用信息为空，请再次创建任务执行测试。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160418.06206421202847758336617649119763:50001231000000:2800:7DC3598BCB581D688AD5823C872E21CDB160FB8718ED1E313DCB1296C65E2C59.png)
该问题为应用信息暂未解析完创建任务导致，再次创建任务时，请等待右侧应用信息加载完成后再创建，即可解决该问题。
功耗基础质量测试
功耗基础质量测试：根据应用功耗建议，检测应用在后台运行时是否出现系统资源占用的异常情况。
创建任务
进入DevEco Testing客户端，在左侧菜单栏选择“功耗基础质量测试”，点击“功耗基础质量测试”服务卡片，即进入任务创建界面。按需配置任务参数，点击创建任务即开始测试。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160418.91647974791444694975056620795366:50001231000000:2800:FE57F09C7308E855AAAE19F96AA8D8BBFEF538337B0EE5F20FCC50B4D61C6154.png)
测试执行
创建任务后，将会跳转到执行页，进入测试环境初始化阶段。测试过程中，在测试页面可以看到测试进度、实时投屏、检测规则及执行日志。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160418.66395586109326428891797207234401:50001231000000:2800:1A3015E60302BB98072177EE64D50A567930FF9CD0F980F3B2C290A1E759C6E5.png)
查看报告
测试完成后，自动生成测试报告。功耗基础质量测试报告如下：
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160418.16055935240608081502988594344369:50001231000000:2800:CB215527DA009CB35D1FD35C7851F5B0CA056E5CB1637441D145DC9ABE5B2DED.png)
报告包含任务信息、执行结果、问题统计、检测规则。支持查看当前应用信息、任务执行时长，及详细的环境参数（配置信息及环境信息），支持导出 html 的报告文件。测试概览中，可查看执行结果、问题统计及检测规则。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160418.71153321087383065157469412255277:50001231000000:2800:51E41940739BCACA5C3CF44D02F557EFED124EA27F82748520FC5870B7EA6201.png)
对于检测不通过及检测异常的规则项，点击查看详情即可查看异常问题详情，包含检测项概览、测试截图、问题列表。对于异常问题，可根据测试截图、问题描述及发生时间，结合 hilog 日志，进一步定位分析。
检测规则
*更多检测规则详情，请前往DevEco Testing客户端-应用基础质量测试-功耗基础质量测试-任务创建页-测试指南中查询。
*更多应用功耗优化建议及问题定位，请查阅：应用功耗体验建议及最佳实践-功耗
常见问题
Q1：测试报告中，为什么会出现检测异常及不涉及检测项？
A1：可能是系统版本配套原因，请选手机系统为HarmonyOS NEXT版本进行测试。其他类型设备及系统测试报告中或出现检测异常。
设备断连会影响测试结果，可能出现检测异常及待检测项，请确保测试过程中设备正常连接。
Q2：测试报告中，为什么会批量出现待检测项？
A2：偶现由于测试任务内部异常导致任务终止，请查看【测试报告-执行日志】，若应用信息为空，请再次创建任务执行测试。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160419.22716710369849298414705162315857:50001231000000:2800:C2A85FFB6B84F7861B682DDD7432639F475736E2CB6B56D2142D7AD5886EFBE5.png)
该问题为应用信息暂未解析完创建任务导致，再次创建任务时，请等待右侧应用信息加载完成后再创建，即可解决该问题。
安全基础质量测试
安全基础质量测试：根据应用安全测试建议，评估应用基础安全，如组件安全、存储安全、配置安全、签名安全等，及是否存在不合理的弹窗，霸屏及保活设置。
创建任务
进入DevEco Testing客户端，在左侧菜单栏选择“应用基础质量测试”，选择“安全基础质量测试”，点击测试服务卡片，即进入任务创建界面。
配置任务参数：选择需要测试的应用包；是否卸载应用：选择卸载应用后，测试任务执行结束后，会将被测应用卸载。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160419.81669251527774649141123581519901:50001231000000:2800:64CAFC49F69492D8E7E429941F298361096C5BCC48E17EB94D35800D7F6F480C.png)
测试执行
创建任务后，将会跳转到执行页，进入测试环境初始化阶段。待测试环境初始化完成，待测应用被启动。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160419.99645882649253961484438092555988:50001231000000:2800:419162C3713D9D977749839FBE0496A5A14183213D8133BF97841F35113B7BF2.png)
查看报告
测试完成后，自动生成测试报告。报告包含任务信息、执行结果、问题统计、检测规则。任务信息中，可查看当前应用信息、任务执行时长，及详细的环境参数（配置信息及环境信息），支持导出 html 的报告文件。安全基础质量测试报告如下：
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160419.64620654766382451808351182082944:50001231000000:2800:CD1CCD757C1315F8C43CBE3995C79F7695EE4DFF5443F6DCD9655A0BE20FA04B.png)
测试概览中，包含执行结果、问题统计及检测规则，可直观查看本次任务中，测试项检测结果。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160419.13595427941523637381848717702629:50001231000000:2800:9F01BEB89EADDE5F43EAFBC4A4AC3B39DBED563043597DBA2D1CDB28AF766762.png)
检测异常及检测不通过的规则项，点击查看详情即可查看异常问题详情，包含检测项概览、问题描述及问题等级。
检测规则
*更多检测规则详情，请前往DevEco Testing客户端-应用基础质量测试-安全基础质量测试-任务创建页-测试指南中查询。
常见问题
Q1：测试报告中，为什么会出现测试项检测异常？
A1：请选用手机设备进行测试，且系统版本为 HarmonyOS NEXT 版本。其他类型设备及系统测试报告中或出现检测异常。设备断连会影响测试结果，可能出现检测异常及待检测项，请确保测试过程中设备正常连接。
Q2：测试报告中，为什么会批量出现待检测项？
A2：偶现由于测试任务内部异常导致任务终止，请查看【测试报告-执行日志】，若应用信息为空，请重新执行测试任务即可恢复。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160419.15368671851066192676311704890644:50001231000000:2800:84AA4F9BB8B8C7076950C720DD7040A139E84AD40C89E036695CC74663608BC4.png)

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/perf-monitor-testing-compare-tool-V14
爬取时间: 2025-05-01 07:42:54
来源: Huawei Developer
性能指标监控测试报告对比：针对性能指标监控测试，提供报告对比能力，支持选择2-5份测试报告进行数据对比，支持用户从FPS、CPU、GPU、内存占用、温度等多个维度进行对比分析。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160419.16449796856748103701837169618104:50001231000000:2800:594659070490B3344F92953DA759060E182E23685C21511F2FE463A0FC19326D.png)
进入性能指标监控测试报告对比
进入DevEco Testing客户端，左侧菜单栏选择“实用工具”，选择“性能指标监控测试报告对比”，点击服务卡片，即进入选择测试报告页面。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160419.16897571037309761210232983553818:50001231000000:2800:43CEC95205DFCA6118286BEC3DBD5FC387006EAC6E50C8D0D20B7079D98E5760.png)
选择测试报告
按需选择2-5份场景化性能测试报告，支持按任务名、按应用包名、及按任务状态筛选。点击对比分析，即可一键生成对比报告。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160419.08665553786182747618303983298836:50001231000000:2800:146BE659659D7C91F70132779CF0E4D24EB00D214949CE7B739AE4E2944090E9.png)
查看对比报告
进入报告对比页，即可查看当前对比报告。支持查看报告对比概览、FPS、CPU、GPU、内存占用、温度的详细对比数据。
![Image](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20250428160419.90409289856108857414197912810483:50001231000000:2800:DCC104030F7CEDB736D922FF792C7E22B1BDF53E169146E3937E078FFD8B665A.png)

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/experience-suggestions-overview-V14
爬取时间: 2025-05-01 07:43:26
来源: Huawei Developer
本文档介绍基础功能和兼容性、稳定性、功耗、性能、安全和UX这6大核心质量维度在开发阶段和测试阶段需要关注的体验建议。
| 名称  | 简介  |
| --- | --- |
| 应用基础功能和兼容性体验建议  | 应用与OS兼容、应用与设备兼容、应用升级兼容、功能体验相关等  |
| 应用稳定性体验建议  | 长时间运行故障率（崩溃、冻屏等）、长时间运行内存资源异常  |
| 应用性能体验建议  | 时延、帧率流畅体验和内存占用、CPU占用、线程数等资源占用约束  |
| 应用功耗体验建议  | 后台任务使用、后台硬件器件资源/软件系统资源占用管控，分布式资源占用等  |
| 应用安全隐私体验建议  | 基础安全、恶意软件、应用安全、隐私合规等  |
| 应用UX体验建议  | 设计规范、设计约束的符合性，UX精致体验要求等  |
名称
简介
应用基础功能和兼容性体验建议
应用与OS兼容、应用与设备兼容、应用升级兼容、功能体验相关等
应用稳定性体验建议
长时间运行故障率（崩溃、冻屏等）、长时间运行内存资源异常
应用性能体验建议
时延、帧率流畅体验和内存占用、CPU占用、线程数等资源占用约束
应用功耗体验建议
后台任务使用、后台硬件器件资源/软件系统资源占用管控，分布式资源占用等
应用安全隐私体验建议
基础安全、恶意软件、应用安全、隐私合规等
应用UX体验建议
设计规范、设计约束的符合性，UX精致体验要求等
上述体验建议适用于手机、折叠屏、平板、2in1等多种终端设备各类应用的质量衡量与判断。应用类型涉及：便捷生活、出行导航、购物比价、拍摄美化、社交通讯、实用工具、新闻阅读、学习办公、影音娱乐、游戏、商务办公、金融理财、美食等。
说明： 本指南的内容分为【规则】、【建议】两类：

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/experience-suggestions-compatibility-V14
爬取时间: 2025-05-01 07:43:59
来源: Huawei Developer

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/compatibility-overview-V14
爬取时间: 2025-05-01 07:44:33
来源: Huawei Developer
背景及目的
应用的基础功能和兼容性约束，一般是指某个软件能稳定地工作在若干个操作系统及操作系统版本之上，而不会出现意外退出等问题。对应用而言，是指其能够稳定工作在其安装的不同OS版本上、不同的设备形态上，且由于应用版本更新周期较为频繁，应用也需要保证在安装运行的OS版本不变的情况下，应用自身升级后可以稳定地工作。本章节声明了HarmonyOS NEXT应用、元服务和卡片的基础功能和兼容性约束，牵引应用的稳定性改进，构建稳定和体验良好的应用生态。
适用范围
本章节适用于应用、元服务和卡片的基础功能和兼容性设计、开发及检测。

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/system-features-functions-V14
爬取时间: 2025-05-01 07:45:06
来源: Huawei Developer

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/general-specifications-V14
爬取时间: 2025-05-01 07:45:38
来源: Huawei Developer
| 描述  | 应用/元服务包结构应符合规范。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 应用程序包基础知识  |
描述
应用/元服务包结构应符合规范。
类型
规则
适用设备
通用
说明
应用程序包基础知识
| 描述  | 应用/元服务所有HAP配置文件中bundleName、versionCode一致。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 应用程序包开发与使用-HAP  |
描述
应用/元服务所有HAP配置文件中bundleName、versionCode一致。
类型
规则
适用设备
通用
说明
应用程序包开发与使用-HAP
| 描述  | 应用/元服务需配置其支持运行的系统版本信息。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 应用配置文件（Stage模型）-app.json5配置文件  |
描述
应用/元服务需配置其支持运行的系统版本信息。
类型
规则
适用设备
通用
说明
应用配置文件（Stage模型）-app.json5配置文件
| 描述  | 应用/元服务bundleName不可缺省。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 应用配置文件（Stage模型）-app.json5配置文件  |
描述
应用/元服务bundleName不可缺省。
类型
规则
适用设备
通用
说明
应用配置文件（Stage模型）-app.json5配置文件
| 描述  | 应用/元服务versionCode不可缺省。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 应用配置文件（Stage模型）-app.json5配置文件  |
描述
应用/元服务versionCode不可缺省。
类型
规则
适用设备
通用
说明
应用配置文件（Stage模型）-app.json5配置文件
| 描述  | 应用在申请权限时，需要在项目的配置文件中，逐个声明需要的权限。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 声明权限  |
描述
应用在申请权限时，需要在项目的配置文件中，逐个声明需要的权限。
类型
规则
适用设备
通用
说明
声明权限
| 描述  | 应用/元服务需要明确支持设备类型。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 应用配置文件（Stage模型）-module.json5配置文件-deviceTypes标签  |
描述
应用/元服务需要明确支持设备类型。
类型
规则
适用设备
通用
说明
应用配置文件（Stage模型）-module.json5配置文件-deviceTypes标签
| 描述  | 应用/元服务需要有图标。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 应用配置文件（Stage模型）-app.json5配置文件  |
描述
应用/元服务需要有图标。
类型
规则
适用设备
通用
说明
应用配置文件（Stage模型）-app.json5配置文件
| 描述  | 应用/元服务需要支持64位so文件。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用/元服务需要支持64位so文件。
类型
规则
适用设备
通用
说明
无

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/app-specifications-V14
爬取时间: 2025-05-01 07:46:11
来源: Huawei Developer
| 描述  | 应用仅支持非免安装。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 应用配置文件（Stage模型）-module.json5配置文件  |
描述
应用仅支持非免安装。
类型
规则
适用设备
通用
说明
应用配置文件（Stage模型）-module.json5配置文件

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/atomic-specifications-V14
爬取时间: 2025-05-01 07:46:45
来源: Huawei Developer
| 描述  | 元服务内所有包总和大小不超过10MB。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 元服务程序包基础知识  |
描述
元服务内所有包总和大小不超过10MB。
类型
规则
适用设备
通用
说明
元服务程序包基础知识
| 描述  | 元服务单个包文件大小不超过2MB。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 元服务程序包基础知识  |
描述
元服务单个包文件大小不超过2MB。
类型
规则
适用设备
通用
说明
元服务程序包基础知识
| 描述  | 元服务只能使用元服务API。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 元服务API说明  |
描述
元服务只能使用元服务API。
类型
规则
适用设备
通用
说明
元服务API说明
| 描述  | 元服务仅支持免安装。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 应用配置文件（Stage模型）-module.json5配置文件  |
描述
元服务仅支持免安装。
类型
规则
适用设备
通用
说明
应用配置文件（Stage模型）-module.json5配置文件
| 描述  | 元服务预加载对应模块类型不能为entry。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 预加载  |
描述
元服务预加载对应模块类型不能为entry。
类型
规则
适用设备
通用
说明
预加载

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/widget-specifications-V14
爬取时间: 2025-05-01 07:47:18
来源: Huawei Developer
| 描述  | 卡片配置应符合规范。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 卡片的配置文件  |
描述
卡片配置应符合规范。
类型
规则
适用设备
通用
说明
卡片的配置文件
| 描述  | 卡片声明所支持尺寸规格应符合规范，参见supportDimensions字段取值范围(根据卡片能力迭代刷新）。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 卡片的配置文件  |
描述
卡片声明所支持尺寸规格应符合规范，参见supportDimensions字段取值范围(根据卡片能力迭代刷新）。
类型
规则
适用设备
通用
说明
卡片的配置文件
| 描述  | 卡片默认尺寸规格应符合规范，卡片的默认外观规格defaultDimension不可缺省，且取值必须在该卡片supportDimensions配置的列表中。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 卡片的配置文件  |
描述
卡片默认尺寸规格应符合规范，卡片的默认外观规格defaultDimension不可缺省，且取值必须在该卡片supportDimensions配置的列表中。
类型
规则
适用设备
通用
说明
卡片的配置文件
| 描述  | 卡片isdefault字段不可缺省。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 卡片的配置文件  |
描述
卡片isdefault字段不可缺省。
类型
规则
适用设备
通用
说明
卡片的配置文件
| 描述  | 卡片刷新方式应符合规范。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 卡片的配置文件  |
描述
卡片刷新方式应符合规范。
类型
规则
适用设备
通用
说明
卡片的配置文件
| 描述  | 静态卡片刷新不通过FormLink传递状态变量。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | FormLinkOptions类型说明  |
描述
静态卡片刷新不通过FormLink传递状态变量。
类型
建议
适用设备
通用
说明
FormLinkOptions类型说明
| 描述  | 卡片仅能使用“卡片能力”相关的组件和接口。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 卡片支持的页面能力  |
描述
卡片仅能使用“卡片能力”相关的组件和接口。
类型
规则
适用设备
通用
说明
卡片支持的页面能力
| 描述  | 卡片描述建议以索引展现。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
卡片描述建议以索引展现。
类型
建议
适用设备
通用
说明
无
| 描述  | 卡片的描述有意义。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
卡片的描述有意义。
类型
建议
适用设备
通用
说明
无
| 描述  | 动效场景不推荐使用静态卡片。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
动效场景不推荐使用静态卡片。
类型
建议
适用设备
通用
说明
无
| 描述  | 复杂业务逻辑场景不推荐使用静态卡片。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
复杂业务逻辑场景不推荐使用静态卡片。
类型
建议
适用设备
通用
说明
无
| 描述  | 频繁刷新UI场景不推荐静态卡片。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
频繁刷新UI场景不推荐静态卡片。
类型
建议
适用设备
通用
说明
无
| 描述  | 应用/元服务升级后所带卡片名称和尺寸不建议更改。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用/元服务升级后所带卡片名称和尺寸不建议更改。
类型
建议
适用设备
通用
说明
无

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/distributed-capability-specification-V14
爬取时间: 2025-05-01 07:47:52
来源: Huawei Developer
| 描述  | 应用接续功能和数据在两端的设备兼容，APP从设备A接续到设备B，接续功能正常，且接续内容完整，接续所显示的位置、状态一致。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 自由流转规格  |
描述
应用接续功能和数据在两端的设备兼容，APP从设备A接续到设备B，接续功能正常，且接续内容完整，接续所显示的位置、状态一致。
类型
规则
适用设备
通用
说明
自由流转规格
| 描述  | 元服务分享功能和数据在两端的设备兼容，元服务分享到对端设备后，需保障在支持范围内的OS和设备上接收方的元服务功能正常，不会出现异常崩溃、无响应等异常。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 基于华为分享的元服务分享  |
描述
元服务分享功能和数据在两端的设备兼容，元服务分享到对端设备后，需保障在支持范围内的OS和设备上接收方的元服务功能正常，不会出现异常崩溃、无响应等异常。
类型
规则
适用设备
通用
说明
基于华为分享的元服务分享
| 描述  | 服务互通-拍照功能在两端的设备兼容，用户在A设备APP可使用服务互通-拍照调用设备B的相机拍照，并将照片传回设备A中应用。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板、2in1  |
| 说明  | 服务互通-服务互通特性简介  |
描述
服务互通-拍照功能在两端的设备兼容，用户在A设备APP可使用服务互通-拍照调用设备B的相机拍照，并将照片传回设备A中应用。
类型
规则
适用设备
手机、折叠屏、平板、2in1
说明
服务互通-服务互通特性简介
| 描述  | 媒体播控功能在两端的设备兼容，在本端投播时播放、暂停、上一个、下一个投播正常；在远端投播时，播放、暂停、上一个、下一个投播正常。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 播控特性介绍  |
描述
媒体播控功能在两端的设备兼容，在本端投播时播放、暂停、上一个、下一个投播正常；在远端投播时，播放、暂停、上一个、下一个投播正常。
类型
规则
适用设备
通用
说明
播控特性介绍
| 描述  | 跨设备拖拽功能在两端的设备兼容，用户可以在两个设备间共享一套键盘鼠标，设备A可将素材拖拽到设备B快速创作。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 平板、2in1  |
| 说明  | 自由流转-跨设备拖拽  |
描述
跨设备拖拽功能在两端的设备兼容，用户可以在两个设备间共享一套键盘鼠标，设备A可将素材拖拽到设备B快速创作。
类型
规则
适用设备
平板、2in1
说明
自由流转-跨设备拖拽
| 描述  | 跨设备剪贴板功能在两端的设备兼容，用户可以在A设备复制内容后，在B设备完成拷贝，高效完成多设备间内容共享。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 自由流转-跨设备剪贴板  |
描述
跨设备剪贴板功能在两端的设备兼容，用户可以在A设备复制内容后，在B设备完成拷贝，高效完成多设备间内容共享。
类型
规则
适用设备
通用
说明
自由流转-跨设备剪贴板

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/audio-specification-V14
爬取时间: 2025-05-01 07:48:25
来源: Huawei Developer
音频流类型与通路配置
| 描述  | 应用使用AudioRenderer、OHAudio等音频接口播放音频流，需按实际业务场景及用途正确配置StreamUsage。比如：听歌场景使用STREAM_USAGE_MUSIC；看视频场景使用STREAM_USAGE_MOVIE等。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | 支持的音频流使用类型请参见StreamUsage  |
描述
应用使用AudioRenderer、OHAudio等音频接口播放音频流，需按实际业务场景及用途正确配置StreamUsage。比如：听歌场景使用STREAM_USAGE_MUSIC；看视频场景使用STREAM_USAGE_MOVIE等。
类型
建议
适用设备
通用
说明
支持的音频流使用类型请参见StreamUsage
| 描述  | 应用使用AudioCapturer、OHAudio等音频接口采集音频流，需按实际业务场景及用途正确配置SourceType。比如：语音识别场景使用SOURCE_TYPE_VOICE_RECOGNITION；VOIP通话场景使用SOURCE_TYPE_VOICE_COMMUNICATION等。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | 支持的音频源使用类型请参见SourceType  |
描述
应用使用AudioCapturer、OHAudio等音频接口采集音频流，需按实际业务场景及用途正确配置SourceType。比如：语音识别场景使用SOURCE_TYPE_VOICE_RECOGNITION；VOIP通话场景使用SOURCE_TYPE_VOICE_COMMUNICATION等。
类型
建议
适用设备
通用
说明
支持的音频源使用类型请参见SourceType
| 描述  | 为保证功耗与音频性能，建议仅在有时延需求的场景下（如K歌耳返、游戏音效等）才使用低时延接口。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | 设置音频流的时延模式  |
描述
为保证功耗与音频性能，建议仅在有时延需求的场景下（如K歌耳返、游戏音效等）才使用低时延接口。
类型
建议
适用设备
通用
说明
设置音频流的时延模式
并发、音量与设备管理
| 描述  | 应用播放/采集音频时，应用需监听音频打断事件。当音频打断事件发生时，系统会根据预设策略，对音频流做出相应的操作，并针对状态发生改变的音频流，向所属的应用发送音频打断事件。应用收到音频打断事件后，需根据其内容提示，做出相应的处理，避免出现应用状态与预期效果不一致的问题（如暂停/恢复）。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 监听音频打断事件  |
描述
应用播放/采集音频时，应用需监听音频打断事件。当音频打断事件发生时，系统会根据预设策略，对音频流做出相应的操作，并针对状态发生改变的音频流，向所属的应用发送音频打断事件。应用收到音频打断事件后，需根据其内容提示，做出相应的处理，避免出现应用状态与预期效果不一致的问题（如暂停/恢复）。
类型
规则
适用设备
通用
说明
监听音频打断事件
| 描述  | 应用在播放声音的情况下，应该监听发声设备变化，如果发声设备不可用导致发声设备切换到外放时，建议应用暂停播放。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | 响应音频流输出设备变更  |
描述
应用在播放声音的情况下，应该监听发声设备变化，如果发声设备不可用导致发声设备切换到外放时，建议应用暂停播放。
类型
建议
适用设备
通用
说明
响应音频流输出设备变更
音视频播控服务
| 描述  | 创建AVSession后，音视频应用应提供基础的媒体会话元数据和媒体会话播放状态，包含不限于音视频源的封面、标题、歌曲作者、副标题、时长、播放状态（暂停、播放）、播放位置等。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | 设置元数据  |
描述
创建AVSession后，音视频应用应提供基础的媒体会话元数据和媒体会话播放状态，包含不限于音视频源的封面、标题、歌曲作者、副标题、时长、播放状态（暂停、播放）、播放位置等。
类型
建议
适用设备
通用
说明
设置元数据
| 描述  | 音乐、视频、听书类应用需要通过AVSession监听耳机的按键事件，并做正确的响应，如暂停、恢复播放、下一首、上一首等。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 注册控制命令  |
描述
音乐、视频、听书类应用需要通过AVSession监听耳机的按键事件，并做正确的响应，如暂停、恢复播放、下一首、上一首等。
类型
规则
适用设备
通用
说明
注册控制命令

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/display-specification-V14
爬取时间: 2025-05-01 07:48:59
来源: Huawei Developer
图片色域管理
| 描述  | 应用/元服务，图片送显时建议做正确的色域转换和色域信息传递，保证系统能正确的处理颜色；  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | 图片色域信息，如P3，sRGB等见ColorSpace  |
描述
应用/元服务，图片送显时建议做正确的色域转换和色域信息传递，保证系统能正确的处理颜色；
类型
建议
适用设备
通用
说明
图片色域信息，如P3，sRGB等见ColorSpace
HDR视频显示
| 描述  | 应用/元服务，正确显示HDR效果或SDR效果；  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | HDR视频要正确转到SDR显示或传递正确的Metadata和色域信息；  |
描述
应用/元服务，正确显示HDR效果或SDR效果；
类型
建议
适用设备
通用
说明
HDR视频要正确转到SDR显示或传递正确的Metadata和色域信息；
HDR图片显示
| 描述  | 应用/元服务，正确显示HDR效果或SDR效果；  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | HDR图片要正确转到SDR显示或传递正确的Metadata和色域信息；  |
描述
应用/元服务，正确显示HDR效果或SDR效果；
类型
建议
适用设备
通用
说明
HDR图片要正确转到SDR显示或传递正确的Metadata和色域信息；
图像位宽设置
| 描述  | 应用/元服务，不建议使用RGB565格式送显；  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | RGB565精度低，通常会有色阶现象，不建议使用；推荐使用RGB888, 见PixelMapFormat  |
描述
应用/元服务，不建议使用RGB565格式送显；
类型
规则
适用设备
通用
说明
RGB565精度低，通常会有色阶现象，不建议使用；推荐使用RGB888, 见PixelMapFormat
清晰度管理
| 描述  | 应用/元服务，不建议配置NONE档位插值算法实现缩放  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | NONE插值对应Nearest算法，通常会引入锯齿现象，不建议使用；见ImageInterpolation  |
描述
应用/元服务，不建议配置NONE档位插值算法实现缩放
类型
建议
适用设备
通用
说明
NONE插值对应Nearest算法，通常会引入锯齿现象，不建议使用；见ImageInterpolation

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/protocol-specification-V14
爬取时间: 2025-05-01 07:49:32
来源: Huawei Developer
蜂窝通信体验
| 描述  | 联网应用遵循默认网络切换，比如WiFi切换到蜂窝网络，或者蜂窝切换到WiFi网络，或者蜂窝主卡切换到副卡网络，实现数据传输平滑迁移到默认网络上，避免网络切换后无法上网等问题;  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 网络连接能力  |
描述
联网应用遵循默认网络切换，比如WiFi切换到蜂窝网络，或者蜂窝切换到WiFi网络，或者蜂窝主卡切换到副卡网络，实现数据传输平滑迁移到默认网络上，避免网络切换后无法上网等问题;
类型
规则
适用设备
通用
说明
网络连接能力
| 描述  | 联网应用，插SIM卡，不链接WIFI，应用可正常上网；  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 数据传输能力  |
描述
联网应用，插SIM卡，不链接WIFI，应用可正常上网；
类型
规则
适用设备
通用
说明
数据传输能力
| 描述  | 联网应用数传策略分层，包括但不限定于缓存、调速、请求大小资源等，遵循通信感知API(网络状态和通信建议)来调整数传策略；  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | 网络质量评估、弱网感知判决  |
描述
联网应用数传策略分层，包括但不限定于缓存、调速、请求大小资源等，遵循通信感知API(网络状态和通信建议)来调整数传策略；
类型
建议
适用设备
通用
说明
网络质量评估、弱网感知判决
| 描述  | 联网应用应通过通信感知API真实反馈引发用户体验异常的网络传输质量，包括但不限于服务器错误、无数据、丢包、乱序、抖动、高时延等信息；  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | 应用传输体验反馈  |
描述
联网应用应通过通信感知API真实反馈引发用户体验异常的网络传输质量，包括但不限于服务器错误、无数据、丢包、乱序、抖动、高时延等信息；
类型
建议
适用设备
通用
说明
应用传输体验反馈
短距通信体验
| 描述  | Host-based Card Emulation（HCE，基于主机的卡模拟）应用需要调用hasHceCapability()接口判断是否支持HCE功能；HCE应用使用动态注册AID时，应用进入前台后，调用start(elementName: ElementName, aidList: string[])接口，注册为前台应用，应用退出前台后，调用stop(elementName: ElementName)接口取消注册前台应用；HCE应用使用静态注册AID时，应在应用的metadata中声明对应应用关注的AID；HCE应用需要申请NFC卡模拟权限（ohos.permission.NFC_CARD_EMULATION），应声明HCE特定的action（"ohos.nfc.cardemulation.action.HOST_APDU_SERVICE"）；  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | HCE卡模拟开发指南  |
描述
类型
建议
适用设备
通用
说明
HCE卡模拟开发指南
| 描述  | 应用应根据用户实际使用场景，严格按照API定义请求所需位置信息，具体而言： 新闻资讯、网购、点餐类等对定位精度要求不高的应用在使用getCurrentLocation接口时，参数SingleLocationRequest.locatingPriority应指定LocatingPriority.PRIORITY_LOCATING_SPEED； 非导航、运动、出行类APP调用定位接口时，参数ContinuousLocationRequest.locationScenario建议指定UserActivityScenario.DAILY_LIFE_SERVICE。 非导航、运动、出行类APP建议启动定位不超过10分钟，且不启动location类型的长时任务；  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | 获取设备的位置信息开发指导  |
描述
应用应根据用户实际使用场景，严格按照API定义请求所需位置信息，具体而言：
-  SingleLocationRequest.locatingPriority应指定LocatingPriority.PRIORITY_LOCATING_SPEED；
-  ContinuousLocationRequest.locationScenario建议指定UserActivityScenario.DAILY_LIFE_SERVICE。
类型
建议
适用设备
通用
说明
获取设备的位置信息开发指导
| 描述  | 添加围栏优先使用addGnssGeofence(fenceRequest: GnssGeofenceRequest): Promise<number>;接口，该接口限制了围栏触发后与用户的交互方式，只允许弹通知提醒；  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | 地理围栏开发指导  |
描述
添加围栏优先使用addGnssGeofence(fenceRequest: GnssGeofenceRequest): Promise<number>;接口，该接口限制了围栏触发后与用户的交互方式，只允许弹通知提醒；
类型
建议
适用设备
通用
说明
地理围栏开发指导
| 描述  | 建议应用按需获取Wi-Fi扫描结果，避免频繁获取扫描结果；建议应用监听Wi-Fi扫描结果上报事件来获取Wi-Fi扫描结果，使用Wi-Fi扫描结果应满足用户隐私保护要求；应用需要合理使用添加建议网络配置接口（addCandidateConfig）、发起网络连接接口（ connectToCandidateConfig）、删除网络配置接口（removeCandidateConfig），避免频繁的进行网络切换以及存储了大量网络配置信息，降低了Wi-Fi使用效率，建议网络配置使用完后及时删除；应用合理使用Wi-Fi连接状态和Wi-Fi网络状态查询，建议通过监听接口获取状态变化，避免频繁调用影响Wi-Fi业务体验；  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
类型
建议
适用设备
通用
说明
无
| 描述  | 联网类应用，在不插SIM卡的情况下，连接Wi-Fi后，应用可正常上网；  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
联网类应用，在不插SIM卡的情况下，连接Wi-Fi后，应用可正常上网；
类型
规则
适用设备
通用
说明
无
| 描述  | 非运动健康类的应用不建议调用startBluetoothDiscovery，stopBluetoothDiscovery， setBluetoothScanMode接口；  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
非运动健康类的应用不建议调用startBluetoothDiscovery，stopBluetoothDiscovery， setBluetoothScanMode接口；
类型
建议
适用设备
通用
说明
无
| 描述  | 应用不应该频繁连接和断开蓝牙设备，建议连接失败后重试间隔超过10s，失败重试次数<=3次；  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用不应该频繁连接和断开蓝牙设备，建议连接失败后重试间隔超过10s，失败重试次数<=3次；
类型
建议
适用设备
通用
说明
无
| 描述  | 应用合理使用BLE扫描参数，应遵循如下要求： 建议使用BLE扫描过滤器参数，避免扫描不相关设备；建议使用SCAN_MODE_LOW_POWER或SCAN_MODE_BALANCED参数，减少SCAN_MODE_LOW_LATENCY（高占空比类型）的BLE扫描，减少蓝牙资源使用冲突影响用户体验；  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | 广播与扫描开发指导  |
描述
应用合理使用BLE扫描参数，应遵循如下要求：
类型
建议
适用设备
通用
说明
广播与扫描开发指导

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/basic-compatibility-V14
爬取时间: 2025-05-01 07:50:06
来源: Huawei Developer

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/os-compatible-V14
爬取时间: 2025-05-01 07:50:40
来源: Huawei Developer
| 描述  | 应用/元服务安装无兼容性问题。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用/元服务安装无兼容性问题。
类型
规则
适用设备
通用
说明
无
| 描述  | 应用/元服务启动无兼容性问题。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用/元服务启动无兼容性问题。
类型
规则
适用设备
通用
说明
无
| 描述  | 应用/元服务运行无兼容性问题。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用/元服务运行无兼容性问题。
类型
规则
适用设备
通用
说明
无
| 描述  | 应用/元服务卸载无残留。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用/元服务卸载无残留。
类型
规则
适用设备
通用
说明
无

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/upgrade-compatible-V14
爬取时间: 2025-05-01 07:51:15
来源: Huawei Developer
| 描述  | 应用/元服务升级后类型不可变更。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用/元服务升级后类型不可变更。
类型
规则
适用设备
通用
说明
无
| 描述  | 应用/元服务升级后历史数据建议继承。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用/元服务升级后历史数据建议继承。
类型
建议
适用设备
通用
说明
无
| 描述  | 应用/元服务升级无兼容性问题。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用/元服务升级无兼容性问题。
类型
规则
适用设备
通用
说明
无
| 描述  | 应用/元服务升级后原有卡片无兼容性问题。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用/元服务升级后原有卡片无兼容性问题。
类型
规则
适用设备
通用
说明
无

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/device-compatible-V14
爬取时间: 2025-05-01 07:51:49
来源: Huawei Developer
| 描述  | 应用/元服务在设备多窗口模式下无功能异常和兼容性问题。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板、2in1  |
| 说明  | 智慧多窗的基本介绍  |
描述
应用/元服务在设备多窗口模式下无功能异常和兼容性问题。
类型
规则
适用设备
手机、折叠屏、平板、2in1
说明
智慧多窗的基本介绍
| 描述  | 应用/元服务在折叠屏状态切换时无功能异常和兼容性问题。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 折叠屏  |
| 说明  | 折叠屏设计  |
描述
应用/元服务在折叠屏状态切换时无功能异常和兼容性问题。
类型
规则
适用设备
折叠屏
说明
折叠屏设计
| 描述  | 应用/元服务在折叠屏横竖屏切换时无功能异常和兼容性问题。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 折叠屏  |
| 说明  | 折叠屏设计  |
描述
应用/元服务在折叠屏横竖屏切换时无功能异常和兼容性问题。
类型
规则
适用设备
折叠屏
说明
折叠屏设计
| 描述  | 应用/元服务在折叠屏悬停态切换时无功能异常和兼容性问题。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 折叠屏  |
| 说明  | 折叠屏设计-悬停态  |
描述
应用/元服务在折叠屏悬停态切换时无功能异常和兼容性问题。
类型
规则
适用设备
折叠屏
说明
折叠屏设计-悬停态
| 描述  | 应用/元服务中键盘快捷键操作应满足标准定义且不与系统定义冲突。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 人机交互-键盘  |
描述
应用/元服务中键盘快捷键操作应满足标准定义且不与系统定义冲突。
类型
规则
适用设备
通用
说明
人机交互-键盘
| 描述  | 应用/元服务中鼠标操作对应功能能正常响应。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 2in1  |
| 说明  | 人机交互-鼠标  |
描述
应用/元服务中鼠标操作对应功能能正常响应。
类型
规则
适用设备
2in1
说明
人机交互-鼠标
| 描述  | 应用/元服务中触控板操作对应功能能正常响应。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 2in1  |
| 说明  | 人机交互-触控板  |
描述
应用/元服务中触控板操作对应功能能正常响应。
类型
规则
适用设备
2in1
说明
人机交互-触控板
| 描述  | 应用/元服务中的走焦事件能够响应tab键或方向键切换。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 2in1  |
| 说明  | 人机交互-基于焦点的交互  |
描述
应用/元服务中的走焦事件能够响应tab键或方向键切换。
类型
规则
适用设备
2in1
说明
人机交互-基于焦点的交互
| 描述  | 应用/元服务在不同窗口布局变化下功能能正常响应。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 2in1  |
| 说明  | 2in1窗口布局  |
描述
应用/元服务在不同窗口布局变化下功能能正常响应。
类型
规则
适用设备
2in1
说明
2in1窗口布局
| 描述  | 应用/元服务支持跨屏场景时无功能异常和兼容性问题。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 2in1  |
| 说明  | 无  |
描述
应用/元服务支持跨屏场景时无功能异常和兼容性问题。
类型
规则
适用设备
2in1
说明
无
| 描述  | 应用/元服务支持手写笔功能使用场景无功能异常和兼容性问题。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 2in1  |
| 说明  | 人机交互-手写笔  |
描述
应用/元服务支持手写笔功能使用场景无功能异常和兼容性问题。
类型
规则
适用设备
2in1
说明
人机交互-手写笔

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/experience-suggestions-stability-V14
爬取时间: 2025-05-01 07:52:22
来源: Huawei Developer
背景及目的
应用稳定性，指应用在持续操作时间内出错的概率，例如一天时间内会出错1次或几次。应用软件的稳定性严重影响着应用的用户体验，为构筑良好用户体验，须建立一套应用稳定性质量管控体系。本章节规定了HarmonyOS NEXT应用的稳定性体验建议。
适用范围
本章节制定了应用和元服务的稳定性体验建议，适用于应用软件的设计、开发及测试。
应用崩溃
| 描述  | 应用或元服务运行稳定无闪退问题。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板、2in1  |
| 说明  | 无  |
描述
应用或元服务运行稳定无闪退问题。
类型
规则
适用设备
手机、折叠屏、平板、2in1
说明
无
应用卡死
| 描述  | 应用或元服务运行稳定无卡死问题。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板、2in1  |
| 说明  | 无  |
描述
应用或元服务运行稳定无卡死问题。
类型
规则
适用设备
手机、折叠屏、平板、2in1
说明
无
内存泄露
| 描述  | 应用或元服务运行无内存泄露异常。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板、2in1  |
| 说明  | 无  |
描述
应用或元服务运行无内存泄露异常。
类型
规则
适用设备
手机、折叠屏、平板、2in1
说明
无
Native层内存越界
| 描述  | 应用或元服务运行无踩内存异常。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 手机、折叠屏、平板、2in1  |
| 说明  | 无  |
描述
应用或元服务运行无踩内存异常。
类型
建议
适用设备
手机、折叠屏、平板、2in1
说明
无
资源过载
| 描述  | 应用或元服务运行无文件句柄资源过载异常。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板、2in1  |
| 说明  | 无  |
描述
应用或元服务运行无文件句柄资源过载异常。
类型
规则
适用设备
手机、折叠屏、平板、2in1
说明
无
资源过载
| 描述  | 应用或元服务运行无线程资源过载异常。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板、2in1  |
| 说明  | 无  |
描述
应用或元服务运行无线程资源过载异常。
类型
规则
适用设备
手机、折叠屏、平板、2in1
说明
无
分布式协同业务成功率
| 描述  | 分布式协同业务操作无故障。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 手机、折叠屏、平板、2in1  |
| 说明  | 无  |
描述
分布式协同业务操作无故障。
类型
建议
适用设备
手机、折叠屏、平板、2in1
说明
无
故障自恢复
| 描述  | 应用或元服务出现故障后可自恢复。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 手机、折叠屏、平板、2in1  |
| 说明  | 无  |
描述
应用或元服务出现故障后可自恢复。
类型
建议
适用设备
手机、折叠屏、平板、2in1
说明
无

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/performance-experience-suggestions-V14
爬取时间: 2025-05-01 07:52:55
来源: Huawei Developer

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/performance-overview-V14
爬取时间: 2025-05-01 07:53:28
来源: Huawei Developer
背景及目的
为了更好地优化HarmonyOS NEXT应用性能，打造安全可靠、值得信赖、健康的绿色应用生态环境体系，不断提升用户体验，寻找应用设计的改进点。
适用范围
本章节制定了应用和元服务的性能体验建议，适用于应用软件的设计、开发及测试。

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/performance-delay-V14
爬取时间: 2025-05-01 07:54:03
来源: Huawei Developer
应用或元服务启动响应快
| 描述  | 触屏：应用或元服务启动响应时延应<=85ms；键鼠：应用或元服务启动响应时延应<=100ms。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板、2in1  |
| 说明  | 无  |
描述
触屏：应用或元服务启动响应时延应<=85ms；键鼠：应用或元服务启动响应时延应<=100ms。
类型
规则
适用设备
手机、折叠屏、平板、2in1
说明
无
应用或元服务启动加载完成快
| 描述  | 应用或元服务启动加载完成时延应<=1100ms。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板、2in1  |
| 说明  | 无  |
描述
应用或元服务启动加载完成时延应<=1100ms。
类型
规则
适用设备
手机、折叠屏、平板、2in1
说明
无
应用或元服务冷启动过程动画/视频时延
| 描述  | 如果应用或元服务冷启动过程动画/视频时延大于3s，建议增加进度提示。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 手机、折叠屏、平板、2in1  |
| 说明  | 无  |
描述
如果应用或元服务冷启动过程动画/视频时延大于3s，建议增加进度提示。
类型
建议
适用设备
手机、折叠屏、平板、2in1
说明
无
应用或元服务应用内点击操作响应快
| 描述  | 应用或元服务内点击操作响应时延应<=100ms。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板、2in1  |
| 说明  | 无  |
描述
应用或元服务内点击操作响应时延应<=100ms。
类型
规则
适用设备
手机、折叠屏、平板、2in1
说明
无
应用或元服务应用内点击操作完成快
| 描述  | 应用或元服务应用内点击操作完成时延应<=900ms。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板、2in1  |
| 说明  | 无  |
描述
应用或元服务应用内点击操作完成时延应<=900ms。
类型
规则
适用设备
手机、折叠屏、平板、2in1
说明
无
应用或元服务内滑动操作响应快
| 描述  | 抛滑（速度大于300mm/s ）场景：触屏响应时延应<=80ms； 拖滑（速度小于100mm/s）场景： 触屏响应时延应<=60ms。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板、2in1  |
| 说明  | 无  |
描述
抛滑（速度大于300mm/s ）场景：触屏响应时延应<=80ms；
拖滑（速度小于100mm/s）场景： 触屏响应时延应<=60ms。
类型
规则
适用设备
手机、折叠屏、平板、2in1
说明
无
应用或元服务内折叠操作接续响应快
| 描述  | 应用或元服务内折叠操作响应时延应<=800ms。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 折叠屏  |
| 说明  | 无  |
描述
应用或元服务内折叠操作响应时延应<=800ms。
类型
规则
适用设备
折叠屏
说明
无
应用或元服务内展开操作接续响应快
| 描述  | 应用或元服务内展开操作响应时延应<=700ms。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 折叠屏  |
| 说明  | 无  |
描述
应用或元服务内展开操作响应时延应<=700ms。
类型
规则
适用设备
折叠屏
说明
无
在线长视频类应用播放起播快
| 描述  | 应用在线视频播放起播时延应≤800ms。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板、2in1  |
| 说明  | 无  |
描述
应用在线视频播放起播时延应≤800ms。
类型
规则
适用设备
手机、折叠屏、平板、2in1
说明
无
在线长视频类应用Seek操作播放快
| 描述  | 拖动进度条40%~60%位置后，应用在线视频播放起播时延应≤800ms。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板、2in1  |
| 说明  | 无  |
描述
拖动进度条40%~60%位置后，应用在线视频播放起播时延应≤800ms。
类型
规则
适用设备
手机、折叠屏、平板、2in1
说明
无
在线短视频类应用快速切换播放起播快
| 描述  | 应用内滑动视频，新视频起播时延应≤230ms。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板、2in1  |
| 说明  | 无  |
描述
应用内滑动视频，新视频起播时延应≤230ms。
类型
规则
适用设备
手机、折叠屏、平板、2in1
说明
无
在线短视频类应用Seek操作播放快
| 描述  | 拖动进度条40%~60%位置后，应用在线短视频起播时延应≤100ms。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板、2in1  |
| 说明  | 无  |
描述
拖动进度条40%~60%位置后，应用在线短视频起播时延应≤100ms。
类型
规则
适用设备
手机、折叠屏、平板、2in1
说明
无

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/performance-frame-rate-V14
爬取时间: 2025-05-01 07:54:36
来源: Huawei Developer
应用或元服务启动过程不丢帧
| 描述  | 应用或元服务的冷启动过程中，动效环节最大连续丢帧数为0，加载环节最大连续丢帧数为6。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板、2in1  |
| 说明  | 无  |
描述
应用或元服务的冷启动过程中，动效环节最大连续丢帧数为0，加载环节最大连续丢帧数为6。
类型
规则
适用设备
手机、折叠屏、平板、2in1
说明
无
应用或元服务启动过程流畅
| 描述  | 应用或元服务启动过程平均卡顿率为0ms/s。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板、2in1  |
| 说明  | 无  |
描述
应用或元服务启动过程平均卡顿率为0ms/s。
类型
规则
适用设备
手机、折叠屏、平板、2in1
说明
无
应用或元服务应用内滑动过程不丢帧
| 描述  | 应用或元服务的滑动过程最大连续丢帧数为0。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板、2in1  |
| 说明  | 无  |
描述
应用或元服务的滑动过程最大连续丢帧数为0。
类型
规则
适用设备
手机、折叠屏、平板、2in1
说明
无
应用或元服务应用内滑动过程流畅
| 描述  | 应用或元服务的滑动过程卡顿率应<=5ms/s。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板、2in1  |
| 说明  | 无  |
描述
应用或元服务的滑动过程卡顿率应<=5ms/s。
类型
规则
适用设备
手机、折叠屏、平板、2in1
说明
无
应用或元服务应用内转场操作不丢帧
| 描述  | 应用或元服务的应用内转场过程最大连续丢帧数为0。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板、2in1  |
| 说明  | 无  |
描述
应用或元服务的应用内转场过程最大连续丢帧数为0。
类型
规则
适用设备
手机、折叠屏、平板、2in1
说明
无
应用或元服务应用内转场操作流畅
| 描述  | 应用或元服务的应用内转场过程卡顿率为 0 ms/s。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板、2in1  |
| 说明  | 无  |
描述
应用或元服务的应用内转场过程卡顿率为 0 ms/s。
类型
规则
适用设备
手机、折叠屏、平板、2in1
说明
无
应用在线流媒体播放弹幕滚动不丢帧
| 描述  | 应用视频播放过程中弹幕滚动过程中帧率稳定，最大连续丢帧数为0。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板、2in1  |
| 说明  | 无  |
描述
应用视频播放过程中弹幕滚动过程中帧率稳定，最大连续丢帧数为0。
类型
规则
适用设备
手机、折叠屏、平板、2in1
说明
无
应用在线流媒体播放过程流畅
| 描述  | 在线视频播放过程中最大卡顿时长应≤100ms; 在线视频播放过程中卡顿次数为0。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板、2in1  |
| 说明  | 无  |
描述
在线视频播放过程中最大卡顿时长应≤100ms; 在线视频播放过程中卡顿次数为0。
类型
规则
适用设备
手机、折叠屏、平板、2in1
说明
无
应用在线流媒体播放声画同步体验
| 描述  | 视频播放过程中声音和画面时间差异：-80ms≤时延≤ 25ms； 视频播放过程中主观观测声音和画面的同步感受无不适。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板、2in1  |
| 说明  | 无  |
描述
视频播放过程中声音和画面时间差异：-80ms≤时延≤ 25ms；
视频播放过程中主观观测声音和画面的同步感受无不适。
类型
规则
适用设备
手机、折叠屏、平板、2in1
说明
无

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/performance-content-display-V14
爬取时间: 2025-05-01 07:55:10
来源: Huawei Developer
应用或元服务启动过程无黑白闪跳
| 描述  | 应用或元服务启动过程无黑白闪跳时延应<=40ms。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板、2in1  |
| 说明  | 无  |
描述
应用或元服务启动过程无黑白闪跳时延应<=40ms。
类型
规则
适用设备
手机、折叠屏、平板、2in1
说明
无
应用或元服务内滑动加载完成快
| 描述  | 应用或元服务内滑动页面占位符加载完成时延应<=40ms。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板、2in1  |
| 说明  | 无  |
描述
应用或元服务内滑动页面占位符加载完成时延应<=40ms。
类型
规则
适用设备
手机、折叠屏、平板、2in1
说明
无
应用或元服务内滑动页面占位符完整率
| 描述  | 已经加载的内容滑动完整率应达到100%。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板、2in1  |
| 说明  | 无  |
描述
已经加载的内容滑动完整率应达到100%。
类型
规则
适用设备
手机、折叠屏、平板、2in1
说明
无

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/performance-memory-usage-V14
爬取时间: 2025-05-01 07:55:43
来源: Huawei Developer
应用或元服务动态内存峰值占用
| 描述  | 建议应用完成操作后，各类应用在后台的内存占用峰值应≤ 1000MB。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 无  |
描述
建议应用完成操作后，各类应用在后台的内存占用峰值应≤ 1000MB。
类型
建议
适用设备
手机、折叠屏、平板
说明
无
应用或元服务前台场景内存峰值占用
| 描述  | 建议应用在前台且亮屏使用规程的内存占用应≤ 1500MB。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 无  |
描述
建议应用在前台且亮屏使用规程的内存占用应≤ 1500MB。
类型
建议
适用设备
手机、折叠屏、平板
说明
无
应用或元服务动态峰值和场景峰值内存指标满足历史基线
| 描述  | 建议应用或元服务冷启动时延类指标应小于等于历史基线，如果大于需要单独澄清。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 无  |
描述
建议应用或元服务冷启动时延类指标应小于等于历史基线，如果大于需要单独澄清。
类型
建议
适用设备
手机、折叠屏、平板
说明
无

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/performance-cpu-usage-V14
爬取时间: 2025-05-01 07:56:16
来源: Huawei Developer
应用或元服务后台CPU占用峰值
| 描述  | 应用或元服务后台CPU占用峰值应< 2%。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 无  |
描述
应用或元服务后台CPU占用峰值应< 2%。
类型
规则
适用设备
手机、折叠屏、平板
说明
无

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/app-power-experience-standards-V14
爬取时间: 2025-05-01 07:56:50
来源: Huawei Developer

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/app-power-experience-standards-overview-V14
爬取时间: 2025-05-01 07:57:23
来源: Huawei Developer
背景及目的
本标准旨在提升应用的功耗热体验，规范应用全生命周期软硬件资源合理使用。
适用范围
本标准适用于应用和元服务的低功耗设计、开发及检测，包括如下两种场景：

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/standard-background-power-V14
爬取时间: 2025-05-01 07:57:57
来源: Huawei Developer

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/standard-background-task-V14
爬取时间: 2025-05-01 07:58:30
来源: Huawei Developer
应用或元服务应合理使用长时任务
| 描述  | 应用或元服务应合理使用后台长时任务： 仅允许针对原定用途使用后台任务。后台任务可以让用户主动开始和停止。后台任务执行期间用户可感知。 其中原定用途需要提前声明(如：在提交应用市场应用功能介绍中说明)  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 合理使用长时任务  |
描述
应用或元服务应合理使用后台长时任务：
其中原定用途需要提前声明(如：在提交应用市场应用功能介绍中说明)
类型
规则
适用设备
手机、折叠屏、平板
说明
合理使用长时任务
应用或元服务应合理使用短时任务
| 描述  | 应用在后台需要执行耗时不长的任务才可以申请短时任务，如状态保存等，且短时任务完成后需要及时取消。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 合理使用短时任务  |
描述
应用在后台需要执行耗时不长的任务才可以申请短时任务，如状态保存等，且短时任务完成后需要及时取消。
类型
规则
适用设备
手机、折叠屏、平板
说明
合理使用短时任务
应用或元服务应合理使用延迟任务
| 描述  | 应用在后台使用延迟任务运行时长应小于2分钟，超时后需要主动取消，防止系统强行终止Extension进程导致业务异常。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 合理使用延迟任务  |
描述
应用在后台使用延迟任务运行时长应小于2分钟，超时后需要主动取消，防止系统强行终止Extension进程导致业务异常。
类型
规则
适用设备
手机、折叠屏、平板
说明
合理使用延迟任务
应用或元服务应合理使用代理提醒
| 描述  | 应用在执行后台定时类任务时，需要使用代理提醒来实现，且点击通知后应跳转至申请代理提醒的应用。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 合理使用代理提醒  |
描述
应用在执行后台定时类任务时，需要使用代理提醒来实现，且点击通知后应跳转至申请代理提醒的应用。
类型
规则
适用设备
手机、折叠屏、平板
说明
合理使用代理提醒

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/standard-background-hardware-V14
爬取时间: 2025-05-01 07:59:03
来源: Huawei Developer
后台进程CPU负载约束（长时任务）
| 描述  | 应用或元服务后台CPU运行：后台进程持续10分钟CPU使用率不得高于80%。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 长时任务后台进程CPU使用率约束  |
描述
应用或元服务后台CPU运行：后台进程持续10分钟CPU使用率不得高于80%。
类型
规则
适用设备
手机、折叠屏、平板
说明
长时任务后台进程CPU使用率约束
后台进程CPU使用率约束（短时任务）
| 描述  | 应用或元服务后台CPU运行：后台进程任务期间CPU使用率不得高于80%。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 短时任务后台进程CPU使用率约束  |
描述
应用或元服务后台CPU运行：后台进程任务期间CPU使用率不得高于80%。
类型
规则
适用设备
手机、折叠屏、平板
说明
短时任务后台进程CPU使用率约束
合理使用蓝牙
| 描述  | 无长时任务的应用退到后台不允许有蓝牙扫描。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 合理使用蓝牙资源  |
描述
无长时任务的应用退到后台不允许有蓝牙扫描。
类型
规则
适用设备
手机、折叠屏、平板
说明
合理使用蓝牙资源
合理使用网络资源
| 描述  | 无长时任务的应用退到后台主动断开socket连接，包含TCP和UDP连接。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 合理使用网络资源  |
描述
无长时任务的应用退到后台主动断开socket连接，包含TCP和UDP连接。
类型
规则
适用设备
手机、折叠屏、平板
说明
合理使用网络资源
合理使用麦克风或者扬声器
| 描述  | 无长时任务的应用退到后台不得使用麦克风或扬声器。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 合理使用音频资源  |
描述
无长时任务的应用退到后台不得使用麦克风或扬声器。
类型
规则
适用设备
手机、折叠屏、平板
说明
合理使用音频资源
合理使用GPS资源
| 描述  | 无长时任务的应用退后台不得使用定位服务。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 合理使用GPS资源  |
描述
无长时任务的应用退后台不得使用定位服务。
类型
规则
适用设备
手机、折叠屏、平板
说明
合理使用GPS资源
合理使用sensor资源
| 描述  | 应用退后台不得使用传感器，前台使用时根据业务尽量使用once()接口监听结果。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 合理使用传感器资源  |
描述
应用退后台不得使用传感器，前台使用时根据业务尽量使用once()接口监听结果。
类型
规则
适用设备
手机、折叠屏、平板
说明
合理使用传感器资源

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/standard-background-software-V14
爬取时间: 2025-05-01 07:59:36
来源: Huawei Developer
后台合理使用上传下载
| 描述  | 应用需要上传下载时，应使用系统上传下载服务，不要申请长时任务。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 后台合理使用上传下载  |
描述
应用需要上传下载时，应使用系统上传下载服务，不要申请长时任务。
类型
规则
适用设备
手机、折叠屏、平板
说明
后台合理使用上传下载
后台合理使用音频服务
| 描述  | 申请音频播放长时任务的应用退到后台后，请勿存在“不写入音频数据”或者“写入静音数据”等恶意行为。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 合理使用音频播放  |
描述
申请音频播放长时任务的应用退到后台后，请勿存在“不写入音频数据”或者“写入静音数据”等恶意行为。
类型
规则
适用设备
手机、折叠屏、平板
说明
合理使用音频播放
后台合理使用定位导航服务
| 描述  | 申请定位长时任务的应用在导航时应设置正确的应用场景。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 后台合理使用定位导航服务  |
描述
申请定位长时任务的应用在导航时应设置正确的应用场景。
类型
规则
适用设备
手机、折叠屏、平板
说明
后台合理使用定位导航服务
后台合理使用系统资源
| 描述  | 无长时任务的应用退后台，应将对应资源释放，不得直接或者间接持阻止系统休眠的锁。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 后台合理使用系统资源  |
描述
无长时任务的应用退后台，应将对应资源释放，不得直接或者间接持阻止系统休眠的锁。
类型
规则
适用设备
手机、折叠屏、平板
说明
后台合理使用系统资源

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/standard-foreground-power-V14
爬取时间: 2025-05-01 08:00:10
来源: Huawei Developer

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/standard-foreground-frame-rate-V14
爬取时间: 2025-05-01 08:00:45
来源: Huawei Developer
高帧率场景帧率建议
| 描述  | 基本全屏的非持续动效，例如应用启动、退出、窗口转场动效、拖动窗口移动动效，建议帧率为90~120Hz。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 高帧率场景帧率建议  |
描述
基本全屏的非持续动效，例如应用启动、退出、窗口转场动效、拖动窗口移动动效，建议帧率为90~120Hz。
类型
建议
适用设备
手机、折叠屏、平板
说明
高帧率场景帧率建议
中等帧率场景帧率建议
| 描述  | 变化区域大的持续型动效，或者非全屏的手势动效与转场动效，以及图片类型的切换动效，建议帧率为60Hz。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 中等帧率场景帧率建议  |
描述
变化区域大的持续型动效，或者非全屏的手势动效与转场动效，以及图片类型的切换动效，建议帧率为60Hz。
类型
建议
适用设备
手机、折叠屏、平板
说明
中等帧率场景帧率建议
低帧率场景帧率建议
| 描述  | 小区域动效，以及微动效，根据场景实际表现，建议帧率为30Hz及以下。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 低帧率场景帧率建议  |
描述
小区域动效，以及微动效，根据场景实际表现，建议帧率为30Hz及以下。
类型
建议
适用设备
手机、折叠屏、平板
说明
低帧率场景帧率建议
跟随源帧率场景帧率建议
| 描述  | 插画动效，以及固定源帧率动效，建议跟随内容源。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 跟随源帧率场景帧率建议  |
描述
插画动效，以及固定源帧率动效，建议跟随内容源。
类型
建议
适用设备
手机、折叠屏、平板
说明
跟随源帧率场景帧率建议

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/standard-foreground-render-V14
爬取时间: 2025-05-01 08:01:18
来源: Huawei Developer
内容布局使用建议
| 描述  | 使用扁平化的布局嵌套层级，避免冗余嵌套，删除无效容器节点。合理使用容器节点，频繁创建和销毁的组件会影响容器布局，导致容器所有组件刷新，可以尝试在内部再添加容器隔离组件，减少更新范围。容器内的节点按需加载，例如List列表中的组件。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 无  |
描述
类型
建议
适用设备
手机、折叠屏、平板
说明
无
UI资源使用建议
| 描述  | 使用组件复用机制降低系统负载。精准控制组件更新范围。建议使用高能效高性能的组件。按需分配资源分辨率。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 无  |
描述
类型
建议
适用设备
手机、折叠屏、平板
说明
无
动效使用建议
| 描述  | 合理使用animateTo、animator、animation动画，对于不可见动画应及时停止以释放资源。应用、元服务切入后台，或者灭屏场景，用户不可见的绘制或动效应当立刻停止。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 动效使用建议  |
描述
类型
规则
适用设备
手机、折叠屏、平板
说明
动效使用建议
缓存使用建议
| 描述  | 将重复利用的组件渲染内容进行缓存，便于复用，减少渲染个数。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 缓存使用建议  |
描述
将重复利用的组件渲染内容进行缓存，便于复用，减少渲染个数。
类型
建议
适用设备
手机、折叠屏、平板
说明
缓存使用建议
视效使用建议
| 描述  | 若界面内多个组件的视效参数一致，合并视效以减少计算次数，减少场景视觉效果渲染复杂度。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 视效使用建议  |
描述
若界面内多个组件的视效参数一致，合并视效以减少计算次数，减少场景视觉效果渲染复杂度。
类型
建议
适用设备
手机、折叠屏、平板
说明
视效使用建议
脏区使用建议
| 描述  | 尽量让脏区只包含变化的组件，减少渲染大小。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 脏区使用建议  |
描述
尽量让脏区只包含变化的组件，减少渲染大小。
类型
建议
适用设备
手机、折叠屏、平板
说明
脏区使用建议
合成使用建议
| 描述  | 按需创建图层及使用旋转图层，过多的图层会导致硬件叠加功能失效，造成系统额外功耗开销。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 合成使用建议  |
描述
按需创建图层及使用旋转图层，过多的图层会导致硬件叠加功能失效，造成系统额外功耗开销。
类型
建议
适用设备
手机、折叠屏、平板
说明
合成使用建议

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/standard-foreground-resource-V14
爬取时间: 2025-05-01 08:01:52
来源: Huawei Developer
视频场景强制建议
| 描述  | 推荐使用平台的视频硬件编解码器（芯片平台支持的格式）。弹幕绘图使用硬件加速，不要使用CPU绘图。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 视频场景编解码低功耗规则 视频场景弹幕绘制低功耗规则  |
描述
类型
规则
适用设备
手机、折叠屏、平板
说明
视频场景编解码低功耗规则
视频场景弹幕绘制低功耗规则
视频场景推荐建议
| 描述  | 图层个数限制：三方应用的图层个数，无弹幕时推荐最多2个图层，有弹幕时最多3个图层。视频场景数据缓存下载方式：推荐按聚合方式下载（如每20s下载一次，每次下载3~5s），避免小流量持续下载导致Wi-Fi功耗高。视频小视频在线播放，不要将片源全部下载到ROM里。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 视频场景图层低功耗建议 视频场景Wi-Fi加载低功耗建议 视频场景ROM低功耗建议  |
描述
类型
建议
适用设备
手机、折叠屏、平板
说明
视频场景图层低功耗建议
视频场景Wi-Fi加载低功耗建议
视频场景ROM低功耗建议
音乐播放场景强制建议
| 描述  | 音乐类应用设置正确的应用类型，采用系统低功耗方案。静音时关闭应用自己的音效处理算法。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 音乐播放场景低功耗规则  |
描述
类型
规则
适用设备
手机、折叠屏、平板
说明
音乐播放场景低功耗规则
导航定位场景强制建议
| 描述  | 导航类应用设置正确的应用类型，使用系统自带的导航类场景的音效算法。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 导航定位场景低功耗规则  |
描述
导航类应用设置正确的应用类型，使用系统自带的导航类场景的音效算法。
类型
规则
适用设备
手机、折叠屏、平板
说明
导航定位场景低功耗规则
导航定位场景推荐建议
| 描述  | 导航界面的动画GPU绘制帧率建议低于30Hz。sensor相关资源按需使用，不用sensor的时候，解注册sensor资源；模拟导航界面，获取位置信息的sensor调用频次要低于实际导航界面。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 导航定位场景低功耗规则  |
描述
类型
建议
适用设备
手机、折叠屏、平板
说明
导航定位场景低功耗规则
网络资源建议
| 描述  | 应用的资源预缓存策略，建议不要提前下载过多的资源。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 网络资源低功耗建议  |
描述
应用的资源预缓存策略，建议不要提前下载过多的资源。
类型
建议
适用设备
手机、折叠屏、平板
说明
网络资源低功耗建议
静态场景强制建议
| 描述  | 界面完全静止的场景下，三方应用停止请求Vsync，不要随着Vsync信号每帧周期性运行；界面完全静止的场景下，三方应用进程的CPU负载率应该低于10%(单核负载)。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 静态场景低功耗规则  |
描述
类型
规则
适用设备
手机、折叠屏、平板
说明
静态场景低功耗规则
静态场景推荐建议
| 描述  | 界面完全静止的场景下，CPU/GPU/DDR频点应处于最低频。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 静态场景低功耗规则  |
描述
界面完全静止的场景下，CPU/GPU/DDR频点应处于最低频。
类型
建议
适用设备
手机、折叠屏、平板
说明
静态场景低功耗规则
深色模式建议
| 描述  | UI界面的背景建议选择深色或者分时间段选择深色，节约屏幕硬件功耗。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 省电和深色模式下低功耗设计  |
描述
UI界面的背景建议选择深色或者分时间段选择深色，节约屏幕硬件功耗。
类型
建议
适用设备
手机、折叠屏、平板
说明
省电和深色模式下低功耗设计
视频通话场景建议
| 描述  | 基于发热体验考虑，如果本端使用小窗口显示对端图像，做到动态通知对端降低相机采样率（推荐15fps），以此降低视频通话场景发热。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 手机、折叠屏、平板  |
| 说明  | 无  |
描述
基于发热体验考虑，如果本端使用小窗口显示对端图像，做到动态通知对端降低相机采样率（推荐15fps），以此降低视频通话场景发热。
类型
建议
适用设备
手机、折叠屏、平板
说明
无

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/security-privacy-experience-suggestions-V14
爬取时间: 2025-05-01 08:02:25
来源: Huawei Developer

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/security-privacy-overview-V14
爬取时间: 2025-05-01 08:02:58
来源: Huawei Developer
背景及目的
本标准旨在提升应用的用户体验，规范应用全生命周期的安全、隐私行为。
适用范围
本标准适用于应用的设计、开发及检测。
术语
-  与一个身份已被识别或者身份可被识别的自然人（“数据主体”）相关的任何信息。身份可识别的自然人是指其身份可以通过诸如姓名、身份证号、位置数据等识别码或者通过一个或多个与自然人的身体、生理、精神、经济、文化或者社会身份相关的特定因素来直接或者间接地被识别。 个人数据包括：自然人的email地址、电话号码、生物特征（指纹）、位置数据、IP地址、医疗信息、宗教信仰、社保号、婚姻状态等。
-  敏感个人数据是个人数据的一个重要子集，指的是涉及数据主体的最私密领域的信息或者一旦泄露可能会给数据主体造成重大不利影响的数据。欧盟等国家和地区法律定义的敏感个人数据包括种族、政治观点、宗教和哲学信仰、工会成员资格、基因数据、生物信息、健康和性生活状况、性取向等。根据业界最佳实践，敏感个人数据还包括可与自然人身份相关联的银行卡号、身份证号、护照号、口令等。敏感个人数据的处理需要更多更严格的保护措施。
-  信任边界是指一个系统或网络中被认为是可信的边界或界限，是一个安全域与另外一个安全区域之间的边界，边界的划分通常是以物理隔离、权限变化等维度划分。

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/experience-suggestions-security-V14
爬取时间: 2025-05-01 08:03:32
来源: Huawei Developer

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/experience-suggestions-security-base-V14
爬取时间: 2025-05-01 08:04:05
来源: Huawei Developer
| 描述  | 应用涉及个人数据收集应遵循合法、正当、必要、透明的原则。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用涉及个人数据收集应遵循合法、正当、必要、透明的原则。
类型
规则
适用设备
通用
说明
无
| 描述  | 禁止应用包含国家法律禁止的内容或链接，包括但不限于色情、赌博或任何危害国家安全的信息。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
禁止应用包含国家法律禁止的内容或链接，包括但不限于色情、赌博或任何危害国家安全的信息。
类型
规则
适用设备
通用
说明
无
| 描述  | 禁止应用包含危害未成年人身心健康内容的网络信息。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
禁止应用包含危害未成年人身心健康内容的网络信息。
类型
规则
适用设备
通用
说明
无
| 描述  | 禁止应用包含仿冒行为、恶意行为和欺骗性行为。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
禁止应用包含仿冒行为、恶意行为和欺骗性行为。
类型
规则
适用设备
通用
说明
无
| 描述  | 禁止应用包含病毒、木马、后门。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
禁止应用包含病毒、木马、后门。
类型
规则
适用设备
通用
说明
无
| 描述  | 禁止应用诱导、欺骗用户，在用户主观不知操作后果情况下，执行有损系统和应用安全的操作，如应用提供刷机功能等绕过系统安全防护机制的功能。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
禁止应用诱导、欺骗用户，在用户主观不知操作后果情况下，执行有损系统和应用安全的操作，如应用提供刷机功能等绕过系统安全防护机制的功能。
类型
规则
适用设备
通用
说明
无
| 描述  | 禁止应用劫持系统操作，避免导致系统功能异常。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
禁止应用劫持系统操作，避免导致系统功能异常。
类型
规则
适用设备
通用
说明
无
| 描述  | 禁止应用包含故意破坏用户使用体验、阻碍用户正常使用手机或其他应用的任何行为。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
禁止应用包含故意破坏用户使用体验、阻碍用户正常使用手机或其他应用的任何行为。
类型
规则
适用设备
通用
说明
无
| 描述  | 禁止利用技术手段，误导、欺骗、强迫用户修改、关闭、卸载其他经营者合法提供的设备、功能或者其他程序等网络产品或者服务。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
禁止利用技术手段，误导、欺骗、强迫用户修改、关闭、卸载其他经营者合法提供的设备、功能或者其他程序等网络产品或者服务。
类型
规则
适用设备
通用
说明
无

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/experience-suggestions-security-debug-V14
爬取时间: 2025-05-01 08:04:38
来源: Huawei Developer
准备阶段
| 描述  | 应用开发前须在开发者平台申请开发者调试和发布证书，用于应用的调试和发布准备。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 申请调试证书指南、申请发布证书指南  |
描述
应用开发前须在开发者平台申请开发者调试和发布证书，用于应用的调试和发布准备。
类型
规则
适用设备
通用
说明
申请调试证书指南、申请发布证书指南
| 描述  | 建议使用官方渠道下载的开发工具，非官方渠道工具须保证开发环境的安全性。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | 官方开发工具下载  |
描述
建议使用官方渠道下载的开发工具，非官方渠道工具须保证开发环境的安全性。
类型
建议
适用设备
通用
说明
官方开发工具下载
编码安全
| 描述  | 涉及外部开源代码或代码漏洞的情况，须关注代码的安全动态和版本更新情况并及时修复。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
涉及外部开源代码或代码漏洞的情况，须关注代码的安全动态和版本更新情况并及时修复。
类型
建议
适用设备
通用
说明
无
| 描述  | 使用官方推荐版本的 API 接口，不应使用系统废弃的 API。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | 废弃接口说明  |
描述
使用官方推荐版本的 API 接口，不应使用系统废弃的 API。
类型
建议
适用设备
通用
说明
废弃接口说明
| 描述  | 代码须通过官方工具的检测，提升代码的可靠性、安全性和代码质量。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | 官方集成测试工具DevEco Testing提供安全检测服务。需要注意的测试项包括但不限于以下： 建议不涉及对外交互业务的应用组件的exported属性设置为false； 对外交互的Ability应设置合理的访问权限； 需要对涉及敏感功能的公共事件接收器进行访问权限控制； 避免加载不安全的URL或页面； 避免将mixedMode属性配置成All； 在加载webview页面时避免在SSL校验出错时继续加载页面； 未经用户同意避免在WebView页面返回位置信息； 避免直接使用不可信数据来拼接SQL语句； 避免在对象实例上直接使用 hasOwnProperty、isPrototypeOf、propertyIsEnumerable方法； 避免向可执行函数传递不可信数据。  |
描述
代码须通过官方工具的检测，提升代码的可靠性、安全性和代码质量。
类型
建议
适用设备
通用
说明
官方集成测试工具DevEco Testing提供安全检测服务。需要注意的测试项包括但不限于以下：
建议不涉及对外交互业务的应用组件的exported属性设置为false；
对外交互的Ability应设置合理的访问权限；
需要对涉及敏感功能的公共事件接收器进行访问权限控制；
避免加载不安全的URL或页面；
避免将mixedMode属性配置成All；
在加载webview页面时避免在SSL校验出错时继续加载页面；
未经用户同意避免在WebView页面返回位置信息；
避免直接使用不可信数据来拼接SQL语句；
避免在对象实例上直接使用 hasOwnProperty、isPrototypeOf、propertyIsEnumerable方法；
避免向可执行函数传递不可信数据。
| 描述  | 建议应用代码通过官方提供的工具进行混淆，防止攻击者针对性的攻击。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | 官方代码混淆  |
描述
建议应用代码通过官方提供的工具进行混淆，防止攻击者针对性的攻击。
类型
建议
适用设备
通用
说明
官方代码混淆
| 描述  | 建议开启安全编译选项，缓解漏洞带来的潜在风险。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
建议开启安全编译选项，缓解漏洞带来的潜在风险。
类型
建议
适用设备
通用
说明
无
应用数据安全
| 描述  | 应用程序关键数据应该存放在私有目录下，并设置合理的访问权限。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 手机、折叠屏、平板、2in1  |
| 说明  | 应用程序关键数据指应用运行过程中产生的会对应用运行产生影响的数据，包含但不限于关键配置数据、关键内存数据等。  |
描述
应用程序关键数据应该存放在私有目录下，并设置合理的访问权限。
类型
建议
适用设备
手机、折叠屏、平板、2in1
说明
应用程序关键数据指应用运行过程中产生的会对应用运行产生影响的数据，包含但不限于关键配置数据、关键内存数据等。
| 描述  | 应用程序中的敏感个人信息建议加密存储。用于加密的密钥应妥善保存。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | 敏感个人信息包括聊天记录、搜索记录、登录密码等。登录密码等短敏感数据可以使Asset Store Kit（关键资产存储开发服务）进行存储。  |
描述
应用程序中的敏感个人信息建议加密存储。用于加密的密钥应妥善保存。
类型
建议
适用设备
通用
说明
敏感个人信息包括聊天记录、搜索记录、登录密码等。登录密码等短敏感数据可以使Asset Store Kit（关键资产存储开发服务）进行存储。
| 描述  | 避免将应用私有数据写入公共数据库、存储区中。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 手机、折叠屏、平板、2in1  |
| 说明  | 需要注意的测试项包括但不限于以下： 避免将个人数据存放到剪贴板中； 应用避免将个人数据写入settings数据库。  |
描述
避免将应用私有数据写入公共数据库、存储区中。
类型
建议
适用设备
手机、折叠屏、平板、2in1
说明
需要注意的测试项包括但不限于以下：
避免将个人数据存放到剪贴板中；
应用避免将个人数据写入settings数据库。
| 描述  | 应用程序中用户名密码应使用标准TextInput控件，指定准确的输入类型type（如用户名指定为InputType.USER_NAME，密码指定为InputType.Password等），以支持系统识别关键数据进行安全保护增强。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用程序中用户名密码应使用标准TextInput控件，指定准确的输入类型type（如用户名指定为InputType.USER_NAME，密码指定为InputType.Password等），以支持系统识别关键数据进行安全保护增强。
类型
建议
适用设备
通用
说明
无
通信安全
| 描述  | 对跨信任边界传入的参数须进行合法性判断，防止应用异常崩溃。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 需要注意的测试项包括但不限于以下： 建议对跨信任边界传入的Want进行合法性判断； 建议对跨信任边界通过rpc.RemoteObject的通信进行合理判断。  |
描述
对跨信任边界传入的参数须进行合法性判断，防止应用异常崩溃。
类型
规则
适用设备
通用
说明
需要注意的测试项包括但不限于以下：
建议对跨信任边界传入的Want进行合法性判断；
建议对跨信任边界通过rpc.RemoteObject的通信进行合理判断。
| 描述  | 避免通过隐式方式调用传递个人数据。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | 需要注意的测试项包括但不限于： 避免使用未设置权限的动态公共事件携带个人数据； 隐式启动应用组件时避免携带个人数据。  |
描述
避免通过隐式方式调用传递个人数据。
类型
建议
适用设备
通用
说明
需要注意的测试项包括但不限于：
避免使用未设置权限的动态公共事件携带个人数据；
隐式启动应用组件时避免携带个人数据。
| 描述  | 建议使用https代替http进行通信，并对https证书进行严格校验。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
建议使用https代替http进行通信，并对https证书进行严格校验。
类型
建议
适用设备
通用
说明
无
应用签名
| 描述  | 应用运行调试和发布前，应用需要签名，应用上架发布前需要经过开发者证书签名。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 应用/服务签名指南。需要注意的测试项包括但不限于： 建议正确设置发布版本应用调试属性； 避免正式版本应用使用debug签名； 应用需保证签名完整性； 应用软件应包含的签名信息需要真实有效。  |
描述
应用运行调试和发布前，应用需要签名，应用上架发布前需要经过开发者证书签名。
类型
规则
适用设备
通用
说明
应用/服务签名指南。需要注意的测试项包括但不限于：
建议正确设置发布版本应用调试属性；
避免正式版本应用使用debug签名；
应用需保证签名完整性；
应用软件应包含的签名信息需要真实有效。
| 描述  | 应用开发调试阶段，需要申请和设备绑定的开发调试证书，用于指定设备上调试开发。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 注册调试设备  |
描述
应用开发调试阶段，需要申请和设备绑定的开发调试证书，用于指定设备上调试开发。
类型
规则
适用设备
通用
说明
注册调试设备
| 描述  | 请勿将调试证书用于任何商业正式用途，否则开发者证书将被吊销。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
请勿将调试证书用于任何商业正式用途，否则开发者证书将被吊销。
类型
规则
适用设备
通用
说明
无
| 描述  | 应用申请上架时，需使用开发者证书对应用进行签名。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 应用/服务发布签名  |
描述
应用申请上架时，需使用开发者证书对应用进行签名。
类型
规则
适用设备
通用
说明
应用/服务发布签名

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/experience-suggestions-security-release-V14
爬取时间: 2025-05-01 08:05:11
来源: Huawei Developer
应用发布
| 描述  | 应用提交上架发布阶段需要完成本地的自测试，并全部通过测试项。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | HarmonyOS应用测试  |
描述
应用提交上架发布阶段需要完成本地的自测试，并全部通过测试项。
类型
规则
适用设备
通用
说明
HarmonyOS应用测试
| 描述  | 应用上架不允许隐藏特性或功能，应用功能应对用户和审核团队清晰可见。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用上架不允许隐藏特性或功能，应用功能应对用户和审核团队清晰可见。
类型
规则
适用设备
通用
说明
无
应用安装
| 描述  | 应用安装后不得自动在桌面添加多个快捷方式，除非用户明确同意。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用安装后不得自动在桌面添加多个快捷方式，除非用户明确同意。
类型
规则
适用设备
通用
说明
无
| 描述  | 应用内不得通过胁迫、恐吓、强迫、提供虚假功能等方式，诱导用户下载和安装其他应用。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用内不得通过胁迫、恐吓、强迫、提供虚假功能等方式，诱导用户下载和安装其他应用。
类型
规则
适用设备
通用
说明
无
| 描述  | 不得为安装恶意软件提供链接或引导。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
不得为安装恶意软件提供链接或引导。
类型
规则
适用设备
通用
说明
无
应用启动
| 描述  | 应用程序不得要求用户完成积分任务应用才能正常启动或使用核心功能，不完成任务则不能使用正常的行为。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用程序不得要求用户完成积分任务应用才能正常启动或使用核心功能，不完成任务则不能使用正常的行为。
类型
规则
适用设备
通用
说明
无
| 描述  | 应用开屏和弹窗信息窗口需要提供清晰有效的关闭按钮，保证用户可以便捷关闭；不得频繁弹窗干扰用户正常使用，或利用“全屏热力图”、高灵敏度“摇一摇”等易造成误触发的方式诱导用户操作。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用开屏和弹窗信息窗口需要提供清晰有效的关闭按钮，保证用户可以便捷关闭；不得频繁弹窗干扰用户正常使用，或利用“全屏热力图”、高灵敏度“摇一摇”等易造成误触发的方式诱导用户操作。
类型
规则
适用设备
通用
说明
无

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/experience-suggestions-security-update-V14
爬取时间: 2025-05-01 08:05:44
来源: Huawei Developer
| 描述  | 应用运行的程序需要来自安装包，不能在指定沙箱范围外加载或写入代码，避免应用下载、安装或执行会新增或更改应用自身功能的代码。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 应用内打开网页及解释脚本需要使用系统的ArkWeb框架以及JSVM引擎，且不得利用该途径实现热更新引入上架未审核的功能与特性。  |
描述
应用运行的程序需要来自安装包，不能在指定沙箱范围外加载或写入代码，避免应用下载、安装或执行会新增或更改应用自身功能的代码。
类型
规则
适用设备
通用
说明
应用内打开网页及解释脚本需要使用系统的ArkWeb框架以及JSVM引擎，且不得利用该途径实现热更新引入上架未审核的功能与特性。

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/experience-suggestions-security-maintain-V14
爬取时间: 2025-05-01 08:06:18
来源: Huawei Developer
| 描述  | 应用在使用期间，需要关注应用涉及的安全动态、安全事件、及时漏洞修复。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用在使用期间，需要关注应用涉及的安全动态、安全事件、及时漏洞修复。
类型
建议
适用设备
通用
说明
无
| 描述  | 开发者需构建安全管理机制，例如安全风险管理、安全事件管理、应急响应管理等。  |
| --- | --- |
| 类型  | 建议  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
开发者需构建安全管理机制，例如安全风险管理、安全事件管理、应急响应管理等。
类型
建议
适用设备
通用
说明
无

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/experience-suggestions-privacy-V14
爬取时间: 2025-05-01 08:06:51
来源: Huawei Developer

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/experience-suggestions-privacy-policy-V14
爬取时间: 2025-05-01 08:07:24
来源: Huawei Developer
| 描述  | 隐私政策告知的内容需要包含收集和使用个人信息的目的、方式、个人信息种类、保存期限、个人信息处理者的名称（或姓名）和联系方式、行使个人信息主体权利的方式和程序，且能正常打开阅读。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
隐私政策告知的内容需要包含收集和使用个人信息的目的、方式、个人信息种类、保存期限、个人信息处理者的名称（或姓名）和联系方式、行使个人信息主体权利的方式和程序，且能正常打开阅读。
类型
规则
适用设备
通用
说明
无
| 描述  | 应用的用户包括儿童用户，应提供专门的儿童个人信息处理规则。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用的用户包括儿童用户，应提供专门的儿童个人信息处理规则。
类型
规则
适用设备
通用
说明
无
| 描述  | 隐私政策对个人信息处理的描述与应用实际收集和使用个人信息保持一致。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 常见的个人信息收集不一致场景  |
描述
隐私政策对个人信息处理的描述与应用实际收集和使用个人信息保持一致。
类型
规则
适用设备
通用
说明
常见的个人信息收集不一致场景
| 描述  | 隐私政策可以随时被用户查看。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
隐私政策可以随时被用户查看。
类型
规则
适用设备
通用
说明
无
| 描述  | 隐私政策内容需采用当地的官方语言进行描述，易于用户访问和阅读，且需突出显示敏感个人信息的处理目的、方式和范围。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
隐私政策内容需采用当地的官方语言进行描述，易于用户访问和阅读，且需突出显示敏感个人信息的处理目的、方式和范围。
类型
规则
适用设备
通用
说明
无
| 描述  | 应用（含应用集成的三方SDK或其他组件）涉及个人信息收集或处理，须根据应用所需收集的个人信息项和个人信息使用目的填写隐私标签，以便用户在应用市场客户端应用详情中查看。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用（含应用集成的三方SDK或其他组件）涉及个人信息收集或处理，须根据应用所需收集的个人信息项和个人信息使用目的填写隐私标签，以便用户在应用市场客户端应用详情中查看。
类型
规则
适用设备
通用
说明
无

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/experience-suggestions-privacy-user-consent-V14
爬取时间: 2025-05-01 08:07:57
来源: Huawei Developer
| 描述  | 应用在收集用户个人信息前，需要向用户提供隐私政策，且需获得用户同意或遵守其他适用的法律要求。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用在收集用户个人信息前，需要向用户提供隐私政策，且需获得用户同意或遵守其他适用的法律要求。
类型
规则
适用设备
通用
说明
无
| 描述  | 应用收集和使用儿童（不满十四周岁的未成年人）的个人信息前，需要获得父母或监护人的同意。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 从儿童监护人处获取同意的机制，包含但不限于以下方式： 通过验证儿童账号对应的监护人账号和密码。通过验证监护人手机的锁屏口令或验证码。通过向监护人的手机号或邮箱地址发送验证码。通过监护人持有的控制软件进行授权，如XX软件（家长端）。  |
描述
应用收集和使用儿童（不满十四周岁的未成年人）的个人信息前，需要获得父母或监护人的同意。
类型
规则
适用设备
通用
说明
从儿童监护人处获取同意的机制，包含但不限于以下方式：
| 描述  | 收集和使用敏感个人信息前，需要告知处理敏感个人信息的必要性以及对用户权益的影响，并获得用户的单独同意或遵守其他适用的法律要求。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 敏感个人信息包含：生物识别、宗教信仰、特定身份、医疗健康、金融账户、行踪轨迹等信息，以及不满十四周岁未成年人的个人信息。  |
描述
收集和使用敏感个人信息前，需要告知处理敏感个人信息的必要性以及对用户权益的影响，并获得用户的单独同意或遵守其他适用的法律要求。
类型
规则
适用设备
通用
说明
敏感个人信息包含：生物识别、宗教信仰、特定身份、医疗健康、金融账户、行踪轨迹等信息，以及不满十四周岁未成年人的个人信息。
| 描述  | 用户同意授权处理个人信息场景，个人信息的处理目的、处理方式和处理的个人信息种类发生变更的，应当重新取得个人同意。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 重大内容变化包括但不限于： 新增收集敏感个人数据或新增数据类型：仅涉及新增敏感个人数据或新增数据类型（减少不提示）才弹框。使用目的变化：仅涉及使用目的发生变化才弹框。共享，转让，公开披露对象类型变化：个人信息共享、转让或公开披露的主要对象类型发生变化才弹框。个人信息处理者发生实质变化。收集数据的合法基础发生变化。新增跨境或者跨境范围变化。  |
描述
用户同意授权处理个人信息场景，个人信息的处理目的、处理方式和处理的个人信息种类发生变更的，应当重新取得个人同意。
类型
规则
适用设备
通用
说明
重大内容变化包括但不限于：
| 描述  | 基于个人同意处理个人信息的，应用需要提供撤回同意的方式。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
基于个人同意处理个人信息的，应用需要提供撤回同意的方式。
类型
规则
适用设备
通用
说明
无
| 描述  | 用户不同意或撤回同意收集非必要个人信息，不能拒绝提供业务功能。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
用户不同意或撤回同意收集非必要个人信息，不能拒绝提供业务功能。
类型
规则
适用设备
通用
说明
无
| 描述  | 应用将收集到的用户搜索、浏览记录、使用习惯等个人信息用于定向推送或广告精准营销，需在隐私政策中告知用户，并同时提供不针对其个人特征的选项，或者向个人提供便捷的拒绝方式。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用将收集到的用户搜索、浏览记录、使用习惯等个人信息用于定向推送或广告精准营销，需在隐私政策中告知用户，并同时提供不针对其个人特征的选项，或者向个人提供便捷的拒绝方式。
类型
规则
适用设备
通用
说明
无

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/experience-suggestions-privacy-collect-use-V14
爬取时间: 2025-05-01 08:08:30
来源: Huawei Developer
| 描述  | 应用收集和使用个人信息需遵守最小化原则，处理用户个人信息最少或对用户权益影响最小的（不得超出服务所需的个人信息）。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 需要注意的测试项包括但不限于： 应用不得超出服务所必需或无合理应用场景收集和使用个人信息，包括静默状态下或在后台运行。  |
描述
应用收集和使用个人信息需遵守最小化原则，处理用户个人信息最少或对用户权益影响最小的（不得超出服务所需的个人信息）。
类型
规则
适用设备
通用
说明
需要注意的测试项包括但不限于：
应用不得超出服务所必需或无合理应用场景收集和使用个人信息，包括静默状态下或在后台运行。
| 描述  | 隐私政策需包含应用收集和使用个人信息清单、向第三方共享、传输个人信息清单（包含嵌入的SDK名称、功能及其处理个人信息的规则）。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
隐私政策需包含应用收集和使用个人信息清单、向第三方共享、传输个人信息清单（包含嵌入的SDK名称、功能及其处理个人信息的规则）。
类型
规则
适用设备
通用
说明
无
| 描述  | 应用收集个人信息的频率不应超出其实现产品或服务的业务功能所必需的最低频率。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用收集个人信息的频率不应超出其实现产品或服务的业务功能所必需的最低频率。
类型
规则
适用设备
通用
说明
无

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/experience-suggestions-privacy-permission-V14
爬取时间: 2025-05-01 08:09:02
来源: Huawei Developer
权限最小化
| 描述  | 受限开放权限采用权限证书的方式对外开放，无正当理由的应用不被允许申请此类权限。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 受限权限通过ACL跨级别申请  |
描述
受限开放权限采用权限证书的方式对外开放，无正当理由的应用不被允许申请此类权限。
类型
规则
适用设备
通用
说明
受限权限通过ACL跨级别申请
| 描述  | 应用，含引用的第三方 SDK，申请的权限，需要提供明确、合理的使用场景和功能说明，确保用户能够清晰明了地知道申请权限的目的、场景、用途；不得诱导、误导用户授权；应用使用权限与申请所述一致。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 权限使用理由的文案内容规范  |
描述
应用，含引用的第三方 SDK，申请的权限，需要提供明确、合理的使用场景和功能说明，确保用户能够清晰明了地知道申请权限的目的、场景、用途；不得诱导、误导用户授权；应用使用权限与申请所述一致。
类型
规则
适用设备
通用
说明
权限使用理由的文案内容规范
| 描述  | 应用，含引用的第三方 SDK，权限申请应当遵循最小化原则，只申请业务功能所必要的权限，不得申请不必要的权限。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用，含引用的第三方 SDK，权限申请应当遵循最小化原则，只申请业务功能所必要的权限，不得申请不必要的权限。
类型
规则
适用设备
通用
说明
无
| 描述  | 在对应业务功能启动时，动态申请所需权限，不得要求用户一揽子同意多个非本业务功能的必要权限。在调用终端相册、通讯录、位置等权限时，同步告知用户申请该权限的目的。未经用户同意，不得更改用户未授权权限状态。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 动态申请敏感权限最佳实践  |
描述
在对应业务功能启动时，动态申请所需权限，不得要求用户一揽子同意多个非本业务功能的必要权限。在调用终端相册、通讯录、位置等权限时，同步告知用户申请该权限的目的。未经用户同意，不得更改用户未授权权限状态。
类型
规则
适用设备
通用
说明
动态申请敏感权限最佳实践
| 描述  | 应用弹窗申请敏感权限后，避免直接弹窗引导用户修改该敏感权限的授权状态。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用弹窗申请敏感权限后，避免直接弹窗引导用户修改该敏感权限的授权状态。
类型
规则
适用设备
通用
说明
无
| 描述  | 权限申请目的说明内容不应呈现链接、虚假目的、以及夸大使用目的、表述不清的描述，不应发布广告信息及其它法律法规禁止内容。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
权限申请目的说明内容不应呈现链接、虚假目的、以及夸大使用目的、表述不清的描述，不应发布广告信息及其它法律法规禁止内容。
类型
规则
适用设备
通用
说明
无
权限可知可控
| 描述  | 用户拒绝授予某个权限时，与此权限无关的其他业务功能需确保能正常使用，包括应用可以正常注册或登录。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
用户拒绝授予某个权限时，与此权限无关的其他业务功能需确保能正常使用，包括应用可以正常注册或登录。
类型
规则
适用设备
通用
说明
无
| 描述  | 业务功能所需要的权限被用户拒绝且禁止后不应频繁引导用户授权，当用户主动触发使用此业务功能或该权限为实现业务功能所必需时，应用程序可使用界面内文字引导，让用户到设置中授权。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
业务功能所需要的权限被用户拒绝且禁止后不应频繁引导用户授权，当用户主动触发使用此业务功能或该权限为实现业务功能所必需时，应用程序可使用界面内文字引导，让用户到设置中授权。
类型
规则
适用设备
通用
说明
无
不得提权
| 描述  | 应用通过敏感权限获得的数据和能力，不得以自定义接口直接向外提供给其他应用访问。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用通过敏感权限获得的数据和能力，不得以自定义接口直接向外提供给其他应用访问。
类型
规则
适用设备
通用
说明
无
权限使用场景
| 描述  | 应用使用通讯录应优先调用无需授权的系统服务来访问通讯录。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 通讯录权限的可申请场景，其他场景使用无需授权的联系人Picker访问通讯录。  |
描述
应用使用通讯录应优先调用无需授权的系统服务来访问通讯录。
类型
规则
适用设备
通用
说明
通讯录权限的可申请场景，其他场景使用无需授权的联系人Picker访问通讯录。
| 描述  | 应用对图片、视频、文件的写入操作，优先使用保存安全控件、文件选择器等无需用户授权的系统能力。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 图库写入权限的可申请场景，其他场景使用无需授权的保存安全控件。  |
描述
应用对图片、视频、文件的写入操作，优先使用保存安全控件、文件选择器等无需用户授权的系统能力。
类型
规则
适用设备
通用
说明
图库写入权限的可申请场景，其他场景使用无需授权的保存安全控件。
| 描述  | 应用对图片、视频、文件的读取操作，优先使用图片选择器、文件选择器等无需用户授权的系统能力。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 图库读取权限的可申请场景，其他场景使用无需授权的照片Picker。  |
描述
应用对图片、视频、文件的读取操作，优先使用图片选择器、文件选择器等无需用户授权的系统能力。
类型
规则
适用设备
通用
说明
图库读取权限的可申请场景，其他场景使用无需授权的照片Picker。
| 描述  | 应用读取剪贴板，需要在用户可感知的情况下访问，建议优先使用安全控件实现。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 剪切板读取权限的可申请场景，其他场景使用无需授权的粘贴控件。  |
描述
应用读取剪贴板，需要在用户可感知的情况下访问，建议优先使用安全控件实现。
类型
规则
适用设备
通用
说明
剪切板读取权限的可申请场景，其他场景使用无需授权的粘贴控件。
| 描述  | 应用需要临时获取位置信息，优先使用位置安全控件来实现。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 位置安全控件开发指南  |
描述
应用需要临时获取位置信息，优先使用位置安全控件来实现。
类型
规则
适用设备
通用
说明
位置安全控件开发指南
| 描述  | 应用需要调用系统相机的场景，优先使用相机选择器等无需用户授权的系统能力。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 相机选择器开发指南、默认界面扫码开发指南  |
描述
应用需要调用系统相机的场景，优先使用相机选择器等无需用户授权的系统能力。
类型
规则
适用设备
通用
说明
相机选择器开发指南、默认界面扫码开发指南
| 描述  | 应用不允许只申请后台位置权限，后台位置权限需要配合前台位置权限一起使用。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用不允许只申请后台位置权限，后台位置权限需要配合前台位置权限一起使用。
类型
规则
适用设备
通用
说明
无
| 描述  | 应用不得仅出于广告投放或数据分析的目的而请求位置权限。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用不得仅出于广告投放或数据分析的目的而请求位置权限。
类型
规则
适用设备
通用
说明
无
| 描述  | 应用获得相机权限后，不得在用户不知情的情况下进行摄像或者拍照。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用获得相机权限后，不得在用户不知情的情况下进行摄像或者拍照。
类型
规则
适用设备
通用
说明
无
| 描述  | 应用获得麦克风权限后，不得在用户不知情的情况下进行录音。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用获得麦克风权限后，不得在用户不知情的情况下进行录音。
类型
规则
适用设备
通用
说明
无
| 描述  | 除无障碍功能场景，应用不得在非必要的场景下使用无障碍能力。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
除无障碍功能场景，应用不得在非必要的场景下使用无障碍能力。
类型
规则
适用设备
通用
说明
无
| 描述  | 应用不得在非必要场景下限制截屏。只有在涉及用户敏感必要场景下才允许禁用截屏。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用不得在非必要场景下限制截屏。只有在涉及用户敏感必要场景下才允许禁用截屏。
类型
规则
适用设备
通用
说明
无
| 描述  | 应用应合理使用传感器，不得设置过于敏感的阈值，利用传感器实现易造成误触发的交互方式，诱导用户操作。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用应合理使用传感器，不得设置过于敏感的阈值，利用传感器实现易造成误触发的交互方式，诱导用户操作。
类型
规则
适用设备
通用
说明
无

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/experience-suggestions-privacy-ad-identifier-V14
爬取时间: 2025-05-01 08:09:35
来源: Huawei Developer
| 描述  | 应用内使用的广告标识符只能用于广告相关的功能场景。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用内使用的广告标识符只能用于广告相关的功能场景。
类型
规则
适用设备
通用
说明
无
| 描述  | 应用每次使用广告标识符时，都需要验证设备操作系统“限制广告跟踪“或类似设置的状态，如果用户已启用此设置，您不得基于广告标识符收集和使用数据。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用每次使用广告标识符时，都需要验证设备操作系统“限制广告跟踪“或类似设置的状态，如果用户已启用此设置，您不得基于广告标识符收集和使用数据。
类型
规则
适用设备
通用
说明
无
| 描述  | 应用若因业务所需而与任何第三方共享广告标识符，对方也需要遵守广告标识符相关条款。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用若因业务所需而与任何第三方共享广告标识符，对方也需要遵守广告标识符相关条款。
类型
规则
适用设备
通用
说明
无
| 描述  | 广告标识符重置后，在未获得用户明确许可的情况下，新的广告标识符不得与先前的广告标识符或由其衍生的数据相关联。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
广告标识符重置后，在未获得用户明确许可的情况下，新的广告标识符不得与先前的广告标识符或由其衍生的数据相关联。
类型
规则
适用设备
通用
说明
无
| 描述  | 在未获得用户明确许可的情况下，广告标识符(OAID)不得与个人身份信息或任何永久性设备标识符（例如：SN、MAC 地址、IMEI 等）相关联。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
在未获得用户明确许可的情况下，广告标识符(OAID)不得与个人身份信息或任何永久性设备标识符（例如：SN、MAC 地址、IMEI 等）相关联。
类型
规则
适用设备
通用
说明
无

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/experience-suggestions-privacy-deregister-V14
爬取时间: 2025-05-01 08:10:08
来源: Huawei Developer
| 描述  | 涉及帐号体系应用，需提供帐号注销服务且承诺时长不能超过15个工作日。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
涉及帐号体系应用，需提供帐号注销服务且承诺时长不能超过15个工作日。
类型
规则
适用设备
通用
说明
无

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/experience-suggestions-pure-V14
爬取时间: 2025-05-01 08:10:41
来源: Huawei Developer
恶意弹窗
| 描述  | 如无必要的使用场景，应用不得在桌面、锁屏和其他应用上，弹出悬浮窗、自定义后台弹窗等骚扰用户的行为。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 如应用需要弹出界面，建议先以通知形式提醒用户，用户点击后再进入到界面中。需要注意的测试项包括但不限于以下： 不得通过监听系统事件进行任何形式的恶意弹窗； 应用不得在后台进行恶意弹窗。  |
描述
如无必要的使用场景，应用不得在桌面、锁屏和其他应用上，弹出悬浮窗、自定义后台弹窗等骚扰用户的行为。
类型
规则
适用设备
通用
说明
如应用需要弹出界面，建议先以通知形式提醒用户，用户点击后再进入到界面中。需要注意的测试项包括但不限于以下：
不得通过监听系统事件进行任何形式的恶意弹窗；
应用不得在后台进行恶意弹窗。
不得提供虚假信息
| 描述  | 应用不得使用透明或用户无法清晰看到的桌面图标、应用Label。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 需要注意的测试项包括但不限于以下： 应用不得设置透明图标； 应用不得设置隐藏图标； 应用不得设置错误图片格式； 应用不得设置畸形的应用名称。  |
描述
应用不得使用透明或用户无法清晰看到的桌面图标、应用Label。
类型
规则
适用设备
通用
说明
需要注意的测试项包括但不限于以下：
应用不得设置透明图标；
应用不得设置隐藏图标；
应用不得设置错误图片格式；
应用不得设置畸形的应用名称。
| 描述  | 不得在快捷菜单中采用诱导方式欺诈用户，比如“卸载”等字样欺骗用户。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
不得在快捷菜单中采用诱导方式欺诈用户，比如“卸载”等字样欺骗用户。
类型
规则
适用设备
通用
说明
无
不得误导用户
| 描述  | 应用不得引导用户开启开发者选项，不得引导用户开启调试模式。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用不得引导用户开启开发者选项，不得引导用户开启调试模式。
类型
规则
适用设备
通用
说明
无
| 描述  | 应用不得将广告伪装成应用功能误导消费者。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用不得将广告伪装成应用功能误导消费者。
类型
规则
适用设备
通用
说明
无
应用行为
| 描述  | 不得利用漏洞等方式获取系统控制权限，进行非授权操作，如root或管理员权限。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
不得利用漏洞等方式获取系统控制权限，进行非授权操作，如root或管理员权限。
类型
规则
适用设备
通用
说明
无
| 描述  | 应用在启动过程中请勿直接跳转到系统设置页面。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用在启动过程中请勿直接跳转到系统设置页面。
类型
规则
适用设备
通用
说明
无
| 描述  | 非服务所必需或无合理应用场景，不得自启动或关联启动其它应用，如有合理必要场景，需要告知用户并获得用户授权。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
非服务所必需或无合理应用场景，不得自启动或关联启动其它应用，如有合理必要场景，需要告知用户并获得用户授权。
类型
规则
适用设备
通用
说明
无
| 描述  | 应用不得影响终端设备功能，包括但不限于安装后自动修改系统默认配置且用户无法修改、功能键失灵等。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 需要注意的测试项包括但不限于以下： 应用不得通过重写返回键等形式实现延迟/阻碍关闭应用界面的行为。  |
描述
应用不得影响终端设备功能，包括但不限于安装后自动修改系统默认配置且用户无法修改、功能键失灵等。
类型
规则
适用设备
通用
说明
需要注意的测试项包括但不限于以下：
应用不得通过重写返回键等形式实现延迟/阻碍关闭应用界面的行为。
| 描述  | 不得捆绑下载与应用功能无关的其他应用。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
不得捆绑下载与应用功能无关的其他应用。
类型
规则
适用设备
通用
说明
无
| 描述  | 应用内不得提示版本更新、强制更新或存在自更新行为，保证用户下载安全的应用。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 无  |
描述
应用内不得提示版本更新、强制更新或存在自更新行为，保证用户下载安全的应用。
类型
规则
适用设备
通用
说明
无
| 描述  | 应用程序之间不得互相作为守护程序，即不得在用户退出应用时，通过其他应用程序后台唤醒，导致无法彻底退出。  |
| --- | --- |
| 类型  | 规则  |
| 适用设备  | 通用  |
| 说明  | 需要注意的测试项包括但不限于： 应用不得通过息屏、锁屏、联系人、播放音频、壁纸、性能监控、设备管理、计划任务定时等功能，唤醒应用或长期驻留后台； 应用进程不得无法停止，长期驻留后台。  |
描述
应用程序之间不得互相作为守护程序，即不得在用户退出应用时，通过其他应用程序后台唤醒，导致无法彻底退出。
类型
规则
适用设备
通用
说明
需要注意的测试项包括但不限于：
应用不得通过息屏、锁屏、联系人、播放音频、壁纸、性能监控、设备管理、计划任务定时等功能，唤醒应用或长期驻留后台；
应用进程不得无法停止，长期驻留后台。

URL: https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V14/experience-suggestions-ux-V14
爬取时间: 2025-05-01 08:11:15
来源: Huawei Developer
背景及目的
本章节从影响用户体验的各个维度定义了相应的UX质量建议，规定了HarmonyOS NEXT应用需达到的UX基础体验建议，以保证应用良好的交互体验。
适用范围
本章节制定了应用的UX体验建议，适用于应用软件的设计、开发及测试。详见：应用UX体验建议
| 标准类型  | 分类  | 场景  | 说明  |
| --- | --- | --- | --- |
| 通用应用UX体验建议  | 基础体验  | 系统返回  | 所有界面响应系统返回操作，全屏界面提供返回/关闭/取消按钮  |
| 布局基础要求  | 应用支持在不同屏幕尺寸的设备上良好显示  |
| 挖孔区适配  | 界面布局适配摄像头的挖孔区域  |
| 避免与系统手势冲突  | 应用自定义手势与系统手势无冲突  |
| 典型手势时长设计  | 应用使用的典型手势时长合理  |
| 点击热区  | 点击热区不得小于40vp×40vp  |
| 色彩对比度  | 应用使用的色彩满足最小对比度要求  |
| 字体大小  | 应用的文字大小满足最小字号要求  |
| 应用图标  | 应用图标具备前景图层和背景图层，图标尺寸与可见区域尺寸满足要求  |
| 界面图标  | 应用的界面图标大小满足最小尺寸要求  |
| 图标清晰度  | 应用的图标清晰度  |
| 层级转场  | 层级转场采用左右位移的运动方式  |
| 新建转场  | 新建转场采用上下位移的运动方式  |
| 编辑转场  | 编辑转场采用淡入淡出的过渡方式  |
| 搜索转场  | 搜索转场采用共享元素的转场方式  |
| 动效无缺失  | 存在转场动效过渡检查  |
| 转场动效时长下限  | 全屏页面的转场动效时长满足要求  |
| 启动页填充  | 应用启动页填充满足要求  |
| 启动页动效时长  | 应用启动页动效时长满足要求  |
| 滑动过界反馈动效一致性  | 界面滑动到边界位置存在反馈动效  |
| 离手减速动效一致性  | 离手减速动效检查  |
| 系统特性  | 底部导航条适配  | 界面布局适配底部导航条  |
| 通知  | 应用通知设计需遵循通知规范  |
| 实况窗  | 实况窗通知样式需符合设计规范  |
| 多窗适配  | 悬浮窗适配-应用支持以悬浮窗模式运行  |
| 多窗适配  | 分屏适配-应用支持上下分屏和左右分屏  |
| 深色模式  | 应用适配深色模式显示，深色模式下显示正常  |
| 状态栏  | 应用需要对状态栏进行适配显示  |
| 大屏应用UX体验建议  | 功能完整  | 横竖屏适配  | 横竖屏适配检查  |
| 多窗适配  | 多窗适配检查  |
| 鼠标、触控板和键盘交互  | 可交互控件响应光标悬浮  | 当光标悬浮在应用的可交互控件上，控件或者光标需要提供对应的视觉反馈  |
| 支持目标单选  | 对于界面中支持选中态的目标，可使用鼠标或触控板对其进行选择  |
| 支持多目标框选  | 当需要选择多个目标时，可通过框选操作进行选择  |
| 支持多目标连选  | 当需要选择多个目标时，可通过键盘热键+鼠标/触控板进行多目标连选  |
| 支持多目标点选  | 当应用内支持目标多选时，可通过键盘热键+鼠标/触控板进行目标点选  |
| 支持目标点击  | 对于应用界面中可点击的控件，通过光标进行点击，触发对应功能  |
| 支持滑动页面内容  | 当显示的内容超出应用窗口，可通过滑动页面浏览未显示的内容  |
| 支持文本选择  | 在文本内容区域，可对文本进行多选操作  |
| 支持旋转  | 对于界面中支持旋转的目标，可使用鼠标或触控板对其进行旋转  |
| 支持缩放  | 对于界面中支持缩放的目标，可使用鼠标或触控板对其进行缩放  |
| 支持拖移  | 对于界面中支持拖移的目标，可使用鼠标或触控板对其进行拖移  |
| 显示上下文菜单  | 对于界面中支持显示上下文菜单的目标，可使用鼠标或触控板打开上下文菜单  |
| 支持使用外接键盘输文字  | 应用支持使用外接键盘键入文本  |
| 支持全键盘操作  | 应用中的主要任务流支持键盘的焦点导航  |
| 支持常用功能的通用快捷键  | 支持常用功能的通用快捷键  |
| 布局合理美观  | 布局基础要求(大屏)  | 折叠屏在各个形态下显示正常  |
| 图标文字大小适中  | 折叠屏图标文字大小符合要求  |
| 弹出框大小适中  | 折叠屏展开态弹出框高度符合要求  |
| 宫格图片信息量适中  | 宫格图片控件占比符合要求  |
| 广告图信息量适中  | 广告图控件占比符合要求  |
| 上下图文信息量适中  | 上下图文信息量符合要求  |
| 单行文本  | 单行文本字数检查  |
| 边距适中  | 应用左右边距符合要求  |
| 效率型布局  | 效率型应用应使用分栏布局  |
| 浏览型布局  | 浏览型应用应使用宫格/瀑布流等布局  |
| 布局创新  | 折叠屏应在布局视觉提升的创新  |
| 侧边导航栏  | 应用窗口宽度≥840vp时底部导航栏切换为侧边导航栏  |
| 交互易用  | 按钮易点击  | 按钮应避开难交互区域  |
| 键盘易操作  | 键盘按键应避开难交互区域  |
| 弹框易操作  | 弹出框位置易操作  |
| 临时悬浮窗  | 应用内启动临时的需要跨应用或跨实例跳转的任务应使用临时悬浮窗  |
| 临时双窗  | 应用内启动的临时的辅助任务应使用临时双窗  |
| 折叠屏应用UX体验建议  | 基础体验  | 开合连续性  | 应用在开合过程中体验连续  |
| 开合流畅  | 应用在开合过程中动效流畅  |
| 悬停适配  | 应用在悬停态时布局满足要求  |
| 折痕避让  | 应用在悬停态时应避开折痕  |
| 2in1应用UX体验建议  | 窗口响应式  | 支持窗口化运行  | 应用支持窗口化运行  |
| 支持窗口形态转换  | 应用支持通过窗口控制器转换窗口形态  |
| 支持窗口尺寸调节  | 应用支持在可调范围内任意调节窗口大小  |
| 支持分屏和比例调节  | 应用支持分屏和比例调节  |
| 窗口内容状态保持  | 应用窗口在调节时内容保持  |
标准类型
分类
场景
说明
通用应用UX体验建议
基础体验
系统返回
所有界面响应系统返回操作，全屏界面提供返回/关闭/取消按钮
布局基础要求
应用支持在不同屏幕尺寸的设备上良好显示
挖孔区适配
界面布局适配摄像头的挖孔区域
避免与系统手势冲突
应用自定义手势与系统手势无冲突
典型手势时长设计
应用使用的典型手势时长合理
点击热区
点击热区不得小于40vp×40vp
色彩对比度
应用使用的色彩满足最小对比度要求
字体大小
应用的文字大小满足最小字号要求
应用图标
应用图标具备前景图层和背景图层，图标尺寸与可见区域尺寸满足要求
界面图标
应用的界面图标大小满足最小尺寸要求
图标清晰度
应用的图标清晰度
层级转场
层级转场采用左右位移的运动方式
新建转场
新建转场采用上下位移的运动方式
编辑转场
编辑转场采用淡入淡出的过渡方式
搜索转场
搜索转场采用共享元素的转场方式
动效无缺失
存在转场动效过渡检查
转场动效时长下限
全屏页面的转场动效时长满足要求
启动页填充
应用启动页填充满足要求
启动页动效时长
应用启动页动效时长满足要求
滑动过界反馈动效一致性
界面滑动到边界位置存在反馈动效
离手减速动效一致性
离手减速动效检查
系统特性
底部导航条适配
界面布局适配底部导航条
通知
应用通知设计需遵循通知规范
实况窗
实况窗通知样式需符合设计规范
多窗适配
悬浮窗适配-应用支持以悬浮窗模式运行
多窗适配
分屏适配-应用支持上下分屏和左右分屏
深色模式
应用适配深色模式显示，深色模式下显示正常
状态栏
应用需要对状态栏进行适配显示
大屏应用UX体验建议
功能完整
横竖屏适配
横竖屏适配检查
多窗适配
多窗适配检查
鼠标、触控板和键盘交互
可交互控件响应光标悬浮
当光标悬浮在应用的可交互控件上，控件或者光标需要提供对应的视觉反馈
支持目标单选
对于界面中支持选中态的目标，可使用鼠标或触控板对其进行选择
支持多目标框选
当需要选择多个目标时，可通过框选操作进行选择
支持多目标连选
当需要选择多个目标时，可通过键盘热键+鼠标/触控板进行多目标连选
支持多目标点选
当应用内支持目标多选时，可通过键盘热键+鼠标/触控板进行目标点选
支持目标点击
对于应用界面中可点击的控件，通过光标进行点击，触发对应功能
支持滑动页面内容
当显示的内容超出应用窗口，可通过滑动页面浏览未显示的内容
支持文本选择
在文本内容区域，可对文本进行多选操作
支持旋转
对于界面中支持旋转的目标，可使用鼠标或触控板对其进行旋转
支持缩放
对于界面中支持缩放的目标，可使用鼠标或触控板对其进行缩放
支持拖移
对于界面中支持拖移的目标，可使用鼠标或触控板对其进行拖移
显示上下文菜单
对于界面中支持显示上下文菜单的目标，可使用鼠标或触控板打开上下文菜单
支持使用外接键盘输文字
应用支持使用外接键盘键入文本
支持全键盘操作
应用中的主要任务流支持键盘的焦点导航
支持常用功能的通用快捷键
支持常用功能的通用快捷键
布局合理美观
布局基础要求(大屏)
折叠屏在各个形态下显示正常
图标文字大小适中
折叠屏图标文字大小符合要求
弹出框大小适中
折叠屏展开态弹出框高度符合要求
宫格图片信息量适中
宫格图片控件占比符合要求
广告图信息量适中
广告图控件占比符合要求
上下图文信息量适中
上下图文信息量符合要求
单行文本
单行文本字数检查
边距适中
应用左右边距符合要求
效率型布局
效率型应用应使用分栏布局
浏览型布局
浏览型应用应使用宫格/瀑布流等布局
布局创新
折叠屏应在布局视觉提升的创新
侧边导航栏
应用窗口宽度≥840vp时底部导航栏切换为侧边导航栏
交互易用
按钮易点击
按钮应避开难交互区域
键盘易操作
键盘按键应避开难交互区域
弹框易操作
弹出框位置易操作
临时悬浮窗
应用内启动临时的需要跨应用或跨实例跳转的任务应使用临时悬浮窗
临时双窗
应用内启动的临时的辅助任务应使用临时双窗
折叠屏应用UX体验建议
基础体验
开合连续性
应用在开合过程中体验连续
开合流畅
应用在开合过程中动效流畅
悬停适配
应用在悬停态时布局满足要求
折痕避让
应用在悬停态时应避开折痕
2in1应用UX体验建议
窗口响应式
支持窗口化运行
应用支持窗口化运行
支持窗口形态转换
应用支持通过窗口控制器转换窗口形态
支持窗口尺寸调节
应用支持在可调范围内任意调节窗口大小
支持分屏和比例调节
应用支持分屏和比例调节
窗口内容状态保持
应用窗口在调节时内容保持

